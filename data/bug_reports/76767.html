<!DOCTYPE html>
<html lang="en">
  <head>
    <title>76767 &ndash; Refine the exports on all plugins</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "76767 – Refine the exports on all plugins",
                             "show_bug.cgi?id=76767" );
        document.title = "76767 – Refine the exports on all plugins";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "76767 – Refine the exports on all plugins", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Platform
                 bz_component_Runtime
                 bz_bug_76767 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;76767</span>

        <span id="subtitle" class="subheader">Refine the exports on all plugins</span>

        <span id="information" class="header_addl_info">Last modified: 2005-06-19 23:06:19 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=76767&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=76767" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2005-06-19 23:06:19">
  <input type="hidden" name="id" value="76767">
  <input type="hidden" name="token" value="1629851311-GvbJeWhiUXZpV4A6Fssymb2kHJohI7QwDsqm7yDQlb8">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=76767"><b>Bug&nbsp;76767</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">Refine the exports on all plugins</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>Refine the exports on all plugins
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'Refine the exports on all plugins' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Runtime

  (<a href="buglist.cgi?component=Runtime&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.1 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=76767#vote_76767">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>3.1 RC1 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">platform-runtime-inbox</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=platform-runtime-inbox&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=platform-runtime-inbox&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'platform-runtime-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (2)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [osgi] introduce 'friends' concept to bundle namespace sharing"
   href="show_bug.cgi?id=75100">75100</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [osgi] need ability to turn off export filters at runtime"
   href="show_bug.cgi?id=75526">75526</a> 
      </span>
      (<a href="buglist.cgi?bug_id=75100,75526">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2004-10-21 15:00 EDT by <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2005-06-19 23:06 EDT
      (<a href="show_activity.cgi?id=76767">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>19 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="bogofilter+eclipse.org">bogofilter+eclipse.org</option>
                <option value="cagatayk">cagatayk</option>
                <option value="clayberg">clayberg</option>
                <option value="david_williams">david_williams</option>
                <option value="ed.burnette">ed.burnette</option>
                <option value="francois">francois</option>
                <option value="gunnar">gunnar</option>
                <option value="manahan">manahan</option>
                <option value="melm">melm</option>
                <option value="mfaraj">mfaraj</option>
                <option value="mlists">mlists</option>
                <option value="pascal">pascal</option>
                <option value="philippe_mulet">philippe_mulet</option>
                <option value="pombredanne">pombredanne</option>
                <option value="scott">scott</option>
                <option value="slewis">slewis</option>
                <option value="some_guy_coding">some_guy_coding</option>
                <option value="tjwatson">tjwatson</option>
                <option value="wassim.melhem">wassim.melhem</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=17484"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">patch for strict mode</span></b></a>

          <span class="bz_attach_extra_info">
              (15.01 KB,
                patch)

            <br>
            <a href="#attach_17484"
               title="Go to the comment associated with the attachment">2005-01-26 14:12 EST</a>,

            <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=17484&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=17484&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=18682"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">patch for strict mode and friends</span></b></a>

          <span class="bz_attach_extra_info">
              (30.41 KB,
                patch)

            <br>
            <a href="#attach_18682"
               title="Go to the comment associated with the attachment">2005-03-10 22:20 EST</a>,

            <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=18682&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=18682&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=18714"
               title="View the content of the attachment">
          <b>Yet another patch.  </b></a>

          <span class="bz_attach_extra_info">
              (64.47 KB,
                patch)

            <br>
            <a href="#attach_18714"
               title="Go to the comment associated with the attachment">2005-03-11 15:23 EST</a>,

            <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=18714&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=18714&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (2)
            <a id="view_all" href="attachment.cgi?bugid=76767&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=76767&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=76767&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-10-21 15:00:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">The API in Eclipse is maturing.  As a result the need for accessing internal 
classes is decreasing.  Currently all Eclipse plugins export the contents of 
all their jars.  This poses problems for efficiency in the runtime as well as 
renders impossible certain optimizations such as dead code eliminations and 
obfuscation.

To address this I propose that we systematically update our plugins to export 
only the packages that are intended as API.  To accomodate uses of Eclipse 
where access to non-API code is still required, we can introduce the notion of 
strict visibility in the runtime.

In &quot;strict&quot; mode the exports are strictly enforced.  In &quot;loose&quot; mode all 
exports are effectively *.  Warnings may be logged on access to elements not 
strictly visible.

From this there are variations in scope to identify particular plugins as 
strict exporters or even particular plugin dependencies as strict.

Addressing this issue would require changes across all the plugins but only 
after the appropriate mechanisms are put in place in the runtime.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-10-22 10:34:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">Do we also need changes to the compiler to understand the packages that are 
available from a plugin?  Even if we add &quot;strict&quot; and &quot;loose&quot; modes to the 
runtime the PDE will still allow a plugin to compile against the non-API 
packages that are supposed to be hidden.  So the plugin will build but will 
not run because of class loading errors from non-API packages when 
using &quot;strict&quot; mode.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-10-22 15:27:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">Yes.  Some degree of support for this has just been put in.  We need to push on 
it to see if it is enough to give an accurate view of the classpath.

Adding my friend Wassim as I know his love for dynamic class paths burns 
strong...</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-10-22 16:30:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">The compiler provides now some inclusion/exclusion access restrictions which you
can associate on a per classpath entry basis. Any
project/container/library/variable entry can specify some restrictions.

In theory it should meet exactly what you are providing at runtime. PDE could
use the export info to properly set the restrictions on build pathes it computes.
At least, this would be the intent.

The compiler problems are then either ignore/warning or error, which allows for
some degree of flexibility (support got released this week, see more info in
jdt/core buildnotes). UI for these is being added for next week.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-26 10:13:36 EST
        </span>

      </div>




<pre class="bz_comment_text">Moving confirmed bugs/enhancements out of the &quot;inbox&quot;</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-26 14:12:07 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=17484&amp;action=diff" name="attach_17484" title="patch for strict mode">attachment 17484</a> <a href="attachment.cgi?id=17484&amp;action=edit" title="patch for strict mode">[details]</a></span>
patch for strict mode

Attached is a patch to org.eclipse.osgi to implement a strict mode.  This
covers just the runtime and requires some small changes in PDE to enable the
tooling.  More changes are required in if we were to use the JDT filters
support but it actually is separate from the support here.  That is, PDE would
simply restrict plugins to see only those packages that are actually exported
by the plugins they are requiring.

There is an alternative cut on the overall approach.  I'll call it &quot;Buddy
support&quot;.  In this model plugin A would identify its standard exports to be the
set of API.  It would then declare everything else that could ever be exported
in a BuddyExport-Package: header (or some such).  It would also declare a set
of plugins who are buddies.  In strict mode the resolver would limit access to
buddy packages to those plugins on the buddy list.

This allows federations of plugins (e.g., PDE) to declare that a set of plugins
go together and effectively have no API boundaries.  Security is done on a
buddy set basis so buddy packages need not be secured.	Similary, performance
optimizations would be done on a set of buddies together.

Naively, the implemenation of this would be done in the resolver at the point
where an importer (requirer) is choosing from a set of sources for a package. 
Buddy packages simply do not show up for plugins which are not buddies.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-26 14:13:19 EST
        </span>

      </div>




<pre class="bz_comment_text">Adding Tom cause he likes this kind of stuff.

Note to all:  We are mostly just kicking around this idea right now.  If there 
is something easy we can do for 3.1, great.  Otherwise we should defer.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-27 13:24:02 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [osgi] need ability to turn off export filters at runtime"
   href="show_bug.cgi?id=75526">Bug 75526</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-10 22:20:28 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=18682&amp;action=diff" name="attach_18682" title="patch for strict mode and friends">attachment 18682</a> <a href="attachment.cgi?id=18682&amp;action=edit" title="patch for strict mode and friends">[details]</a></span>
patch for strict mode and friends

This is a new patch for implementing strict mode and directed exports to
friends.  

Strict mode is controlled via the osgi.resolverMode property.  &quot;strict&quot; is the
only value supported.  Any other value is currently treated as not strict or
&quot;promiscuous&quot;

Packages which should only be exposed in strict mode are marked with an
&quot;internal&quot; directive.  For example, 
  Export-Package: org.eclipse.internal;internal:=true
&quot;true&quot; is the only valid value to make the package internal.  Importers need
not say anything special.

Friends are implemented using directed exports.  For example, 
  Export-Package: org.eclipse.friend;friends:=friend
The &quot;friends&quot; directive is a XXX separated list (Tom, what can I use as a
separator here?) of bundle symbolic names.  In the example, only the bundle
named &quot;friend&quot; is allowed to import the org.eclipse.friend package.

Friend exporting and importing is not affected by strict mode.	Friend
importers need not say anything special.

Note that this covers the producer driven case where the producer of a plugin
wants to control the consumers of its packages.  This of course requires
apriori knowledge of the consumers.  In the event that additions consumers come
along, the soon to be implemented overrides mechanism can be used to override
the export header and add additional friends.

Alternatively, the producer can be convinced to open their friend list and
allow consumers to declare themselves as friends.  This would be done using the
&quot;mandatory&quot; directive as follows.

The producer P would have 
  Export-Package: org.eclipse.friend;mandatory:=friend=&lt;group name&gt;

The consumer C would have 
  Import-Package: org.eclipse.friend;friend=&lt;group name&gt;,
bundle-symbolic-name=P
Or something to that effect.  The point here is that P puts the package into a
group (note that &quot;friend&quot; here could be any string) and consumers pull it out
of the group.  Any consumer can import from the group but in doing so, must
have explicit knowledge of the group.  I.e., they must know that they are not
doing the normal import.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-11 15:23:17 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=18714&amp;action=diff" name="attach_18714" title="Yet another patch.">attachment 18714</a> <a href="attachment.cgi?id=18714&amp;action=edit" title="Yet another patch.">[details]</a></span>
Yet another patch.  

this new patch has the same function as the previous one but after discussion
with Tom we decided to clean up some of the other implementation.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-12 10:29:41 EST
        </span>

      </div>




<pre class="bz_comment_text">Patch has been released.  Leaving defect open because of other issues 
(tooling, updating manifests etc.)

Note that the directives are now x-friends and x-internal to avoid any future 
collisions with the OSGi spec.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 13:07:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Can you make strict the default for M7 and support an override for
promiscuous/loose/uncontrolled/transitional/whatever you call it? It's not an
API breaking change because internal packages are, by definition, not API.

BTW, I didn't find resolverMode in the OSGi R3 spec. If it's an Eclipse
extension then should it start with something besides &quot;osgi&quot;?
</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 13:10:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Continued from eclipse-dev:

Take a concrete example. Suppose I am writing an RCP Mail application,
completely under my control, and I need to call a method that is in
org.eclipse.help.*  somewhere that opens a web browser. But say that method is
in an internal package. (Ignore the fact that opening a web browser is simple
and there's an API in 3.1 for it for a moment).

Would it be better to:

a) copy possibly big chunks of the Help system into my own packages? Now I have
a fork. If I make a bug fix in this code, how does it relate back to the real
version? The two could diverge. Or,

b) make a small tweak to the Help system in place. If possible, check it out and
rebuild it, so that I could easily create a CVS patch for the change and
contribute that in a bugzilla entry requesting a new API in the next version.
Meanwhile, ship my tweaked version inside my application.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mazen Faraj</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mfaraj&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mfaraj&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 13:16:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=76767#c8">comment #8</a>)
<span class="quote">&gt; &gt; Note that this covers the producer driven case where the producer of a </span >
plugin
<span class="quote">&gt; wants to control the consumers of its packages.  This of course requires
&gt; apriori knowledge of the consumers.  In the event that additions consumers </span >
come
<span class="quote">&gt; along, the soon to be implemented overrides mechanism can be used to override
&gt; the export header and add additional friends.
&gt; Alternatively, the producer can be convinced to open their friend list and
&gt; allow consumers to declare themselves as friends.  This would be done using </span >
the
<span class="quote">&gt; &quot;mandatory&quot; directive as follows.
&gt; The producer P would have 
&gt;   Export-Package: org.eclipse.friend;mandatory:=friend=&lt;group name&gt;
&gt; The consumer C would have 
&gt;   Import-Package: org.eclipse.friend;friend=&lt;group name&gt;,
&gt; bundle-symbolic-name=P
&gt; Or something to that effect.  The point here is that P puts the package into </span >
a
<span class="quote">&gt; group (note that &quot;friend&quot; here could be any string) and consumers pull it out
&gt; of the group.  Any consumer can import from the group but in doing so, must
&gt; have explicit knowledge of the group.  I.e., they must know that they are not
&gt; doing the normal import.</span >

so how exactly do we use this? How does an &quot;additions consumer&quot; say that he is 
a friend of a plugin that has already declared its list of friends? 

</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wassim Melhem</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wassim.melhem&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wassim.melhem&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 13:47:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">as we speak, I am adding an option to the Target Platform preference page to 
be able to turn on/off running in strict mode.

Jeff, you know how I feel about the usage of the word 'promiscuous' :-)  Not 
going to happen.  

If the strict option is selected, the classpath computation will be strict and 
the launch of a runtime Eclipse app will also be done by PDE in that mode 
(implicitly).  This way, your compiler errors/warnings (if any) will match the 
classloading errors (if any)</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 15:28:12 EDT
        </span>

      </div>




<pre class="bz_comment_text">Eric Clayberg wrote on eclipse-dev:
&quot;As I said above, I think turning off internal package access would have a 
devastating effect on the 3rd party plugin community and it isn't something 
that should happen without significant board level discussion.&quot;

Eric makes a good point, so the default can't be strict (as I suggested earlier)
without some higher level discussion. But I hope it can be strict sometime in
the future.

</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 15:40:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">re <a href="show_bug.cgi?id=76767#c11">comment 11</a>: No, we are not proposing to change the SDK default.  Other 
products are free to do as they choose.  Its just a setting in the config.ini

re <a href="show_bug.cgi?id=76767#c12">comment 12</a>: If you are in your own world, do whatever you like.  If you want 
anyone else to play in that world, copy.  Note that in many cases simply 
renaming the plugin is sufficient.  Then hack it to death.  Extremely bad form 
to modify something in someone else's namespace.

re <a href="show_bug.cgi?id=76767#c13">comment 13</a>: the source plugin has to say he is open to having friends.  The 
two approachs are mutually exclusive.

re <a href="show_bug.cgi?id=76767#c14">comment 14</a>: darn!  I like that term.   I will adopt whatever term you give 
me except for &quot;not strict&quot; or derivatives.  Too hard to talk about running in 
not strict mode.

re: <a href="show_bug.cgi?id=76767#c15">comment 15</a>: higher powers or no, such a change to restrict access to 
previously (or newly) available packages is counter productive.</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 15:45:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">Scott Stanchfield wrote on eclipse-dev:
&quot;Put the onus on the guys who use internals. If their plugins break, it's their
problem...&quot;

Mostly I see it as the problem of the user who is trying to get a version of
Eclipse plus a collection of plug-ins from various sources to work together. As
someone who often finds himself answering calls or emails from those users (or
being one himself) this is a big deal to me. Upgrades that break stuff cause all
sorts of problems including lost productivity and a reluctance to take future
upgrades. Enforcing that nobody can use internals is a way to improve the
robustness of the system for ordinary users when upgrades are made.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-14 10:51:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [osgi] introduce 'friends' concept to bundle namespace sharing"
   href="show_bug.cgi?id=75100">Bug 75100</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Ombredanne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pombredanne&#64;nexb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pombredanne&#64;nexb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-18 20:42:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">Jeff,
I would go very slow on that one.
While a great idea in theory, this may be really bad in practice and may weaken
many great open source plugins, slowing down 3.1 adoption.

This WILL break tons of good community plugin.

And if strict-mode is the default, then there MUST be an official API way for a
plugin to work around it programmatically or with some bundle attributes, or at
minimum an easy launcher flag

</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-19 12:18:55 EDT
        </span>

      </div>




<pre class="bz_comment_text">I am late in making comments here, but why do we need a global strict/loose mode
switch here?  Conceptually, everyone seems to agree that strict mode is the
preferred end game and so to create a global loose mode within which you
explicitely restrict access to packages seems like a very bad idea.   Granted we
have a defacto loose mode right now, because of the way everything is exported,
but the loose mode seems like a bad idea.  This is simply begging for people to
do development with two different, incompatible models that will collide when
they go to deploy together.

To accomplish weaning of folks off of internals, shouldn't we simply gradually
remove internal packages from the export lists by moving from '*' exports to
instead using explicit exports?  This is not an API change and can be viewed as
a minor or service version change ('x.x.1') since this is technically a bug fix.
 This can be done on a case by case (bundle by bundle) basis based on percieved
cost to dependents.  It is legitimate to ask dependents to remove internal
dependencies across version changes because technically, they can continue to
deploy using the older version of the bundle since there should be no functional
change across the service version change. 

Maybe I'm not completely grokking the change that is being proposed here.

I do see tremendous value in having a 'friends' concept (see
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [osgi] introduce 'friends' concept to bundle namespace sharing"
   href="show_bug.cgi?id=75100">https://bugs.eclipse.org/bugs/show_bug.cgi?id=75100</a> which predates this
bugzilla) as that would accomplish the need to share non-API packages with a
restricted set of sibling bundles, but in a secure manner.  It also would allow
the gradual closing down (tightening) of public exports while still supporting
known at-large dependents that we know would incur and extreme high cost of
refactoring if cut off suddenly.   In a mature world, though, only sibling
bundles (i.e. those in the same feature or related features) should be friends
and all others should use public api.

I really don't like suggestions of providing means for a plugin to 'workaround'
strict visibility or to force its way on, as a new consumer, onto another
plugin's list of friends.  To do so is a complete defeat of the purpose and be a
huge security risk.  Changing the friends list is something that the producer
should own and constitutes a version change.

Just my $.02  :-)
</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-19 13:29:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">Well, it should be possible on a product base to force a strict mode (strict API
access rules) or to allow access for internal API. For example, Eclipse SDK
could run in a &quot;loose&quot; mode and Rational Studio could run in a strict mode.

The friends concept is fine if you have the time and resources to discover every
possible friend out there. Having said this, I remember some cases where
internal API is used to evolve the possible API for future release. (eg., bug
37723). It would be impossible to get early adopters because there is nothing to
adopt...

I'm also pretty sure that strict rules will cause a lot more code duplication
than we have today (eg., dialogfields, actions, shared images, etc.).</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Ombredanne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pombredanne&#64;nexb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pombredanne&#64;nexb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-19 13:51:10 EDT
        </span>

      </div>




<pre class="bz_comment_text">Mel wrote in <a href="show_bug.cgi?id=76767#c20">comment #20</a> :
<span class="quote">&gt;Conceptually, everyone seems to agree that strict mode is the
&gt;preferred end game and so to create a global loose mode within which you
&gt;explicitly restrict access to packages seems like a very bad idea.  </span >

Conceptually not everyone agrees. 
I do not for what is worth.
At least (and I may not be understanding  everything at hand either ;-) ), not
being able for an external plugin to access all internal packages if the plug-in
author decides to do so is for me a REGRESSION.

As much as I would like the casual plugin developer, or folks which are really
concerned with API compliance to be aware that they are complying (or not) with
the API, I believe that restricting clever use of internals by third parties
which are ready to take the risk is a BAD idea.
See also my comment and others on ed' blog: 
<a href="http://www.eclipsepowered.org/archives/2005/05/17/access-restrictions-brouhaha/#comment-3818">http://www.eclipsepowered.org/archives/2005/05/17/access-restrictions-brouhaha/#comment-3818</a>

I think that the model should be similar to using sun* or ibm* in the Java class
library, with error being the default as Ryan suggests here:
<a href="http://www.eclipsepowered.org/archives/2005/05/17/access-restrictions-brouhaha/#comment-3816">http://www.eclipsepowered.org/archives/2005/05/17/access-restrictions-brouhaha/#comment-3816</a>

This is BAD FORM to ignore the error, but restriction is not system enforced.

Mel wrote in <a href="show_bug.cgi?id=76767#c20">comment #20</a> :
<span class="quote">&gt;To do so is a complete defeat of the purpose and be a huge security risk.</span >
I do not buy the security risk. Let the community decide if they are willing to
take risks by themselves.
If this happens in a way that has NO workaround, then folks will be writing
patches to workaround that, deploying it using feature patches and something
like it.
I think it is better if the backdoor is official and controlled that no back
door at all.
This is an open source project after all :-)
</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-19 15:37:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">Hmm... by those arguments, one should never use private or 'package' access on
java classes and members.  Everything should be public, or at least protected. 
Call me a conventional old fuddy duddy, but that just doesn't seem like a good idea.

Dictating a model that a code module must make its internal workings
programmatically accessible to any and all comers is simply insecure.  That is
exactly how you end up opening up security holes.  It also creates support and
development problems as it makes it very difficult to fix problems in the inner
workings between releases when consumers create dependencies on their current state.

As an example, it is currently possible with certain internal classes to modify
the extension registry.  This allows one to replace core classes (registered via
extension) with dopplegangers.  I know this because I have done this - in order
to supply a replacement subclass of an eclipse core class that was broken.  That
said, I would much rather that the particular core class was patched (yes we
submitted a bugzilla that is since resolved) and that this security hole was
closed.  Why?  Because this means that my own classes provided via extension can
also be replaced on the fly with dopplegangers coming from who knows where. 
This is simply not acceptable for secure applications.  The security hole exists
because (I assume) some other eclipse core (internal) class from a different
eclipse plugin needs to access this particular internal class and so it must be
exported.  That need would be much better served with a 'friends' model.

The friends concept works not by you 'having the time and resouces' to go out
and find every possible friend.  You should normally only be naming sibling code
modules as friends (and even then only as necessary).  Exceptions to this
(naming non-familial modules as friends) would be the exceptional case and hence
that would need to be brought to the producer's attention by the consumer for
possible inclusion in a subsequent version.  The producer developer would not be
expected to go and hunt out all possibilities.

Look, I understand that there is a body of plugins out there (including in my
own organizations's products and indeed my own code) that currently depends
heavily on access to eclipse' internal packages and classes.  However, that is a
legacy byproduct of the immaturity of the public API.  Eventually we want all
that code to be weened of that 'internal' dependency - either through rewriting
that code to only use the current public APIs or by rewriting it to use the
renamed (currently internal) apis if they get promoted to be public.  While it
is true that some internal api is in a 'trial stage' with eventual intent to 'go
public' - it is currently indistinguishable from internal code that is never
meant to go public.  Both are under the 'internal' rubric.  Eventually changing
them to be public itself constitutes a package name change anyway - which forces
a consumer to revise code.  In other words, there is no getting past having to
do some revision of code that depends on internal api - even if that api is
intended to eventually go public.

A better model for putting api out in a 'trial stage' is to use a separate,
public package nomenclature such as 'experimental'.  That would make it distinct
from internal workings that are not meant at all for external consumption. 
While such would be exported publicly, by using the 'experimental' nomenclature,
the consumer would know implicitely that the particular API was still subject to
potential change.

This would keep truly 'internal' code reserved for internal use.  With a
&quot;friends&quot; concept, truly internal code would not need to be exported publicly
ever.  It could be shared only with sibling bundles.  This is completely
analogous to the purpose of Java's 'package' (default) access level.  Eclipse
already has the notion of 'private' (don't export) and 'public' (export) access
and so this (friends) completes the programmatic access control picture.

</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-20 00:39:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=76767#c23">comment #23</a>)

<span class="quote">&gt; As an example, it is currently possible with certain 
&gt; internal classes to modify the extension registry.  </span >

<span class="quote">&gt; I know this because I have done this - in order
&gt; to supply a replacement subclass of an eclipse core 
&gt; class that was broken.  </span >

Well, it's like with a car. You can change an bolts and nuts that are
accessible. IMHO that's a big advantage of open systems.

<span class="quote">&gt; That said, I would much rather that the particular core class 
&gt; was patched (yes we submitted a bugzilla that is since resolved)
&gt; and that this security hole was closed.</span >

Exactly. It's always bette to get the root cause fixed and to get the fix into
the platform. But you said it already ... &quot;I would&quot; ... You can ask 5 persons
and will get 8 opinions about this. That's why you should let this option open.
Everyone can decide himself on a product base what they want to release.

You want secure applications, than feel free to enable the strict mode for your
products.

<span class="quote">&gt; The producer developer would not be
&gt; expected to go and hunt out all possibilities.</span >

Given the release cycles of Eclipse this would mean that you have to wait
several months till you are on the friends lists. Looks promising if you can't
offer/sell features for several months... Customers don't care about
implementation things. They want features. They won't understand why they do
need for Eclipse 3.2 if their feature was working with 3.0...

To tell the truth, I don't think that there will be a &quot;friends&quot; policy that is
open for non Eclipse.org plug-ins.

<span class="quote">&gt; Eventually we want all that code to be weened of 
&gt; that 'internal' dependency - either through rewriting
&gt; that code to only use the current public APIs or by 
&gt; rewriting it to use the renamed (currently internal) 
&gt; apis if they get promoted to be public.  </span >

If you have the time to rewrite everthing that's fine. I don't think that others
do. BTW, there will be nothing to rename from internal to public because in the
strict world you would never discover hot to early adopt features.

<span class="quote">&gt; While it
&gt; is true that some internal api is in a 'trial stage' 
&gt; with eventual intent to 'go public' - it is currently 
&gt; indistinguishable from internal code that is never
&gt; meant to go public.  Both are under the 'internal' rubric.</span >

No, you can't lump this together. In the case I remember (resource mapping), the
API was public for several 3.1 milestones from its beginning because it was
created for everybody. Late in the cycle it was made internal to let it evolve
with feedback from other early adopters, which you will never get in a strict mode.

...

Again, it's fine if you want to create strict products. Eclipse should support
it. But it's totally wrong to force anybody into on specific domain. Instead,
the framework should be able to run in any domain.</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Ombredanne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pombredanne&#64;nexb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pombredanne&#64;nexb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-20 01:11:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Mel, sorry if I do not have the time to put an answer as well written, and
structured as yours ;-)
I agree that access controls are good.
But there must a backdoor.
And I understand -from reading Jeff's comment at least- that one is planned for,
and I want to make sure that my plugin can become a friend of the plugins I
choose. No by default, but it should be possible.

You wrote in <a href="show_bug.cgi?id=76767#c23">Comment #23</a> :
<span class="quote">&gt;Hmm... by those arguments, one should never use private or 'package' access on
&gt;java classes and members.  </span >
No, that is good, but you can also work around it if needed.
Even in the case of a private Java field, methods, and classes, I can always
circumvent Java access control (as long as there is no restrictive security
manager in the loop) and call a private method of another package using
reflection. This is weird but useful in some cases.
Check for a good intro: <a href="http://www.onjava.com/lpt/a/4346">http://www.onjava.com/lpt/a/4346</a>
Do this make Java insecure? No.
Security is managed at another layer, which is a good thing. 
Note also, that whatever security mechanism you put in place at the bundle
level, there is de-facto always a backdoor: SWT and JFace.
They are always available. So I could possibly make an insane hack to filter
anything that happens in the UI and redirect it anyway I want. 
Just to illustrate my point with a fun and silly example:
	public void run(IAction action) {
		Shell shell = window.getShell();
		Menu mb = shell.getMenuBar();
		mb.dispose();
	}
This few lines are removing the top menu bar, and temper with the UI.
Runs perfectly legally. Unless you make SWT part of internals ;-) and close it's
access to everyone.
I would rather do that in a more orderly way if I need to do it.
So I have a hard time to buy the security argument.

<span class="quote">&gt;This is completely analogous to the purpose of 
&gt;Java's 'package' (default) access level.  
&gt;Eclipse already has the notion of 'private' (don't export) 
&gt;and 'public' (export) access and so this (friends) 
&gt;completes the programmatic access control picture.</span >
I completely agree with you.
I am not competent to evaluate if the Java model is in fact good - but if it is,
why not could go as far as reusing its naming (default, protected, private, and
public) for bundle visibility? (as long as the semantics are similar.)
It could make it easier to communicate to a Java crowd :-)

Good languages expose their internals via reflection. 
A good platform like Eclipse should have a similar mechanism.</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">DJ Houghton</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dj.houghton&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dj.houghton&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-20 11:27:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">fyi: I have released changes to the manifests for the core.runtime.* and
core.resources.* plug-ins to include the mark-up for x-friends and x-internal.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-20 17:09:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">In <a href="show_bug.cgi?id=76767#c25">comment#25</a> you write:
<span class="quote">&gt; Even in the case of a private Java field, methods, and classes, I can
&gt; always circumvent Java access control (as long as there is no restrictive
&gt; security manager in the loop) and call a private method of another
&gt; package using reflection.</span >

But that leads right to the point - if the methods are private, then simply
running with a security manager will protect access to them even from a
reflection attack.  If they are public, then you still can do so, but you have
to define permissions and access control.  And that inverses the responsibilities.

If one is not running with a security manager, then I would suggest to you that
the reflection api's present your 'back door'.  In other words, this raises the
barrier for those determined to use internal classes / members without
completely shutting - unless, of course a security mgr is used.  Which is fine.
 To be truly secure, you have to be able to shut the back door.

Regarding instrumenting the UI event handling - that is inherently a public bus.
 Secure / critical code should not be using it for secure messages.

To return this to the original enhancement request that Jeff posted he said the
following in the Description:

<span class="quote">&gt; I propose that we systematically update our plugins to export only the
&gt; packages that are intended as API.</span >

To this, I vote yes (as if my vote mattered at all.  :-)  I do think it should
be handled slowly and carefully over a series of versions.

<span class="quote">&gt; To accomodate uses of Eclipse where access to non-API code is still
&gt; required, we can introduce the notion of strict visibility in the runtime.</span >
&gt;
<span class="quote">&gt; In &quot;strict&quot; mode the exports are strictly enforced.  In &quot;loose&quot; mode
&gt; all exports are effectively *.</span >

This seems worded a little backward since technically the current state is
strict and the change is to enable a 'loose' mode.  To this, I vote &quot;no&quot;.  I
think it will lead to confusion and more deployment / support headaches as
developers work in different modes.  At a minimum, if folks really want to have
this capability, then the default mode should be strict.  You should have to
explicitely set the property to loosen up access control.

Finally, Jeff added the additional 'friends' feature (in <a href="show_bug.cgi?id=76767#c5">comment#5</a>) :

<span class="quote">&gt; There is an alternative cut on the overall approach.  I'll call it &quot;Buddy
&gt; support&quot;.  In this model plugin A would identify its standard exports to
&gt; be the set of API.  It would then declare everything else that could
&gt; ever be exported in a BuddyExport-Package: header (or some such).  It
&gt; would also declare a set of plugins who are buddies.  In strict mode
&gt; the resolver would limit access to buddy packages to those plugins on
&gt; the buddy list.</span >

To this, I vote &quot;yes&quot;.

I think, at this point, I've probably exhausted my $.02.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-24 22:19:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">It appears that we have failed to correctly communicate what is happening.  So, 
here it is in simple terms.

- No regressions
- No breakage of ANY kind
- No API changes
- EVERY thing continues to work as normal, as it always has.

There is a new, added, OPTIONAL function that allows products to decide if they 
want to allow plugins to access internals of each other at runtime.

That's it.

We can have a separate discussion about who should flip that flag and when and 
why but fundamentally, there are people/usecases that want and need to so now 
they have that option.  Thanks to the wizardry of Wassim the Supreme, the PDE 
tooling also uses this information to OPTIONALLY let you konw that you are 
breaking the rules as you write your code.

Summary is that in the time that this discussion has been going on, the changes 
being discussed have been done and released and I'm betting that no one even 
noticed.

Please join me in thanking Wassim for effort above and beyond to make this 
happen.

Closing</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wassim Melhem</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wassim.melhem&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wassim.melhem&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-24 22:33:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">Jeff, you're too kind.

The credit really goes to the Runtime and JDT for the cool technology.  All I 
did was connect the dots.

Hopefully, the confusion about this topic is all cleared up now.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 03:26:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">I share Jeff's opinion. You stood between the hammer and the anvil, and
automated access restrictions definitions for plugin developpers which is a real
plus to all. The greatest diagnostic in JDTCore would be nothing without one
computing the appropriate rules.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 10:33:10 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks for the clarification, Jeff.

Could you please confirm / correct the following interpretations /
misunderstandings?

- So if everything is the same, then if osgi.resolverMode is not set, it
defaults to 'strict', correct?

- A particular deployment of the runtime could be delivered to the customer with
that set to 'loose' (or whatever the value is for loose mode).

- If I have written a bundle and I don't want my internal classes to be
available in the namespace of bundles other than my friends, regardles of the
runtime's resolverMode setting, I now need to use the 'internal=true' directive
in the Export-Package directive.  This seems like a change for me now since I
have to do something extra to protect my internal namespace.

Stepping back larger, is this mode-switch feature consistent with OSGI 4 RFCs? 
If a deployment is running in 'loose' mode, will it be considered conformant to
OSGi 4 ?  If not, is this feature being considered for addition to the standard?

I apologize if I am still misunderstanding this.  I don't mean to be a pill, but
namespace security is a big deal and I want to try to understand what is going
on here.</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 11:31:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=76767#c31">comment #31</a>)
<span class="quote">&gt; Thanks for the clarification, Jeff.
&gt; Could you please confirm / correct the following interpretations /
&gt; misunderstandings?
&gt; - So if everything is the same, then if osgi.resolverMode is not set, it
&gt; defaults to 'strict', correct?</span >

No.  The default is not strict.  We actually did not name that mode as we could 
not come up with a good one.  I wanted &quot;promiscuous&quot; but it got voted down.

<span class="quote">&gt; - A particular deployment of the runtime could be delivered to the customer </span >
with
<span class="quote">&gt; that set to 'loose' (or whatever the value is for loose mode).</span >

Given the previous answer it is sort of the reverse.  A product could decide to 
ship wiht osgi.resolverMode=strict.  same same really.

<span class="quote">&gt; - If I have written a bundle and I don't want my internal classes to be
&gt; available in the namespace of bundles other than my friends, regardles of the
&gt; runtime's resolverMode setting, I now need to use the 'internal=true' </span >
directive
<span class="quote">&gt; in the Export-Package directive.  This seems like a change for me now since I
&gt; have to do something extra to protect my internal namespace.</span >

I'm having a bit of trouble parsing your usecase so I'll just state the way it 
works.
- These directives are completely ignored unless the resolverMode=strict.  The 
only way you can hide something is to a) leave it off the export list 
completely or b) put it on, mark it as x-internal and run in strict mode.  
- x-friends is just like x-internal except that the listed plugins are given 
unencumbered access to the corresponding packages.

Its unclear what you mean is &quot;changing for you&quot;.  Previously you didn't have 
the option to do anything different.  If you don't want to use the new x-
internal markup, don't.  You'll get exactly the same behaviour as before.

<span class="quote">&gt; Stepping back larger, is this mode-switch feature consistent with OSGI 4 </span >
RFCs? 
<span class="quote">&gt; If a deployment is running in 'loose' mode, will it be considered conformant </span >
to
<span class="quote">&gt; OSGi 4 ?  If not, is this feature being considered for addition to the </span >
standard?

The x-* directives are, by definition, additions to the OSGi standard.  
However, OSGi implementations should ignore directives they don't understand so 
bundles written with this markup will still work.  If you run Eclipse in 
promiscuous mode you are effectively telling it to ignore the markup and you 
get standard OSGi behaviour.

<span class="quote">&gt; I apologize if I am still misunderstanding this.  I don't mean to be a pill, </span >
but
<span class="quote">&gt; namespace security is a big deal and I want to try to understand what is going
&gt; on here.</span >

You are not and I agree.  That is precisely why we did this.  Without this 
mechanism you are faced with either hanging it out for everyone with no real 
ability for developers to understand where they have gone astray or you are 
completely locked down and stiffling innovation and experimentation.  The 
latter might be fine in a closed shop but the open source community (as we have 
seen) is very much interested in innovation and experiemntation.

With this mechanism the plugin developers get to express their intent and the 
consumers get to say whether or not that intent should be enforced in their 
environment.  Further, the tooling helps everyone understand what's what. </pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wassim Melhem</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wassim.melhem&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wassim.melhem&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 11:34:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">I have a 75%-finished document that reiterates Jeff's explanations, and has 
pretty pictures to help drive the message home.  Once I finish it, I will link 
to it from here.</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-25 13:41:58 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; No.  The default is not strict.  We actually did not name that mode
&gt; as we could not come up with a good one.  I wanted &quot;promiscuous&quot; but
&gt; it got voted down.</span >

Why not &quot;show_internals&quot; and &quot;hide_internals&quot; which seem to be what this is about.

<span class="quote">&gt; Given the previous answer it is sort of the reverse.  A product could
&gt; decide to ship wiht osgi.resolverMode=strict.  same same really.</span >

Doesn't sound the same to me.  

<span class="quote">&gt; - These directives are completely ignored unless the resolverMode=strict.
&gt;   The only way you can hide something is to a) leave it off the export
&gt;   list completely or b) put it on, mark it as x-internal and run in
&gt;   strict mode.</span >

So what you are saying is that there is no way for me to restrict the runtime
namespace visibility of the internal classes for my bundle because the default
is to launch the runtime with osgi.resolverMode set to not be strict - in which
case nothing I do matters.  Even leaving a package off the export list won't
matter.  My only means of controlling this visibility is to put everything into
the same java package, in the same plugin (so I can seal the jar) and
restricting the access to default-package or private.
 
I feel like an idiot here because I just don't think I'm seeing things the way
that is apparently obvious to everyone else.

In the classic eclipse runtime model, if I don't export a package in my plugin,
then it is not visible to the namespace of others.  That is, the runtime has
been, by default, &quot;strict&quot;.  Have I been in dreamland?  Has that not really been
the case?

I also don't understand statements to the effect that not exporting one's
internal classes is somehow &quot;stiffling innovation and experimentation&quot;.  I just
can't agree with that statement.  It does not aid future innovation to 'enable'
undesireable dependencies on internal implementations - especially those that
are admittedly transient.  In an open-source model, the _source_ code is still
open and someone can easily see what is going on in an internal class by
examining the source and even making a derived implementation.  Source
visibility thus enables innovation and experimentation.  Runtime namespace
visibility is a completely different issue - it manages dependencies and
provides for secure encapsulation.

Otherwise, as stated earlier - you would see everyone clammoring for all open
source projects to make all classes and their member fields &amp; methods completely
public.  That is not the case because it does not make sense.

I have a suspicion that allowing two modes like this for the runtime is a bad
thing.  I believe it will indeed result in more, not less, breakage and support
headaches as bundles created under one model get deployed into the other.

</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-26 12:07:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=76767#c34">comment #34</a>)
<span class="quote">&gt; &gt; Given the previous answer it is sort of the reverse.  A product could
&gt; &gt; decide to ship wiht osgi.resolverMode=strict.  same same really.
&gt; Doesn't sound the same to me.  </span >

The default is not strict.  Your product should set the value accordingly.  If 
your plugins are being installed in some other product, you are not in charge 
and do not get to make these policy decisions.

<span class="quote">&gt; &gt; - These directives are completely ignored unless the resolverMode=strict.
&gt; &gt;   The only way you can hide something is to a) leave it off the export
&gt; &gt;   list completely or b) put it on, mark it as x-internal and run in
&gt; &gt;   strict mode.
&gt; So what you are saying is that there is no way for me to restrict the runtime
&gt; namespace visibility of the internal classes for my bundle because the default
&gt; is to launch the runtime with osgi.resolverMode set to not be strict - in </span >
which
<span class="quote">&gt; case nothing I do matters.  Even leaving a package off the export list won't
&gt; matter.  </span >

You are resisting my statement that everything is the same.  If you do not 
export a package, NO ONE CAN SEE IT.  EVER.  Just like before.  I'm not kidding.

You are completely free to list or not list packages as you see fit.

If you do export a package, you have an ADDITIONAL ability to mark that package 
as internal or define a friend relationship.  Whether or not that directive 
enforced is a policy decision for people controlling the base product.

<span class="quote">&gt; My only means of controlling this visibility is to put everything into
&gt; the same java package, in the same plugin (so I can seal the jar) and
&gt; restricting the access to default-package or private.</span >

Sidenote: spliting packages across plugins is not a good design choice.  You 
might be forced into it by refactoring and API constraints but setting out to 
create a system this way seems strange.

<span class="quote">&gt; In the classic eclipse runtime model, if I don't export a package in my </span >
plugin,
<span class="quote">&gt; then it is not visible to the namespace of others.  </span >

Was true.  Is true.  Will continue to be true.  

<span class="quote">&gt; That is, the runtime has
&gt; been, by default, &quot;strict&quot;.  Have I been in dreamland?  </span >

You are working on a different definition of &quot;strict&quot;.  For you strict = only 
make visible things that are exported.  In OSGi, this is a given.  It is 
impossible to do otherwise.  

Our terminology is, in effect, flavours or your &quot;strict&quot;.  There is the one 
that exports everything that is *listed* regardless of directives (i.e., what 
we call &quot;promiscous&quot;) and the one that pays attention to the directives and 
further restricts exports accordingly (i.e., what we call &quot;strict&quot;).

<span class="quote">&gt; I also don't understand statements to the effect that not exporting one's
&gt; internal classes is somehow &quot;stiffling innovation and experimentation&quot;.  I </span >
just
<span class="quote">&gt; can't agree with that statement.  </span >

I'll let you duke that one out with others in the community.  The &quot;beauty&quot; of 
what we have done is that you can set all your Eclipse instances to run in 
strict mode and you will get exactly what you want.  The other people can leave 
it in promiscuous mode and get what they want.
</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-26 13:05:12 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks, Jeff, for the clarifications.

I think i've been literally interpreting your statement in the Description:  

<span class="quote">&gt;  In &quot;loose&quot; mode all exports are effectively *. </span >

as meaning that all packages and classes would be visible in any library with an
export.  The documentation for the plugin manifest states that :

  * - indicates all contents of library are exported (public)

Is my interpretation incorrect?

On where responsibilities lie - we are trying to establish a pattern where an
application consisting of features/bundles is deployable independent of the
particular runtime deployment - for this to work, certain things about the
runtime have to be consistent across deployments.  I think it is fair to expect
the runtime namespace resolution model to be consistent and for the application
developer to be able to set the terms of his/her code's runtime namespace
visibility.  This is saying that the 'product' is not defined by the runtime
offering, but rather by the set of features that make up the application (which
then runs on the runtime.  This may be a philosophical goal that is not shared
by others on this thread.  </pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-26 15:55:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">The philosophy feels like a good thing but in the end, there are global 
settings in any system and a component that uses mechanisms affected by these 
global settings then necessarily has a dependency on those settings. Since they 
are global, they can only be set in one place.  That, to me, is the difference 
between a &quot;product&quot; and &quot;a wad of plugins/features&quot;.  For example, it doesn't 
matter how many/what features you have installed, there is only one splash 
screen.

Under this model, plugins that use internals of others are setting up a 
dependency on that global setting.  Best practice would be to not do that.</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mel Martinez</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=melm&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=melm&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-26 16:21:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">It is probably a completely separate thread that we should not have here, but
your splash screen analogy does not support your distinction.  It is possible to
start the runtime without showing a splash screen.  It is possible to launch
application-specific splash screens only 'on first use' of an application's bundles.

You did not directly answer my question regarding the meaning of 'In &quot;loose&quot;
mode all exports are effectively *. '   Could you address that?

<span class="quote">&gt; Under this model, plugins that use internals of others are setting up
&gt; a dependency on that global setting.  Best practice would be to not do
&gt; that.</span >

Why enable people to do what you state is not a best practice?

</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-05-31 15:36:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">The initial issues have all been addressed.
Let's find a better place to philosophize :)</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Walter Harley</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;cafewalter.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;cafewalter.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-06 17:28:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">Wassim, did you get anywhere further with the doc mentioned in <a href="show_bug.cgi?id=76767#c33">comment 33</a>?  I'd 
love to see it, even if it's not quite done.  Thanks!</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wassim Melhem</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wassim.melhem&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wassim.melhem&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-06 17:47:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">With the revelation of Deep Throat's identity last week, I think it would be 
good to pace ourselves when it comes to groundbreaking documents :-)

On a serious note, I have been busy putting in fixes for RC2.  Once that is 
out and the focus turns to documentation, I will finish the last bit and 
people on this bug report will be the first to know.</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=76767#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wassim Melhem</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wassim.melhem&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wassim.melhem&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-06-19 23:06:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">Here is a link to the long-awaited document:

<a href="http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/pde-ui">http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/pde-ui</a>-
home/access_restrictions/restrictions.html</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=76767">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=76767">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=76767">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=76767&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=76767" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>