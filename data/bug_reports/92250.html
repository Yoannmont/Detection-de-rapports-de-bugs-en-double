<!DOCTYPE html>
<html lang="en">
  <head>
    <title>92250 &ndash; [Workbench] Excessive amount of Permanent Generation memory reported by the VM</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "92250 – [Workbench] Excessive amount of Permanent Generation memory reported by the VM",
                             "show_bug.cgi?id=92250" );
        document.title = "92250 – [Workbench] Excessive amount of Permanent Generation memory reported by the VM";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "92250 – [Workbench] Excessive amount of Permanent Generation memory reported by the VM", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Platform
                 bz_component_Runtime
                 bz_bug_92250 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;92250</span>

        <span id="subtitle" class="subheader">[Workbench] Excessive amount of Permanent Generation memory reported by the VM</span>

        <span id="information" class="header_addl_info">Last modified: 2011-05-30 10:25:23 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=92250&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=92250" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2011-05-30 10:25:23">
  <input type="hidden" name="id" value="92250">
  <input type="hidden" name="token" value="1629850358-Ay7KqX2Ej1DCi0S5P9rtZsQemdMLKcRyXLcks87B5OI">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=92250"><b>Bug&nbsp;92250</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[Workbench] Excessive amount of Permanent Generation memory reported by the VM</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[Workbench] Excessive amount of Permanent Generation memory reported by the VM
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[Workbench] Excessive amount of Permanent Generation memory reported by the VM' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          NOT_ECLIPSE
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Runtime

  (<a href="buglist.cgi?component=Runtime&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.2 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">All
        All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       critical<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=92250">28 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=92250#vote_92250">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">platform-runtime-inbox</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=platform-runtime-inbox&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=platform-runtime-inbox&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'platform-runtime-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >info, vm

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (20)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - i am getting more and more out of PermGen space problems.."
   href="show_bug.cgi?id=129490">129490</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - OutOfMemoryError due to no perm gen space left"
   href="show_bug.cgi?id=142439">142439</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - variable inspection - out of memeory exception"
   href="show_bug.cgi?id=149795">149795</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - JVM crash with -Xverify:none"
   href="show_bug.cgi?id=150968">150968</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - VM hangs when out of perm gen space"
   href="show_bug.cgi?id=153485">153485</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - OutOfMemoryError: PermGen space"
   href="show_bug.cgi?id=155362">155362</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - random crashes without any errors in log !?"
   href="show_bug.cgi?id=159435">159435</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Out of memory error with Mylar?"
   href="show_bug.cgi?id=164827">164827</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse crashes with an Out Of Memory Exception"
   href="show_bug.cgi?id=167138">167138</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [performance] OutOfMemoryError and workbench abends"
   href="show_bug.cgi?id=168285">168285</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse was killed after creating of &quot;HelloWorld.jsp&quot;"
   href="show_bug.cgi?id=176327">176327</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Consistent Out of Memory Error condition while create managed bean"
   href="show_bug.cgi?id=180040">180040</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - java.lang.OutOfMemoryError: PermGen space"
   href="show_bug.cgi?id=186520">186520</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse inexplicably exits, logs OutOfMemory PermGen error"
   href="show_bug.cgi?id=190910">190910</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - java.lang.OutOfMemoryError"
   href="show_bug.cgi?id=199821">199821</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Memory leak!!!"
   href="show_bug.cgi?id=204993">204993</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse has an &quot;Internal compiler error java.lang.OutOfMemoryError: GC overhead limit exceeded&quot;"
   href="show_bug.cgi?id=219697">219697</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse 3.3.2 crash randomly OPenSuse-gnome"
   href="show_bug.cgi?id=229050">229050</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse crashes without catching the exception"
   href="show_bug.cgi?id=241551">241551</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Win32] Eclipse hangs up when opening any file"
   href="show_bug.cgi?id=295390">295390</a> 
      </span>
      (<a href="buglist.cgi?bug_id=129490,142439,149795,150968,153485,155362,159435,164827,167138,168285,176327,180040,186520,190910,199821,204993,219697,229050,241551,295390">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Permgen memory leak on ant run"
   href="show_bug.cgi?id=130545">130545</a> 
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - VM hangs when out of perm gen space"
   href="show_bug.cgi?id=153485">153485</a> 
  </td>
  </tr>

    <tr>
      <th>&nbsp;</th>

      <td id="show_dependency_tree_or_graph">
        Show dependency <a href="showdependencytree.cgi?id=92250&amp;hide_resolved=1">tree</a>

      </td>
    </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2005-04-21 12:17 EDT by <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2011-05-30 10:25 EDT
      (<a href="show_activity.cgi?id=92250">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>94 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="abraao.isvi">abraao.isvi</option>
                <option value="acabler">acabler</option>
                <option value="account1">account1</option>
                <option value="airform">airform</option>
                <option value="alesinskyy">alesinskyy</option>
                <option value="andrewbass">andrewbass</option>
                <option value="asampaleanu">asampaleanu</option>
                <option value="billy.biggs">billy.biggs</option>
                <option value="bogofilter+eclipse.org">bogofilter+eclipse.org</option>
                <option value="bpasero">bpasero</option>
                <option value="brockj">brockj</option>
                <option value="ccarty">ccarty</option>
                <option value="cpuidle">cpuidle</option>
                <option value="cstach-eclipse">cstach-eclipse</option>
                <option value="daniel_megert">daniel_megert</option>
                <option value="Darin_Swanson">Darin_Swanson</option>
                <option value="david.black">david.black</option>
                <option value="david_williams">david_williams</option>
                <option value="dbennett">dbennett</option>
                <option value="dev">dev</option>
                <option value="didier">didier</option>
                <option value="digulla">digulla</option>
                <option value="dirk.grossmann">dirk.grossmann</option>
                <option value="dirk">dirk</option>
                <option value="duongn">duongn</option>
                <option value="eclipse-bugs">eclipse-bugs</option>
                <option value="eclipse.dserodio">eclipse.dserodio</option>
                <option value="eclipse">eclipse</option>
                <option value="ekuleshov">ekuleshov</option>
                <option value="elias">elias</option>
                <option value="email">email</option>
                <option value="eric_berry">eric_berry</option>
                <option value="evan">evan</option>
                <option value="fg">fg</option>
                <option value="frederic_fusier">frederic_fusier</option>
                <option value="frydzewski">frydzewski</option>
                <option value="fullung">fullung</option>
                <option value="gabriele.garuglieri">gabriele.garuglieri</option>
                <option value="gerry.kessler">gerry.kessler</option>
                <option value="gian.franco.bonini">gian.franco.bonini</option>
                <option value="hendrik">hendrik</option>
                <option value="jamesblackburn+eclipse">jamesblackburn+eclipse</option>
                <option value="jcompagner">jcompagner</option>
                <option value="jed.anderson">jed.anderson</option>
                <option value="jeffmcaffer">jeffmcaffer</option>
                <option value="jerome_lanneluc">jerome_lanneluc</option>
                <option value="jfrantzius">jfrantzius</option>
                <option value="Jim.Adams">Jim.Adams</option>
                <option value="johan.walles">johan.walles</option>
                <option value="john.arthorne">john.arthorne</option>
                <option value="john.bester">john.bester</option>
                <option value="john.oshea">john.oshea</option>
                <option value="jose">jose</option>
                <option value="KetanPadegaonkar">KetanPadegaonkar</option>
                <option value="kevin.b.crocker">kevin.b.crocker</option>
                <option value="kmtong">kmtong</option>
                <option value="laffrac">laffrac</option>
                <option value="litrik_de_roy">litrik_de_roy</option>
                <option value="loskutov">loskutov</option>
                <option value="mail">mail</option>
                <option value="mailtolanger">mailtolanger</option>
                <option value="mbarrs">mbarrs</option>
                <option value="mdean77">mdean77</option>
                <option value="mhilpert">mhilpert</option>
                <option value="mik.kersten">mik.kersten</option>
                <option value="Mike_Wilson">Mike_Wilson</option>
                <option value="mlists">mlists</option>
                <option value="mober.at+eclipse">mober.at+eclipse</option>
                <option value="mohsens">mohsens</option>
                <option value="n.a.edgar">n.a.edgar</option>
                <option value="nboldt">nboldt</option>
                <option value="nikolaymetchev">nikolaymetchev</option>
                <option value="ob1.eclipse">ob1.eclipse</option>
                <option value="oyvind.harboe">oyvind.harboe</option>
                <option value="panagiotis.korros">panagiotis.korros</option>
                <option value="psolanki">psolanki</option>
                <option value="qwang">qwang</option>
                <option value="rngadam">rngadam</option>
                <option value="sean_montgomery">sean_montgomery</option>
                <option value="siberhus">siberhus</option>
                <option value="Silenio_Quarti">Silenio_Quarti</option>
                <option value="simon.goldsmith">simon.goldsmith</option>
                <option value="slubicki">slubicki</option>
                <option value="snorthov">snorthov</option>
                <option value="snpe">snpe</option>
                <option value="steve.robenalt">steve.robenalt</option>
                <option value="tim.morrow">tim.morrow</option>
                <option value="todd">todd</option>
                <option value="tom">tom</option>
                <option value="tomdzk">tomdzk</option>
                <option value="valentam">valentam</option>
                <option value="wayne">wayne</option>
                <option value="wmitsuda">wmitsuda</option>
                <option value="yitaodu">yitaodu</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_x-zip-compressed">
        <td>
            <a href="attachment.cgi?id=35208"
               title="View the content of the attachment">
          <b>stubs for java.lang.management classes for non-Java5 VMs</b></a>

          <span class="bz_attach_extra_info">
              (3.23 KB,
                application/x-zip-compressed)

            <br>
            <a href="#attach_35208"
               title="Go to the comment associated with the attachment">2006-02-22 21:47 EST</a>,

            <span class="vcard"><span class="fn">Chris Laffra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laffrac&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laffrac&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=35208&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=35344"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Memory monitor plugin</span></b></a>

          <span class="bz_attach_extra_info">
              (26.74 KB,
                application/octet-stream)

            <br>
            <a href="#attach_35344"
               title="Go to the comment associated with the attachment">2006-02-24 17:42 EST</a>,

            <span class="vcard"><span class="fn">Brock Janiczak</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=brockj&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=brockj&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=35344&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_application_java-archive">
        <td>
            <a href="attachment.cgi?id=35609"
               title="View the content of the attachment">
          <b>Tweaked version of memory monitor plugin</b></a>

          <span class="bz_attach_extra_info">
              (27.51 KB,
                application/java-archive)

            <br>
            <a href="#attach_35609"
               title="Go to the comment associated with the attachment">2006-03-02 09:42 EST</a>,

            <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=35609&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=42625"
               title="View the content of the attachment">
          <b>Patch to org.eclipse.ui.ide</b></a>

          <span class="bz_attach_extra_info">
              (1.34 KB,
                patch)

            <br>
            <a href="#attach_42625"
               title="Go to the comment associated with the attachment">2006-05-25 15:19 EDT</a>,

            <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=42625&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=42625&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_application_java-archive">
        <td>
            <a href="attachment.cgi?id=75329"
               title="View the content of the attachment">
          <b>Memory Monitor Plugin, version 1.0.1</b></a>

          <span class="bz_attach_extra_info">
              (30.29 KB,
                application/java-archive)

            <br>
            <a href="#attach_75329"
               title="Go to the comment associated with the attachment">2007-08-03 08:55 EDT</a>,

            <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=75329&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (1)
            <a id="view_all" href="attachment.cgi?bugid=92250&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=92250&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=92250&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-21 12:17:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">3.1 I20050413 running under Sun JDK5.0.2.
I've been using the -debug option and noticing that the Heap Monitor window in
the status line reports far less memory than the Windows task manager reports. 
For example, in one workspace, Heap Monitor reported 132M out of 180M used, but
Task manager reported the process was using 343M of VM space and 312M of working
set size. 163M was unaccounted for. That prompted me to investigate.

Using the JConsole program that comes with JDK5, and starting Eclipse with
-vmargs -Dcom.sun.management.jmxremote, I can now see that this unreported
memory is largely due to the &quot;PS Perm Gen&quot; pool. On a workspace I'm running as I
write this, Eclipse Heap Monitor reports 40M of 99M used. In JConsole if I click
on the Memory tab and select Heap Memory Usage, the numbers match with what Heap
Monitor is telling me. If I click on Non-Heap Memory usage, it shows 64M
additional memory in use. 50M of that is in the PS Perm Gen pool, and 14M in the
Code Cache pool. Windows task manager shows 204M of total process memory, 148M
working set. The full command line was:

eclipse.exe -debug -data c:\workspace -keyring c:\keyring -vmargs 
-XX:+UseParallelGC -Dcom.sun.management.jmxremote

I don't know what all the permanent memory is being used for but I'm worried
it's so large and also that it only seems to keep going up and up over the life
of the session. Also I'm bothered that the Heap Monitor only shows a fraction of
the real memory being used. It may lull people into a false sense that less
memory is being used when it may not really be true.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Billy Biggs</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=billy.biggs&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=billy.biggs&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-21 12:41:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">My understanding is that the permanent generation memory is the memory used for
the class object code.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Edgar</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=n.a.edgar&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=n.a.edgar&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-21 13:42:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">Jeff is familiar with the &quot;dark matter&quot; between the total heap size as reported
by  Runtime.totalMemory(), which is what the Heap Status shows.

Do the figures above make sense?  Even with JConsole reporting 64M for Non-Heap
Memory usage, there's still ~40M unaccounted for in the second launch.

Does anyone know if there is API for querying the size of the non-heap spaces?

</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Edgar</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=n.a.edgar&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=n.a.edgar&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-21 13:43:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">I meant &quot;between the total heap size as reported by  Runtime.totalMemory() and
the VM Size in Task Manager&quot;.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jörg von Frantzius</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jfrantzius&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jfrantzius&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-15 12:45:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">I once had a memory leak due to never disposed SWT images, and that had the
effect of increasing the process size as shown by task manager, without that
memory showing up anywhere in java memory diagnostics (i.e. perm space etc). 

So the &quot;dark matter&quot; in my case was actually memory allocated by SWT (probably
through JNI), due to a programming error. 

I just tried with a vanilla 3.1 GA without any 3rd party plugins, giving it a
-Xmx32M maximum heap size and using an otherwise empty workspace with one empty
project in it. Now I see:
10MB Heap + 35MB Non-Heap = 45MB (as reported by JConsole)
                            60MB (process size as reported by Task Manager)

that's 15MB difference, and I'd suspect that to be SWT images.

Is there any way of finding out how much memory currently is allocated by SWT?

My problem is that I must be able to guarantee a maximum process size, and
although I put -Xmx I see the process size totally being out of control.
</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Billy Biggs</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=billy.biggs&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=billy.biggs&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-15 17:24:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">SWT doesn't internally track what objects it allocates, I think this would be
quite expensive.  There are tools though which will tell you how many GDI
objects are being used, and other similar statistics.  For example, some of this
information is gathered by the performance test infrastructure for eclipse.org.
 See these projects in eclipse CVS:

  org.eclipse.test.performance (specifically PerformanceMonitorWindows)
  org.eclipse.test.performance.win32 (JNI code for the above)

Under Linux, I have had success finding memory leaks using 'valgrind' (a linux
memory leak detector), and using 'xrestop' or 'wininfo' which can determine how
many X windows resources are being used per application.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jörg von Frantzius</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jfrantzius&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jfrantzius&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-07-18 13:33:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c5">comment #5</a>)
The Sleak plugin
(<a href="http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-home/dev.html#tools">http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-home/dev.html#tools</a>)
could be of help here. I included it's View in my RCP application, and it shows 
59 Colors + 4 Cursors + 5 Fonts + 31 Images = 99
When I look at the process using procexp, it shows 138 GDI handles. I'm not sure
whether the entities reported by Sleak translate to GDI handles one-to-one. If
that's the case, then where does the difference of 39 handles come from? Does
SWT need an initial set of handles that won't be reported by Sleak?</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-08 09:10:41 EST
        </span>

      </div>




<pre class="bz_comment_text">Hey guys this is getting to be a bad problem for me in 3.2M4. Although the Heap Status doesn't show the memory (it should - maybe through JMX or something?) there is a leak somewhere in permanent memory. I have run out of memory several times this month during export operations. For some reason if usually happens during plug-in or RCP product export. If Heap Status could report permgen memory it would be easier to localize. Please consider increasing the priority on this.</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mike Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Mike_Wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Mike_Wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-10 13:12:09 EST
        </span>

      </div>




<pre class="bz_comment_text">Adding Steve to the CC so he sees the GDI related comments.

Jeff, did you see Nick's questions in <a href="show_bug.cgi?id=92250#c2">comment 2</a>?</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-20 11:00:47 EST
        </span>

      </div>




<pre class="bz_comment_text">The numbers dont' look too far off.  Of course it depends on exactly what you are doing but 60+MB of dark matter is not unheard of.  There are all sorts of things that could be at play here in VM settings, etc.

I agree that it is a bummer that the heap monitor shows only some of the memory.  If there was a consistent way to get it all, I'm sure the UI team would be happy to investigate adding that information.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-20 11:31:17 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok, but doing the same thing over and over should not result in an error running out of permanent memory should it? Just today I switched to 3.2M5 and Sun's JSE6.0 beta (previously I was using 3.2M4 and JSE5.0.6) so we'll see if I can still reproduce the OOM problem. If I can, what extra diagnostic info can I produce that would be helpful?</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ismael Juma</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mlists&#64;juma.me.uk" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mlists&#64;juma.me.uk" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-20 11:40:23 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c7">comment #7</a>)
<span class="quote">&gt; Hey guys this is getting to be a bad problem for me in 3.2M4. Although the Heap
&gt; Status doesn't show the memory (it should - maybe through JMX or something?)
&gt; there is a leak somewhere in permanent memory. I have run out of memory several
&gt; times this month during export operations.</span >

Have you considered increasing the maximum size of the PermGen space? I've never had an OOM with eclipse since I've added the following to my eclipse startup script: -XX:MaxPermSize=256m </pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ismael Juma</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mlists&#64;juma.me.uk" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mlists&#64;juma.me.uk" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-20 11:42:18 EST
        </span>

      </div>




<pre class="bz_comment_text">Of course, it only works with the Sun VM.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-20 12:08:30 EST
        </span>

      </div>




<pre class="bz_comment_text">The memory monitor could easily be retooled to show heap and non-heap usage with the new java.lang.management APIs in Java 5.  Unfortunately, the workbench targets much less than Java 5 so this would need to be in a separate plugin.

<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/MemoryMXBean.html">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/MemoryMXBean.html</a>
</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris Laffra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laffrac&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laffrac&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-22 21:47:06 EST
        </span>

      </div>




<pre class="bz_comment_text">I wrote a plugin that uses the j.l.m API and I simply provided 'stubs' for the classes I use. When runnning on a Java5 VM, the ones from rt.jar are used. When running on a different VM, my stubs are used. Reflection can be used also, but was more work for me, so I opted for stubs instead.

I attached the stubs (which I added to my plugin). The heap view should also use it. 

I concur with Ed Burnetter in that the number provided by j.l.m and Task Mangager are incompatible. Hotspot tends to be ~10MB less, but this seems like a fixed amount to me. IBM Java5 digresses more. I have seen ~30MB not reported, when comparing to Task Manager. Still, the numbers help.
</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris Laffra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laffrac&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laffrac&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-22 21:47:56 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=35208" name="attach_35208" title="stubs for java.lang.management classes for non-Java5 VMs">attachment 35208</a> <a href="attachment.cgi?id=35208&amp;action=edit" title="stubs for java.lang.management classes for non-Java5 VMs">[details]</a></span>
stubs for java.lang.management classes for non-Java5 VMs</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brock Janiczak</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=brockj&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=brockj&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-22 22:02:15 EST
        </span>

      </div>




<pre class="bz_comment_text">WRT using the management beans for getting heap info, a few months ago i wrote a plugin that displays memory pools in the same way as jconsole does (it doesn't do historical though).  If you are interested i can attach it to this bug report.  It wouldn't be too hard to update it to display historical values as well as when garabge colelction events were detected.</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brock Janiczak</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=brockj&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=brockj&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-24 17:42:15 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=35344" name="attach_35344" title="Memory monitor plugin">attachment 35344</a> <a href="attachment.cgi?id=35344&amp;action=edit" title="Memory monitor plugin">[details]</a></span>
Memory monitor plugin

I have attached my memory monitor plugin.  It isn't very good, but it is a starting point.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-02 09:42:25 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=35609" name="attach_35609" title="Tweaked version of memory monitor plugin">attachment 35609</a> <a href="attachment.cgi?id=35609&amp;action=edit" title="Tweaked version of memory monitor plugin">[details]</a></span>
Tweaked version of memory monitor plugin

I improved it a little to add tooltips and fix some problems with scaling the bars.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-06 09:29:32 EST
        </span>

      </div>




<pre class="bz_comment_text">Using this tool I could see PDE product export leaking about 10M of permgen space on every export. Opened <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Permgen memory leak on ant run"
   href="show_bug.cgi?id=130545">bug 130545</a>.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Van Meekeren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=michaelvanmeekeren&#64;yahoo.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=michaelvanmeekeren&#64;yahoo.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-06 09:45:13 EST
        </span>

      </div>




<pre class="bz_comment_text">awesome Ed, feel free to find more of these&lt;grin&gt;</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Van Meekeren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=michaelvanmeekeren&#64;yahoo.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=michaelvanmeekeren&#64;yahoo.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-08 14:32:07 EST
        </span>

      </div>




<pre class="bz_comment_text">This bug has morphed from a report about excessive memory usage to one about improving the memory monitor based on Java5 features.  

I've logged <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [Trim] Update HeapStatus to use java.lang.management APIs in Java 5"
   href="show_bug.cgi?id=130964">bug 130964</a> for this.  For those with votes you might want to move them depending on what you were voting for.
</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Van Meekeren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=michaelvanmeekeren&#64;yahoo.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=michaelvanmeekeren&#64;yahoo.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-08 14:37:07 EST
        </span>

      </div>




<pre class="bz_comment_text">When I say &quot;for this&quot; I mean logged a bug for comments on the memory monitor changes</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-20 20:41:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">MVM what else is there to do here? You have it marked for a milestone that already passed. removing milestone pending clarification.</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-06 21:33:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">Permgen OOM reports that might be related (including this one):
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED NOT_ECLIPSE - [Workbench] Excessive amount of Permanent Generation memory reported by the VM"
   href="show_bug.cgi?id=92250">bug 92250</a>, <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - (Tomcat) server won't shutdown nicely on java.lang.OutOfMemoryError"
   href="show_bug.cgi?id=105629">bug 105629</a>, <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - i am getting more and more out of PermGen space problems.."
   href="show_bug.cgi?id=129490">bug 129490</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse commits seppuka"
   href="show_bug.cgi?id=135420">bug 135420</a>, <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Permgen memory leak on ant run"
   href="show_bug.cgi?id=130545">bug 130545</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Exseption in org.eclipse.pde.internal.runtime.logview.LogView"
   href="show_bug.cgi?id=137475">bug 137475</a>, <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED INVALID - java.lang.reflect.InvocationTargetException while refactoring"
   href="show_bug.cgi?id=137704">bug 137704</a>, <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - OutOfMemoryError: PermGen space in 3.2RC2"
   href="show_bug.cgi?id=139429">bug 139429</a>.</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-18 07:09:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">Why is this bug still in UI land ? My understanding from <a href="show_bug.cgi?id=92250#c21">comment 21</a> is that the Memory monitor issue is captured in <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [Trim] Update HeapStatus to use java.lang.management APIs in Java 5"
   href="show_bug.cgi?id=130964">bug 130964</a>. So I think it should be moved to Runtime.

I'm too getting OutOfMemoryErrors due to lack of perm gen space. Running a pure Eclipse SDK 3.2RC4 under JDK6, I took a Thread dump (Ctrl+Break) to see the perm gen space and it appears that the perm gen space is around 43MB right after startup. (The workbench came up with the Java browsing perspective opened and 1 Java editor opened).</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-23 13:05:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - OutOfMemoryError due to no perm gen space left"
   href="show_bug.cgi?id=142439">Bug 142439</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-23 15:51:55 EDT
        </span>

      </div>




<pre class="bz_comment_text">Please note that numerous users having been commenting and voting (10 so far) on this problem via <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - i am getting more and more out of PermGen space problems.."
   href="show_bug.cgi?id=129490">bug 129490</a>, which should probably be marked as depending on this bug.  I'm concerned that the target for this is not set as 3.2 and that the severity is set to normal.  While it's easy for advanced users to avoid this by bumping up the MaxPermSize, it would be bad if the default config of Eclipse 3.2 final crashed this often for those using Sun's latest VM.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-23 16:51:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">Apparently the Sun VM cannot handle loading a large number of classes unless you use the undocumented and non-standard -XX:MaxPermSize VM argument. The problem is, we cannot add this argument by default to Eclipse because it is not supported by other VMs, and may not be supported by future versions of the Sun VM. When a VM is given a -X option that it does not support, the normal behaviour is to exit immediately.

If anyone experiencing this problem is running with Java 1.6 on a non-Windows platform, it would be interesting to see the output of running &quot;jmap -permstat&quot; on the Java process. This reports more details about the perm memory space usage. In 1.6 this reports memory use of the string pool as well as space used by loaded classes, etc. Here is a link to instructions:

<a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jmap.html">http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jmap.html</a></pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 15:39:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">Geez that's annoying.  Has a loud bug been filed against the Sun VM in case there is a hope for getting the desired (IBM VM?) behavior or maxing MaxPermSize a standard flag for 1.5.0_07 or later?  It's hard to read this situation as something other than &quot;the Sun VM doesn't scale to Eclipse&quot;, even if the various plug-ins could be loading fewer classes.

Unfortunately regular users are likely to interpret this as &quot;Eclipse 3.2 is unstable&quot; or &quot;Eclipse 3.2 is bloated&quot;.  So if it's not resolved it seems like it'll have to be a very visible note both on the dowload page and readme.  

One thing I'm still wondering about is why this seemingly started getting reported so much more with M6.  In my case it did not happened once pre M6, and has been happening very regularly since M6.  Since that time I've resited bumping up my MaxPermSize in order to have a sense for often this would happen to our users, and to encourage myself to keep complaining about it.  But since Eclipse dying this way can cause a perspective reset and is generally disruptive I'm going to have to bite the bullet and use -XX:MaxPermSize now, but am bumping the severity.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 15:54:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just a thought: Can't you check the version of the VM in eclipse.exe and simply allow the necessary parameter if it's a Sun VM and filter it out if it's not?

Alternatively, you could start the VM, catch the error and filter the parameter out if the VM doesn't allow it.

It's a hack but it would get a fairly stable 3.2 out of the door and would buy time to get it fixed properly for 3.2.1/3.3.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 16:12:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">To check the version of the VM you need to start the VM which is an expensive operation, but more than checking the version you need to check the vendor.

We thought about adding a hack like: run, let the startup fail if the vm arg is not recognized and then restart without some vmargs, but parsing the output is not great and we would have to be able to be language independent.
Currently we are leading toward adding sections in the eclipse.ini that would allow to specify vm args based on the vm being used. In order to not start the vm we would check the presence of a file in the vm home since VMs do not seem to have a file selfdescribing themselves.</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 16:18:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Useful link: <a href="http://java.sun.com/docs/hotspot/gc1.4.2/faq.html">http://java.sun.com/docs/hotspot/gc1.4.2/faq.html</a> - question 7.

Mik, out of curiosity are you using Ant or PDE export (<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Permgen memory leak on ant run"
   href="show_bug.cgi?id=130545">bug 130545</a>)? I'm now running on Sun 1.5 VM with all Callisto installed in the hope of reproducing it.</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 16:32:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm rarely run either export in the workspace I work in.  Mind you, I have a slightly odd setup because I work boostrapped in workspace (2):
  1): launched from Windows: only used for CVS synch and PDE export, never see error
  2): launched from (1) as a runtime workspace, Mylar installed, was seeing error 
      once every few days, memory usage 

When I did a bunch of PDE exports in (2) earlier this week I did notice this happen much more quickly so that was probably <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Permgen memory leak on ant run"
   href="show_bug.cgi?id=130545">bug 130545</a>.  I was wondering if I should be suspicious of Mylar but it's memory usage is so minimal (rarely see my HEAP over 150M with a huge workspace) so I doubt it.

But it's great to hear that you're now working from the environment that triggers this.
</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 16:34:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re #31: While it's true that the operation is expensive, it doesn't have to be
done every time.

My suggestion would be to locate rt.jar because it will change whenever a new
VM is installed. When a new rt.jar is found, determine whether it supports the
option (takes 1-2 seconds but only once).

If it does, add the parameter when it's missing or pass it if it was specified.

When the date and size of the file changes, run the check again.

Record this information as a comment in eclipse.ini.</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 17:24:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">I can reproduce it with all callisto plugins installed, but it takes some work.  I had to touch WTP, TPTP, and BIRT functionality before getting the OOME.  I read somewhere about extra perm gen space being used when a debugger is attached, but I can't find it now.  Mik, your ease of reproducing may be related to your setup. Have you seen it happen when not in a workspace connected to a debugger?</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-24 19:05:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm not sure if I have 'ease' reproducing it... I use Eclipse a lot every day which is probably why I'm seeing it every few days, since it seems related to amount of usage.  

And yes, I'm launching runtime workspaces and connected to a debugger pretty much constantly, so that could be a lead.</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:07:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Ok.  After some investigation of approaches to add the -XX:MaxPermSize argument for Sun VMs only, we have decided against doing this for 3.2.  We must support a vast number of permutations of VM versions, vendors, platforms and locales, and our confidence in reliably detecting the VM vendor and version is not high.  Any changes to the Eclipse startup routine need to be highly reliable and performant, and this point in the release isn't the time to be messing with it. I have entered <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WONTFIX - [launcher] Support for VM-specific eclipse.ini options"
   href="show_bug.cgi?id=143799">bug 143799</a> to investigate support for VM-specific arguments in a future release.

Having said that, clearly many users will come across &quot;perm gen&quot; problems and we want to do something in 3.2 to ease this pain.  We currently have a custom dialog that is presented to the user when they have run out of memory.  This dialog currently just advises using the -Xmx argument to address OutOfMemoryErrors, which clearly does not help when it is permanent generation space that is exhausted.  We are going to update this dialog to direct users to the &quot;Running Eclipse&quot; section of the readme file.  In this section, we will have a prominent sub-heading on addressing memory problems where we will explain the problem in more detail and suggest using -XX:MaxPermSize when running on a Sun VM.  The same sub-section will appear in the Help section under Workbench User Guide &gt; Tasks &gt; Running Eclipse.  We can't save users from hitting this the first time, but we can help them solve it if it does occur.</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris Laffra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laffrac&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laffrac&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:14:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">When the exception is thrown, its getMessage() message will return &quot;PermGen space.&quot; 
The special custom dialog John mentions could check for 

        e.getMessage().indexOf(&quot;PermGen&quot;) != -1

In that case a more intelligent and direct message can be given, instead of suggestion -Xmx settings, or referring to another document.</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:19:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=42625&amp;action=diff" name="attach_42625" title="Patch to org.eclipse.ui.ide">attachment 42625</a> <a href="attachment.cgi?id=42625&amp;action=edit" title="Patch to org.eclipse.ui.ide">[details]</a></span>
Patch to org.eclipse.ui.ide

This patch changes the &quot;out of memory&quot; error message to provide more helpful steps to the user.</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:20:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">SSQ, MV, Mcq, do you approve this message change for RC6?</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:23:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">Chris, we considered that, but assumed it would not work on other locales.  We even considered tweaking the eclipse.ini file for free if we saw that error, but not sure how reliable that message is.</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris Laffra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laffrac&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laffrac&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:27:25 EDT
        </span>

      </div>




<pre class="bz_comment_text">I understand the concern about NLS support. 

However, I seriously doubt Hotspot would translate &quot;PermGen&quot;. How cryptic a message is that already? How would that translate to French? German?</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Silenio Quarti</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Silenio_Quarti&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Silenio_Quarti&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:44:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">+1</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Valenta</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=valentam&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=valentam&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:47:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">+1</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mike Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Mike_Wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Mike_Wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 15:51:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">Chris, we are well past the point where we should be putting in code that *guesses* that it can detect the message correctly. By only changing the message to refer to the readme, we can provide considerably better descriptions (than would have been possible in the dialog) of how to deal with both situations, without making *any* code changes. This is the correct fix for R3.2.

However, I would leave this bug open as a reminder for us to do further investigation post-R3.2.

+1 for John's patch.
</pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eugene Kuleshov</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ekuleshov&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ekuleshov&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 16:04:24 EDT
        </span>

      </div>




<pre class="bz_comment_text">As Mik Kersten pointed out it will lead to really big disappointment within average and new Eclipse users. If I am not mistaken, default setting -Xmx256m will create 64Mb PermSize, which is definetely not enough for most common Eclipse installs (especially with all Callisto stuff on top).

Looking at the odds of running non Sun VM by most of the Eclipse users, it would really make sense to increase default Xmx and maybe even add reasonable -XX:MaxPermSize=... to eclipse.ini

As far as I know there is a bundled Eclipse version for IBM JVM, so eclipse.ini can be changed up there.</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 16:05:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">Since we are leaving this open I'm removing the target milestone. However, the message change has been released for RC6.</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 16:22:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Eugene, there is no relationship between the maximum heap and the perm gen size.  The default max perm gen is 64MB regardless of your heap size. See <a href="http://java.sun.com/docs/hotspot/gc1.4.2/faq.html">http://java.sun.com/docs/hotspot/gc1.4.2/faq.html</a> question 30.

We can't add -XX:MaxPermSize to eclipse.ini because it is not a supported standard VM argument - other VMs such as JRockit, GCJ, IBM, will fail to start when provided with that argument. Even the Sun VM may not support this argument in future versions. From <a href="http://java.sun.com/docs/hotspot/VMOptions.html">http://java.sun.com/docs/hotspot/VMOptions.html</a>:

&quot;Because the -XX options have specific system requirements for correct operation and may require privileged access to system configuration parameters, they are not recommended for casual use. These options are also subject to change without notice.&quot;</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eugene Kuleshov</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ekuleshov&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ekuleshov&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 16:41:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c48">comment #48</a>)
<span class="quote">&gt; Eugene, there is no relationship between the maximum heap and the perm gen
&gt; size.  The default max perm gen is 64MB regardless of your heap size. See
&gt; <a href="http://java.sun.com/docs/hotspot/gc1.4.2/faq.html">http://java.sun.com/docs/hotspot/gc1.4.2/faq.html</a> question 30.</span >

That is true, but in my experience WTP and its dependencies don't really fit into 256mb of heap memory, especially if you doing something more advanced then hellp worls apps.

<span class="quote">&gt; We can't add -XX:MaxPermSize to eclipse.ini because it is not a supported
&gt; standard VM argument - other VMs such as JRockit, GCJ, IBM, will fail to start
&gt; when provided with that argument. Even the Sun VM may not support this argument
&gt; in future versions. From <a href="http://java.sun.com/docs/hotspot/VMOptions.html">http://java.sun.com/docs/hotspot/VMOptions.html</a>:
&gt; 
&gt; &quot;Because the -XX options have specific system requirements for correct
&gt; operation and may require privileged access to system configuration parameters,
&gt; they are not recommended for casual use. These options are also subject to
&gt; change without notice.&quot;</span >

This is also a valid point. However it can be resolved by documenting it for this fraction of the users who don't run Sun JVM. Besides, neither  JRockit or GCJ are listed as supported platforms for Eclipse 3.2 project plan. <a href="http://www.eclipse.org/eclipse/development/eclipse_project_plan_3_2.html">http://www.eclipse.org/eclipse/development/eclipse_project_plan_3_2.html</a>  I believe GCJ is packaging their own bundle, so they can change eclipse.ini accordingly.

So, the trade of is to make *all users* to deal with this permgen issue or use reasonable defaults that would work for majority of users that running on Sun's JVM.

If you like you can create separate downloads for Sun JVM and for all others, which will be only different by eclipse.ini</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Steve Robenalt</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=steve.robenalt&#64;amdocs.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=steve.robenalt&#64;amdocs.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-25 19:32:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">Found this bug after noticing my Win XP showing signs of memory issues. I'm running 3.2 RC5 with jdk 1.4.2_05 and noticed that 3.2 was showing about 2X the memory usage I usually see with 3.1.2 under similar conditions. 

I restarted Eclipse 3.2 RC5 and started repeating what I was doing (relatively benign plugin development) while watching the Windows memory monitor. I saw small changes as different plugins were activated (as I would expect) when I navigated around the workspace. I noticed that a build seemed to trigger a larger-than expected chunk of memory allocation, so I turned off auto build and launched a few clean/build cycles. These seemed to suck up a bit of memory each time, so I turned auto build back on and went back to editing single .java files. Each time I saved, a little more memory was allocated (200-400K).

Strangely, when I finished my testing and switched to my browser to post this message, I noticed that memory consumption jumped by approximately 20M with nothing else happening.

I'll continue playing with it tonight, but thought the observation was worth noting. If I were to guess, I'd suspect the JDT builder is leaking memory, but that's just a guess. I don't know where the 20M went, but will look for that as well now that I know what I'm looking for.</pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 15:19:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">I wonder if two things couldn't be causing the excessive permgen use in 3.2:

1) The new style NLS messages, which use more String memory that never gets unloaded, and
2) PDE builds and exports use AntRunner and an in-process instance of Ant (loaded in a strange way with a special classpath and reflection to get org.eclipse.ant.internal.core.ant.InternalAntRunner).</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Swanson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Darin_Swanson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Darin_Swanson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 15:45:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just a note that PDE UI / PDE builds use of AntRunner is not new for 3.2. Plugin export has used the Ant support since 3.0; product export since 3.1. 
I have made very limited changes to the AntClassLoader / AntRunner support in 3.2.</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 15:54:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">And the NLS support has been added in 3.1 to reduce the usage of memory by not having all the message keys loaded in memory.</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 16:17:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">People, there is no big mystery to be solved here.  Eclipse/Callisto has just gotten to the point where it more frequently exceeds the arbitrary perm gen limit imposed by the Sun VM.  We had the exact same issue in the past when we surpassed the arbitrary VM limit on Java heap size (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Increase default VM size"
   href="show_bug.cgi?id=89059">bug 89059</a>).  The only difference in this case is that there is no VM independent way of increasing this limit.

I'm not precluding the possibility of leaks, but this is mainly an issue of incremental growth over time that is finally approaching the threshold.  Other large Java-based applications frequently use an increased maximum perm gen, or advise their users to do so. The outstanding issue in this bug is to determine if there is a way we can work around the limitations of the Sun VM without affecting users on other VMs.</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 16:47:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">Isn't it true though that the messages themselves are often longer than the keys, and once they get in memory they won't get out? Also I believe more plug-ins are using the new NLS system than in 3.1.

While the static permgen usage may be a problem, I'm more worried about the cases where a developer wants to keep Eclipse running all the time, but has to shut it down every so often (or have it crash) because of permgen memory eventually running out. Do you need to put in an option that recycles Eclipse on a regular schedule during idle times? :)</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 17:02:04 EDT
        </span>

      </div>




<pre class="bz_comment_text">Ed, the whole point of the new NLS format was to reduce memory usage.  Please review this document, particularly the &quot;Performance&quot; section:

<a href="http://www.eclipse.org/eclipse/platform-core/documents/3.1/message_bundles.html">http://www.eclipse.org/eclipse/platform-core/documents/3.1/message_bundles.html</a>
</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eugene Kuleshov</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ekuleshov&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ekuleshov&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-26 23:03:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">By the way, this just had been posted for 1.5_07
See release notes at <a href="http://java.sun.com/j2se/1.5.0/ReleaseNotes.html#150_07">http://java.sun.com/j2se/1.5.0/ReleaseNotes.html#150_07</a>
Not sure if it would dup PermGen area...

------
Bug ID:   	 6280629
Synopsis 	Need ability to dump the heap at OutOfMemoryError
Category 	java:serviceability
Release Fixed 	mustang(b43)
State 	Closed, fixed
Related Bugs 	6284656 , 6321286
Submit Date 	05-JUN-2005

When java.lang.OutOfMemoryError is thrown because the heap or perm space is full it would be desirable to dump the java heap to a file. For example, if the VM were to dump the heap in HPROF binary format then we could browse the heap using jmap.

 xxxxx&#64;xxxxx  2005-06-05 19:47:16 GMT
This was added in b43. If an application runs with -XX:+HeapDumpOnOutOfMemoryError then the heap will be dumped to a file when OutOfMemoryError is first thrown. Another option can be used to configure the name/location of the dump if required (default is java_pid&lt;pid&gt;.hprof in the working directory).</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-28 13:44:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">A few points:

- A lot of people use the Sun VM
- All of them will run in the issue
- If another VM is started with the -XX option, you will get a reasonable error
- If -XX is missing using the Sun VM, you won't get a useful error (with OOM errors, you can never be sure that the user will see anything at all).

Therefore, I'd strongly suggest to put the -XX option into the default .ini file because then, Sun users will be safe and all others will see an error dialog that there is an option which their VM doesn't understand.

When they look into the ini file, they'll see a comment explaining the situation.

This way, *all* users will *always* get a meaningful error message *and* they will see it just once *and* early *and* none of them will loose any work.

As was said earlier, poking around in error messages and trying to catch these errors and saying &quot;Oops, Sorry, too bad!&quot; just doesn't cut.</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-29 07:23:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">I personally think it is much worst to, out of the box, not start on all platforms. It gives the impression that we actually only support a few platform out of the set we claim supporting. This will start a flow of bugs but worst of blogs and bad advertisement.</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mike Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Mike_Wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Mike_Wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-29 09:57:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re <a href="show_bug.cgi?id=92250#c58">comment #58</a>: &quot;A lot of people use the Sun VM - All of them will run in the issue&quot;
    Actually, I use the Sun VM constantly, and have never seen this issue. 
    Mind you, I run on an a Mac, so that may be the difference.

Re <a href="show_bug.cgi?id=92250#c59">comment #59</a>: &quot;it is much worst to, out of the box, not start on all&quot;
    I agree with Pascal. See for example: <a href="http://www.netbeans.org/issues/show_bug.cgi?id=58905">http://www.netbeans.org/issues/show_bug.cgi?id=58905</a>
    They looked at putting in a &quot;detect the VM&quot; hack but decided against it.
    Instead they are thinking about using an installer to configure the command
    line arguments. There are problems with this, as well -- for example, what
    happens when you change VMs after you've installed? [Yes, I know most
    people don't do that] -- but that's something we could investigate in R3.3
</pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-29 15:58:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re <a href="show_bug.cgi?id=92250#c59">comment #59</a>: &quot;it is much worst to, out of the box, not start on all&quot;

Is it better to have a place where you know it breaks and where everyone can fix it very easily (just comment out one line in the .ini file) or is it better to have a spurious crash &quot;somewhere&quot;?

I always prefer to die early with a meaningful error message instead of the &quot;Fuck, it crashed again! What is it with this shit? Can't they write stable stuff?&quot;

The first impression might be that there is a problem but when the users see the guidance to fix the problem, they will feel being cared for and they will quickly forget this (and might even be relieved).

If Eclipse crashes once a week or month for some developers, especially those, who use it a lot, they won't forget and they will feel more and more upset.

Plus: Imagine the bug reports.

In my scenario, the bug reports will be &quot;Eclipse says unknown option -XX..&quot;. Easy to recognize and fix.

In your scenario, the bug report will be &quot;Eclipse crashed with OOM&quot;. One million possible reasons.

At least, if we don't add the -XX option to the .ini file, we should check for the java version (1.5) and display a once-in-a-lifetime dialog on startup which says &quot;Hello, there is a bug ... do this and that. Thank you.&quot;</pre>
    </div>

    <div id="c62" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-29 16:00:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">I think that the dialog should say &quot;Use a industrial quality VM&quot; :)</pre>
    </div>

    <div id="c63" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-30 17:35:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">In my testing it looks like 3.2 has higher permgen requirements compared to 3.1 even though overall memory requirements have gone down. Is it possible some of the memory or performance enhancements had the side effect of moving more objects into the permanent generation?

Using Sun JDK 1.6.0-beta2-b84, looking at allocated Perm Gen size in K in the Memory Monitor view:

                    Eclipse:   3.1.0    3.2RC5   Increase

open w/blank workspace (avg):  17474    20829    19.2%
open w/my dev workspace (avg): 21391    24281    13.5%
export the Hello plugin
 (peak after several tries):   39922    51330    28.6%

If you were close to the MaxPermSize limit before then this kind of increase could push you over.

At least this time after the exports the PermGen size spikes eventually came back down, though it sometimes took a while. (I've seen cases where the spikes piled on top of each other and caused an OOM. Let's hear it for non-deterministic memory allocation.)</pre>
    </div>

    <div id="c64" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Randy Hudson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hudsonr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hudsonr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-31 09:47:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">has the use of String#intern() gone up in the latest release? I know that this call was avoided in the past because certain VMs would never release the memory of an interned string.</pre>
    </div>

    <div id="c65" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-31 09:57:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">String#intern() is the only way I know of to transfer memory from the heap into perm gen space.  I did a review of all users of intern() in the SDK and found none that we haven't had for a long time. We generally only intern strings found in small quantities. Our biggest use of intern() is to intern preference keys, but we have been doing this for a long time (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Plugin preference importer should intern strings"
   href="show_bug.cgi?id=20534">bug 20534</a>).  I have not reviewed other Callisto projects for use of interning.  The Sun VM does garbage collect unreferenced interned strings, so this would not cause a leak, but it would increase PermGen usage.</pre>
    </div>

    <div id="c66" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Randy Hudson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hudsonr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hudsonr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-31 10:40:04 EDT
        </span>

      </div>




<pre class="bz_comment_text">There seems to be some use in Xerces, which is used by Callisto, but I'm not familiar with the places where it's invoked to know whether it's involved in reading client's files.</pre>
    </div>

    <div id="c67" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-31 11:48:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">I don't know about you guys but I still see lots of permgen usage with just the Eclipse SDK, no Callisto extras.

Do any profiling tools let you look at objects grouped by generation?

FWIW, under JDK6 with a 3.1.0 session I left up overnight (open w/dev workspace after export), the Memory Monitor shows 3 other non-heap areas but they aren't very big. As I write this, it says &quot;Code cache&quot; used 4M of 32M max, &quot;Perm Gen [shared-ro]&quot; used 5M of 8M, and &quot;Perm Gen [shared-rw]&quot; used 7M of 12M. The numbers I gave were for plain &quot;Perm Gen&quot;. By way of comparison, in the regular Heap area, &quot;Tenured Gen&quot; is currently the biggest with 9M used of 242M max.

I closed that session and started up a 3.2RC5 session and got it to the same state and forced a garbage collection. All the numbers except plain &quot;Perm Gen&quot; are about the same as 3.1.0: &quot;Code cache&quot; is at 4M of 32M max, &quot;Perm Gen [shared-ro]&quot; is at 5M of 8M, and &quot;Perm Gen [shared rw]&quot; is at 6M of 12M. &quot;Tenured Gen&quot; is currently at 11M of 242M max.

I hope this information is of use to somebody.

Maybe memory usage in all generations should be included in the performance results so it can be tracked over time.</pre>
    </div>

    <div id="c68" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Williams</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=david_williams&#64;acm.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=david_williams&#64;acm.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-19 02:18:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - i am getting more and more out of PermGen space problems.."
   href="show_bug.cgi?id=129490">Bug 129490</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c69" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 09:35:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">In this article <a href="http://www.ddj.com/dept/java/188700760?pgno=5">http://www.ddj.com/dept/java/188700760?pgno=5</a> the author acknowledge the need for setting the permgen space.</pre>
    </div>

    <div id="c70" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 09:45:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">So should Eclipse have a recommend default value set the eclipse.ini file?</pre>
    </div>

    <div id="c71" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 10:00:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re <a href="show_bug.cgi?id=92250#c70">comment #70</a>: Please read <a href="show_bug.cgi?id=92250#c48">comment #48</a>.

As commented in <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - i am getting more and more out of PermGen space problems.."
   href="show_bug.cgi?id=129490">bug 129490</a>, this problem seems to be less common with JDK 1.5.0_7.</pre>
    </div>

    <div id="c72" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 14:48:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">The DDJ article says &quot;Java 5.0 adds a permanent generation for VM data that is never garbage collected.&quot;. Since I originally made this bugzilla entry I've seen it go up and down (according to MM.UI and JConsole), so what makes it go down, and what delays it from going down? (Note I switched to JDK6 a while back though).

I really hate these fixed maximums. Wasn't there some kind of memory ergonomics thing Sun was supposed to be doing? ...google... Ah here it is: <a href="http://java.sun.com/javase/6/docs/technotes/guides/vm/gc-ergonomics.html">http://java.sun.com/javase/6/docs/technotes/guides/vm/gc-ergonomics.html</a> (unchanged from Java 5). It doesn't say anything about permgen though.

That gives me an idea. Just as an experiment, could people still having OOM permgen problems try these things and see if it has any effect:
1. Try adding -server as the last line of config.ini and restart Eclipse.
2. Try removing config.ini altogether and restart Eclipse.
(config.ini is in your Eclipse install directory)

If either of these happened to solve the problem (I doubt it, but ...) then I think both the Sun and IBM JREs could work with those options.</pre>
    </div>

    <div id="c73" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 15:02:25 EDT
        </span>

      </div>




<pre class="bz_comment_text">I think the line in the DDJ article about Perm gen being introduced in 1.5 is wrong.  There are numerous references to perm gen in 1.4 in, for example:

<a href="http://java.sun.com/j2se/1.4.2/ReleaseNotes.html">http://java.sun.com/j2se/1.4.2/ReleaseNotes.html</a>

It may be worth trying with the -server VM, but it has at least one serious perm gen leak that hasn't been resolved:

<a href="http://bugs.sun.com/bugdatabase/view_bug.do;:WuuT?bug_id=4957990">http://bugs.sun.com/bugdatabase/view_bug.do;:WuuT?bug_id=4957990</a></pre>
    </div>

    <div id="c74" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-07-06 09:49:26 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - variable inspection - out of memeory exception"
   href="show_bug.cgi?id=149795">Bug 149795</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c75" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Da Fork</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digifork&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digifork&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-07-20 18:59:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">I used to get a few PermGen crashes a day (even with MaxPermGen set to 256m).

I have been running on JRE 1.5.0_07 for a couple of days now without a crash. It seems that Eclipse 3.2 exacerbated the JVM PermGen memory leak bug that was fixed in 1.5.0_07.</pre>
    </div>

    <div id="c76" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Steve Northover</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=snorthov&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=snorthov&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-04 09:23:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse hangs randomly"
   href="show_bug.cgi?id=146800">Bug 146800</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c77" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-08 09:50:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse hangs on Linux requiring a Force-quit or kill -9 to terminate it"
   href="show_bug.cgi?id=153010">Bug 153010</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c78" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Barnes</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cocoakevin&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cocoakevin&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-08 12:38:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - JVM crash with -Xverify:none"
   href="show_bug.cgi?id=150968">Bug 150968</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c79" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mike Dean</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mdean77&#64;comcast.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mdean77&#64;comcast.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-26 15:48:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">I am getting this error nearly every time I export an RCP, using OSX with 2 gigs RAM, with the following fairly ridiculous settings in eclipse.ini:

-XX:MaxPermSize=512m
-vmargs
-Xms512m
-Xmx1024m

My set up is relatively full, but I do not touch most of the Callisto items.  My heap size is never reported above 100 megs.   I am simply working on an RCP, with Hibernate, HSQLDB, Jess, and Jigloo as the only non-standard items being used.  I have not touched BIRT or other portions of Callisto.  The JDK is from Apple and is the Sun 1.5.0_06 version. 

</pre>
    </div>

    <div id="c80" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Williams</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=david_williams&#64;acm.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=david_williams&#64;acm.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-26 16:14:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c79">comment #79</a>)
<span class="quote">&gt; ... with the following fairly ridiculous settings in eclipse.ini:
&gt; 
&gt; -XX:MaxPermSize=512m
&gt; -vmargs
&gt; -Xms512m
&gt; -Xmx1024m
&gt; </span >

Literally? the -XX:MaxPermSize=512m is a vm argument and in fact needs to 
follow the -vmargs line. 


<span class="quote">&gt;  The JDK is from
&gt; Apple and is the Sun 1.5.0_06 version. 
&gt; </span >

Some have reported _07 is &quot;much better&quot; and previous versions with respect to permGen problems. 

</pre>
    </div>

    <div id="c81" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-28 09:33:17 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - OutOfMemoryError: PermGen space"
   href="show_bug.cgi?id=155362">Bug 155362</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c82" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-02 06:58:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - random crashes without any errors in log !?"
   href="show_bug.cgi?id=159435">Bug 159435</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c83" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pascal Rapicault</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pascal&#64;rapicorp.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pascal&#64;rapicorp.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-12 12:57:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - JVM crash at random intervals on SUSE 9 with Sun JRE 1.5"
   href="show_bug.cgi?id=160502">Bug 160502</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c84" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Cabler</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=acabler&#64;hotmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=acabler&#64;hotmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-19 14:57:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm getting daily permgen related crashes using 3.2.1 and Java6 B2.  I'm going to try with build b102 to see if there are any changes.</pre>
    </div>

    <div id="c85" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c85">Comment 85</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-20 11:45:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">Has anybody found a tool to show exactly what objects are going into the permanent generation? I know generally kind of things go in there, but not specifically, when running Eclipse. What we need is a list of types sorted by #bytes in permgen only, and you can drill down on those to see what references them (and what references those...) and maybe a list of the different tracebacks of where they were allocated.

I saw an earlier comment about &quot;jmap -permstat&quot; but that doesn't work on my Windows machine running Sun Java 1.6.0-beta2-b86 . I looked at OQL (<a href="http://blogs.sun.com/sundararajan/entry/permanent_generation_analysis_with_oql">http://blogs.sun.com/sundararajan/entry/permanent_generation_analysis_with_oql</a>) but didn't see any obvious way to tell what generation objects were in. Ideas?</pre>
    </div>

    <div id="c86" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c86">Comment 86</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ramon Garcia</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ramon.garcia.f+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ramon.garcia.f+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-27 17:27:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">Perhaps there are classloader leaks in Eclipse?

If Eclipse uses a custom classloader, that could be an explanation. See <a href="http://blogs.sun.com/fkieviet/entry/classloader_leaks_the_dreaded_java">http://blogs.sun.com/fkieviet/entry/classloader_leaks_the_dreaded_java</a> (in my opinion, the behaviour of the JDK is bogus, but I might be wrong)</pre>
    </div>

    <div id="c87" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c87">Comment 87</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-28 12:03:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">ClassLoader leaks are definately a problem in any system where new classloaders can come and go.  If only one object is pinned then the classloader cannot be GC'ed.  However I do not think that is what is going on with our PermGen errors.

In a typical eclipse scenario the number of bundles installed in eclipse stays constant and therefore the number of (possible) classloaders stays constant.  In other words we do not attempt to get rid of classloaders and create new ones for a given bundle unless it is being updated or refreshed.  In most cases where PermGen errors occur it seems more features of eclipse are being used and more and more classes are getting loaded.  The VM's permgen space can only handle so much and you eventually will get the error with large applications.</pre>
    </div>

    <div id="c88" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c88">Comment 88</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-28 20:23:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Note to blame the Ant guys but that is one scenario where alot of classloaders are created.  There may be others as well.  </pre>
    </div>

    <div id="c89" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c89">Comment 89</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Swanson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Darin_Swanson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Darin_Swanson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-29 10:55:53 EST
        </span>

      </div>




<pre class="bz_comment_text">We create a new classloader for each Ant build.

See <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - Permgen memory leak on ant run"
   href="show_bug.cgi?id=130545">bug 130545</a> for the complete story on the ant &quot;leakage&quot;...but then most of you are cc'd on it as well.</pre>
    </div>

    <div id="c90" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c90">Comment 90</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-08 17:43:50 EST
        </span>

      </div>




<pre class="bz_comment_text">I have PermGen error several times a day on 
Sun 1.5_08 JVM, 1024M heapsize and 512M PermGen space. No Ant builds are performed.

I see no direct relationship between PermGen size and frequncy appearance of this bug - sometines I have it in few minutes after Eclipse start with 512M PermGen and sometimes I can work for hours with 128M PermGen (or even default one). Usage pattern is more or less the same in all cases, so IMHO it is for sure memory leak.

BTW, has somebody met it with Sun 1.4 JDK? 
</pre>
    </div>

    <div id="c91" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c91">Comment 91</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-08 17:52:21 EST
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; Usage pattern is more or less the same in all cases, so IMHO it is for
&gt; sure memory leak.</span >

Can you elaborate at all on what that usage pattern might be? In particular, if you can make it happen within a short period after starting it would be interesting to know the kind of things you are doing, what plugins you have installed, etc.</pre>
    </div>

    <div id="c92" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c92">Comment 92</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Rizzo</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse-bugs&#64;rizzoweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse-bugs&#64;rizzoweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-08 20:00:46 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c90">comment #90</a>)
<span class="quote">&gt; 
&gt; BTW, has somebody met it with Sun 1.4 JDK? </span >

Yes, it happens with 1.4 as well as 1.5.
However, since setting my PermGen space to 128M I have not seen it (using 1.5 now).</pre>
    </div>

    <div id="c93" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c93">Comment 93</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Langer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mailtolanger&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mailtolanger&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-09 03:08:19 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c90">comment #90</a>)
<span class="quote">&gt; I have PermGen error several times a day on 
&gt; Sun 1.5_08 JVM, 1024M heapsize and 512M PermGen space. No Ant builds are
&gt; performed.</span >
I think you are having some plugin in your workspace that behaves really really badly. I'm using Callisto full install with Sun 1.5_08 and 128MB PermGen and haven't run into the problem again even though I heavily use the WTP which caused the problem a lot before I upped my PermGen size.
I can also confirm that this problem only creeps up slowly and not right from the start since the PermGen gradually gets filled up. 
BTW I'm using WinXP Pro and only 512MB for Eclipse (3.2.1). </pre>
    </div>

    <div id="c94" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c94">Comment 94</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-09 03:25:03 EST
        </span>

      </div>




<pre class="bz_comment_text">Today it crashes with OOME in PermGen in 2 minutes after just 5 operations
1. Eclipse started
2. web.xml opened, edited and saved
3. one java-file open and edited, but not saved
4. Database explorer connected to the database (Derby, if that matter)
5. scrap sql page opened and edited. On save OOME came.

Workspace is rather small (really, not so small, but all projects except one dynamic web project with only dozen of classes, and one &quot;Servers&quot; project which contains one Tomcat server definition)  are closed.

I have had hangs (likely caused by OOME) as well on pure Java projects (w/o any web component and w/o any non-pure Java project in workspace) after just editing Java and XML files.

Plugins in place - Eclipse Callisto installation+ AspectJ plugin + SpringIDE + Subclipse. All in the latest version (updated day before tomorrow).

First time problems has occured in one hour (or less) after installation of Eclipse 3.2 Callisto without any additional plug-in on Java project (it contains  XML-files for Spring and Hibernate, but no web is involved).

And as I have said, sometimes problem creeps slowly (after many hours) and sometimes (more rarely) just after few minutes of work.
</pre>
    </div>

    <div id="c95" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c95">Comment 95</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jason Bennett</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jasonab&#64;acm.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jasonab&#64;acm.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-09 18:46:15 EST
        </span>

      </div>




<pre class="bz_comment_text">I have similar problems running Subclipse and SpringIDE. I suspect the problems lie there (likely in SpringIDE)</pre>
    </div>

    <div id="c96" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c96">Comment 96</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Probst</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mail&#64;martin-probst.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mail&#64;martin-probst.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-10 05:45:03 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm experiencing OutOfMemoryErrors: PermGen on a regular basis using the Apple Java VM 1.5.0_06 on Mac OS. I run a plain Eclipse with some plugins that probably do have a lot of classes and consume much PermGen memory. The problem is, Apple doesn't even provide a -XX:MaxPermGen switch, so I'm simply left with the OutOfMemoryErrors. Any suggestions?

<a href="show_bug.cgi?id=92250#c80">comment #80</a>: I don't think there is a 1.5.0_07 on Mac OS, or can you provide some link to it?</pre>
    </div>

    <div id="c97" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c97">Comment 97</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Pratik Solanki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=psolanki&#64;apple.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=psolanki&#64;apple.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-10 12:17:04 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c96">comment #96</a>)
<span class="quote">&gt; The problem is, Apple doesn't even provide a -XX:MaxPermGen switch, so I'm simply left with
&gt; the OutOfMemoryErrors.</span >

The option is -XX:MaxPermSize not MaxPermGen. It's available on the Mac. e.g.

java -XX:MaxPermSize=100M -version

Also, could you file a bug at bugreport.apple.com with the exception you get along with details on all the plugins you're loading, eclipse version, etc.</pre>
    </div>

    <div id="c98" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c98">Comment 98</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-21 12:52:05 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Out of memory error with Mylar?"
   href="show_bug.cgi?id=164827">Bug 164827</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c99" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c99">Comment 99</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-21 13:17:00 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm seeing this with 3.3M3, regardless of JDK 6 or JDK 1.5.0_07 on Windows. Only plugins installed are Mylar and SoapUI. Can't recall experiencing this with 3.2 and many more plugins.</pre>
    </div>

    <div id="c100" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c100">Comment 100</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 03:04:10 EST
        </span>

      </div>




<pre class="bz_comment_text">I have massively suffered from this problem with Eclipse 3.2 and 3.2.1 to the amount that has rendered Eclipse almost unusable (crashes , on average, every hour, regardless of memory settings) - with Sun JDK 1.4.2_10, 1.5.0_08, 1.5.0_09 1.6.0 (beta 2) Then I have tried to run Eclipse against JRockit 1.5.0_06 R26.4.0. Problem has gone completely - no single crash for 2 weeks.</pre>
    </div>

    <div id="c101" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c101">Comment 101</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 03:32:09 EST
        </span>

      </div>




<pre class="bz_comment_text">Regarding <a href="show_bug.cgi?id=92250#c29">comment #29</a> by Mik- has a bug against Sun JVM been filed? Sun should have some interest in making JDK5 compatible with Eclipse. I understand PermGen is a performance optimization feature- which doesn't help much if it makes the VM unstable or doesn't easily scale.</pre>
    </div>

    <div id="c102" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c102">Comment 102</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 03:56:28 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c101">comment #101</a>)
Concerning comments #29 and #101 - filing a bug is definitely necessary,
but problem lay deeper then just PermGen size and corresponding flag. As I have mentioned I have experienced similar Out Of Memory problems with JDK 1.4.2_10 (while with slightly different message) and on JDK 1.5.0_08/1.5.0_09 any settings for memory/PermGen sizes (up to 512M) have not helped at all - even minimal/average time between crashes/hangs has not increased (at least in noticable manner).

So it seems to be a more general problem with garbage collection in Sun JVM.
As at least 2 other JVMs (IBM and JRockit) do not exhibit such behavior with Eclipse.

</pre>
    </div>

    <div id="c103" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c103">Comment 103</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Rizzo</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse-bugs&#64;rizzoweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse-bugs&#64;rizzoweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 10:02:26 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c100">comment #100</a>)
<span class="quote">&gt; I have massively suffered from this problem with Eclipse 3.2 and 3.2.1 to the
&gt; amount that has rendered Eclipse almost unusable (crashes , on average, every
&gt; hour, regardless of memory settings) - with Sun JDK 1.4.2_10, 1.5.0_08,
&gt; 1.5.0_09 1.6.0 (beta 2)</span >

What is the exact command-line you are using (and what are the contents of eclipse.ini)?

</pre>
    </div>

    <div id="c104" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c104">Comment 104</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 10:40:15 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c103">comment #103</a>)
<span class="quote">&gt; What is the exact command-line you are using (and what are the contents of
&gt; eclipse.ini)?</span >

Command-line

for JRockit
start /belownormal /min eclipse -vm D:\Programme\Java\jrockit-R26.4.0-jdk1.5.0_06\bin\java.exe

For Sun JDK 1.5
start /belownormal /min eclipse -vm D:\Programme\Java\jdk1.5.0_09\bin\java.exe

start /belownormal /min eclipse -vm D:\Programme\Java\jdk1.4.2_10\bin\java.exe
Ini-file
-vmargs 
-XX:MaxPermSize=512m
-Xms40m
-Xmx1024m

See <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - IDE randomly hangs (100% processor usage)"
   href="show_bug.cgi?id=161701">bug 161701</a> for all details. 

Regards,
  Oleksandr
</pre>
    </div>

    <div id="c105" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c105">Comment 105</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 14:44:24 EST
        </span>

      </div>




<pre class="bz_comment_text">512MB PermGen??? That should *never* be necessary. 128MB is something that should be enough for every Eclipse user even if you have almost every available plugin installed (and used each one of them this session).

Can you please try to run Eclipse with Sun JDK 1.5 and JConsole (see <a href="show_bug.cgi?id=92250#c1">comment #1</a>)? Have a look at the memory usage while you work. If that suddenly starts to grow (it should only grow when a new plugin is loaded for the first time), take a note what you were doing (which plugin were you using, what did you do). Try to repeat this several times if possible.

During normal operation, PermGen space should be stable (neither grow nor shrink).</pre>
    </div>

    <div id="c106" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c106">Comment 106</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christopher G. Stach II</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cstach-eclipse&#64;ldsys.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cstach-eclipse&#64;ldsys.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 14:55:10 EST
        </span>

      </div>




<pre class="bz_comment_text">These options work very well for us, and we use a crapload of plugins:

-vmargs -Dsun.java2d.opengl=true -Dswing.aatext=true -client -Xms256m -Xmx256m -Xverify:none -XX:NewRatio=2 -XX:NewSize=128m -XX:SurvivorRatio=16 -XX:TargetSurvivorRatio=90 -XX:MaxTenuringThreshold=15 -XX:PermSize=96m -XX:MaxPermSize=128m -XX:+DisableExplicitGC -XX:+UseLargePages -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled -XX:+CMSIncrementalMode -XX:+CMSIncrementalPacing -XX:CMSIncrementalDutyCycleMin=0 -XX:CMSIncrementalDutyCycle=10

Sorry in advance if there are any typos. :)  Of course, turning on GC logging may help tune things for your usage.</pre>
    </div>

    <div id="c107" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c107">Comment 107</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 15:07:41 EST
        </span>

      </div>




<pre class="bz_comment_text">RE: command line options and ini file

Guys, I'm not sure. Maybe I just remember wrong. If so please correct me. But could it be, that the ini file will be ignored as soon as you specify any command line argument? Try to not mix them, i.e. put all into the ini file or all on the command line.</pre>
    </div>

    <div id="c108" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c108">Comment 108</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Rizzo</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse-bugs&#64;rizzoweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse-bugs&#64;rizzoweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 15:25:43 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c107">comment #107</a>)
<span class="quote">&gt; RE: command line options and ini file
&gt; 
&gt; Guys, I'm not sure. Maybe I just remember wrong. If so please correct me. But
&gt; could it be, that the ini file will be ignored as soon as you specify any
&gt; command line argument? Try to not mix them, i.e. put all into the ini file or
&gt; all on the command line.
&gt; </span >

While I agree it is a good idea to just use eclipse.ini instead of mixing it with command-line arguments, my experiments indicate that you can specify the -vm on command-line and still use eclipse.ini to specify -vmargs. I experimented with using heap size arguments in eclipse.ini and -vm on command-line, and both were picked up correctly.
</pre>
    </div>

    <div id="c109" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c109">Comment 109</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-22 15:29:39 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c108">comment #108</a>)
<span class="quote">&gt; my experiments indicate that you can specify the
&gt; -vm on command-line and still use eclipse.ini to specify -vmargs.</span >

Thanks for testing this. :)
</pre>
    </div>

    <div id="c110" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c110">Comment 110</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-23 02:57:54 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c105">comment #105</a>)
<span class="quote">&gt; 512MB PermGen??? That should *never* be necessary. 128MB is something that
&gt; should be enough for every Eclipse user even if you have almost every available
&gt; plugin installed (and used each one of them this session).</span >

Sure it should, 512m appeared just during experiments with this bug (I have tried to determne if size of PermGen influences the times between crashes/hangs). Really, 128 is enough for me (and with Eclipse 3.1 default was sufficient).

<span class="quote">&gt; Can you please try to run Eclipse with Sun JDK 1.5 and JConsole (see comment
&gt; #1)? Have a look at the memory usage while you work. If that suddenly starts to
&gt; grow (it should only grow when a new plugin is loaded for the first time), take
&gt; a note what you were doing (which plugin were you using, what did you do).</span >

I would try it, but not now - I have a lot of work on hands right now, and is not so interested in this problem any more as have found my solution for it (JRockit). As soon as overload will concede, I will try (in a week?).</pre>
    </div>

    <div id="c111" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c111">Comment 111</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-23 11:46:21 EST
        </span>

      </div>




<pre class="bz_comment_text">Re <a href="show_bug.cgi?id=92250#c110">comment 110</a>, when you do have a chance, it would be good to confirm that the IBM VMs solve your problem as well.  Try the VM that is available in the Eclipse at
    	<a href="http://www-128.ibm.com/developerworks/java/jdk/eclipse/">http://www-128.ibm.com/developerworks/java/jdk/eclipse/</a></pre>
    </div>

    <div id="c112" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c112">Comment 112</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-28 03:45:30 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c111">comment #111</a>)
<span class="quote">&gt; Re <a href="show_bug.cgi?id=92250#c110">comment 110</a>, when you do have a chance, it would be good to confirm that the
&gt; IBM VMs solve your problem as well.  Try the VM that is available in the
&gt; Eclipse at
&gt;         <a href="http://www-128.ibm.com/developerworks/java/jdk/eclipse/">http://www-128.ibm.com/developerworks/java/jdk/eclipse/</a></span >

Hello,
 I have not yet time for intensive testing, but at first glance it seems that IBM (J9) JVM solves my problems as well.</pre>
    </div>

    <div id="c113" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c113">Comment 113</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-12-11 10:50:44 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse crashes with an Out Of Memory Exception"
   href="show_bug.cgi?id=167138">Bug 167138</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c114" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c114">Comment 114</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Piotr Górny</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=airform&#64;o2.pl" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=airform&#64;o2.pl" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-02 04:26:10 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm using Sun's amd64 JDK 1.5.0_08 and Eclipse 3.2.1. I get a crash about 5 times per hour :-(.</pre>
    </div>

    <div id="c115" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c115">Comment 115</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">T</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=silvershards&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=silvershards&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-02-08 17:50:42 EST
        </span>

      </div>




<pre class="bz_comment_text">I had this problem with Sun JDK 1.5.x and JDK6 - Eclipse was crashing on me every hour or so, completely randomly (as far as I can tell), and regardless of the  -XX:MaxPermSize setting (had it up to 512MB at one point, and it still crashed after half an hour). Switching to JRockit 1.5.0_06 fixed the problem.</pre>
    </div>

    <div id="c116" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c116">Comment 116</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-02-09 04:21:14 EST
        </span>

      </div>




<pre class="bz_comment_text">In reply to <a href="show_bug.cgi?id=92250#c101">comment #101</a> and <a href="show_bug.cgi?id=92250#c102">comment #102</a>
IMHO it's high time to start talking to Sun. We're constantly seeing the problem on Sun VMs, but not on IBM or BEA. I'd volunteer to open the bug- but somebody with more Java/VM background might be more suited for this?</pre>
    </div>

    <div id="c117" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c117">Comment 117</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Stevens</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=account1&#64;michael-stevens.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=account1&#64;michael-stevens.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-02-22 05:23:49 EST
        </span>

      </div>




<pre class="bz_comment_text">It seems that as well as the specific Permenant Generation problem with Sun's VM there are many issues with the way the VM and Eclipse handle out of memory situations.

Under Linux it is easy to generate low memory situations for the VM by setting the 'ulimit' for a tasks virtual memory. For example on a 1G memory machine setting 'ulimit -Sv 750000' will cause an active Eclipse to with many plugins to fail occassionally. The failures modes vary: from Eclipse simply aborting, to properly handled errors with user confirmation.

Reducing the limit allows the tester to generate errors earlier. Around 300000 Eclipse will no be able to start.

Hope this helps in testing!</pre>
    </div>

    <div id="c118" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c118">Comment 118</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-14 18:34:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just found this on dzone.com: <a href="http://my.opera.com/karmazilla/blog/2007/03/13/good-riddance-permgen-outofmemoryerror">http://my.opera.com/karmazilla/blog/2007/03/13/good-riddance-permgen-outofmemoryerror</a>

I'm not sure why, but I haven't had a permgen error in a while. Could somebody who still gets it give these options a try (except the part about increasing MaxPermSize, that kind of invalidates the test).</pre>
    </div>

    <div id="c119" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c119">Comment 119</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-16 09:38:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Probably the following option shall be added as well:
-XXC:+MSClassUnloadingEnabled</pre>
    </div>

    <div id="c120" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c120">Comment 120</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johan Walles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=johan.walles&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=johan.walles&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-29 17:54:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">Why is this bug open in the Eclipse bugzilla at all?  What are the 27 voters expecting Eclipse to do about this?

After reading the discussion here it seems to me as if:
* SUN's JVM has problems running Eclipse.
* IBM's JVM and JRockit run Eclipse just fine.
* In two years, nobody has bothered telling SUN about this.  At least I couldn't find any link to SUN's BTS in here.

How about:
1. Somebody who's interested in running Eclipse with SUN's JVM report this to SUN and post the link here.
2. While SUN is fixing this users can work around this by running Eclipse in JRockit or IBM's JVM, or add a bunch of command line parameters to their SUN JVMs.
3. This bug gets closed with a status of Invalid (since nothing points to this being a problem with Eclipse).

Regarding <a href="show_bug.cgi?id=92250#c49">comment 49</a>, For Eclipse 3.2, JRockit was a reference platform on Windows.  For Eclipse 3.3, it is on Linux as well.

Full disclosure: I work with JRockit for BEA.  I'm however speaking for myself only here.  Haven't tried running Eclipse with SUN's JVM so this is not a problem for me.  I was just surprized to find it on the most hated bugs list that just got posted at <a href="https://bugs.eclipse.org/bugs/">https://bugs.eclipse.org/bugs/</a>.
</pre>
    </div>

    <div id="c121" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c121">Comment 121</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-30 03:00:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Johan,

I have to disagree with you, at least partially. 

1. While it definitely have to be reported to Sun (while I'm pretty sure that issue is known to Sun as Eclipse in not the only application that suffers from this PermGen issue, many application servers, including Tomcat do), it is known that Eclipse till 3.2M5 has not suffered. So there are chances that issue may be workarounded on Eclipse side.

2. Running Eclipse against non-Sun JVM has its own disadvantages. IBM JVM is not so readily available due to licansing issues, save inside bundled kit for Eclipse and istallation included into this kit is somewhat crippled (debug libraries are missing, probably, something else). So in this case you have to have 2 different JVMs - one to run Eclipse and 1 to run your programs inside (and outside) Eclipse. JRockit is readily available, but, at least from my expirience, it runs Eclipse not very smoothly - UI annonyingly freezes from time to time for not very long, but noticable time. Probably, this can be avoided by JRockit configuration but I have not succeed.

Regards,
Oleksandr</pre>
    </div>

    <div id="c122" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c122">Comment 122</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-30 11:43:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">Johan, I mostly agree with you. However, this bug report does seem to be serving a useful purpose as a discussion forum on the topic, in particular the description of the various workarounds for getting working on the Sun VM. This is a common problem for those who use that VM, so it's useful to have an easily found bug that captures the discussion. I also agree it's unclear what the voters on the bug are expecting.  There is a faint possibility that we could detect on startup that we are running on a Sun VM and pass along the VM arguments needed to make it happy.

I'm removing the &quot;performance&quot; keyword because there is no indication here of a performance problem in the platform (other than the fact that it's extensible and thus unbounded in size).</pre>
    </div>

    <div id="c123" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c123">Comment 123</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Karsten Becker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;karsten-becker.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;karsten-becker.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 04:50:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just increasing the permgenSize is not a solution. The problem has to be addressed on a different level. Software parts that deal with ClassLoaders have to be diagnosed.
I would propose a post mortem diagnose tool that gets run from the eclipse.exe when the JVM of eclipse crashed. For the dump -XX:+HeapDumpOnOutOfMemoryError could be used and analysed by the tool.
Even if Platform does not have ClassLoader issues this tool would help plugin providers to find leaks in their software. The quality of eclipse is based on the quality of contributed plugins.</pre>
    </div>

    <div id="c124" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c124">Comment 124</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johan Walles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=johan.walles&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=johan.walles&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 04:56:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">Karsten, how about reporting this SUN JVM bug to SUN as I suggested in <a href="show_bug.cgi?id=92250#c120">comment 120</a>, instead of trying to debug it in Eclipse which doesn't seem broken?
</pre>
    </div>

    <div id="c125" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c125">Comment 125</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Karsten Becker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;karsten-becker.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;karsten-becker.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 05:36:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">It is not that SUN has a problem with eclipse, but it seems that the additional Data stored in Class objects has increased which results in a faster permgenSpace problem than before. And ClassLoaders that are not garbage collected inside Eclipse are a Eclipse problem.
Some plugins such as mylar and aspectj seem to attract the problem more than the basic functionality of eclipse SDK. And there are IDEs that do not have such problems.
This Blog entry explains why those errors occur: <a href="http://blogs.sun.com/fkieviet/entry/how_to_fix_the_dreaded">http://blogs.sun.com/fkieviet/entry/how_to_fix_the_dreaded</a></pre>
    </div>

    <div id="c126" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c126">Comment 126</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johan Walles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=johan.walles&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=johan.walles&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 07:27:03 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c125">comment #125</a>)
<span class="quote">&gt; It is not that SUN has a problem with eclipse</span >

This bug report is titled &quot;... Permanent Generation memory...&quot; which is a feature (?) specific to SUN's JVM.

If you read the previous comments, you'll see that:
* SUN's JVM gets &quot;permspace&quot; issues when running Eclipse.
* IBM's JVM (which I think doesn't have any permspace) doesn't.
* JRockit (which doesn't have any permspace) doesn't.

In my mind that indicates that SUN indeed has a problem with Eclipse.  In case you don't agree, can you please elaborate on how this could be anything but an issue with SUN's JVM?

<span class="quote">&gt; , but it seems that the additional
&gt; Data stored in Class objects has increased which results in a faster
&gt; permgenSpace problem than before.</span >

Only with SUN's JVM.

<span class="quote">&gt; And ClassLoaders that are not garbage
&gt; collected inside Eclipse are a Eclipse problem.</span >

If Eclipse leaks resources, that's indeed an Eclipse problem, and it should get a bug report.  Is there one?  A link to it in here would be great!
</pre>
    </div>

    <div id="c127" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c127">Comment 127</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Karsten Becker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;karsten-becker.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;karsten-becker.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 09:03:10 EDT
        </span>

      </div>




<pre class="bz_comment_text">Ok, let me rephrase, it is not a SUN problem specific to Eclipse. It happens on other Projects as well. JBoss for example. Most people run Eclipse on a Sun JVM because it is easy to get. It is not like there is a big download button on a IBM website where you could download J9.
And if people running the most popular JVM have a problem with Eclipse, Eclipse has a problem. It can not fix the JVM but it can try to do whatever it takes to make it run smooth.
That the problem does not occur on a JVM that does not have a permgen space does not mean it does not exist. It is simply not so visible. The permgen would not steadily grow if there would be no issue in some plugins of Eclipse. In case of any other JVM the uncollected ClassLoaders are floating around in Heap which is no way better.
What I proposed is not a solution for a fix, but a tool to track issues that exist.
For your convenience, here is a feature request: <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Create a post mortem analyser to track floating ClassLoaders"
   href="show_bug.cgi?id=181192">https://bugs.eclipse.org/bugs/show_bug.cgi?id=181192</a></pre>
    </div>

    <div id="c128" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c128">Comment 128</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 09:21:24 EDT
        </span>

      </div>




<pre class="bz_comment_text">It is quite clear from

<a href="http://blogs.sun.com/fkieviet/entry/classloader_leaks_the_dreaded_java">http://blogs.sun.com/fkieviet/entry/classloader_leaks_the_dreaded_java</a>
and
<a href="http://blogs.sun.com/fkieviet/entry/how_to_fix_the_dreaded">http://blogs.sun.com/fkieviet/entry/how_to_fix_the_dreaded</a>

that classloader leak by itself has nothing to do with PermGen space itself. In JVMs without PermGen leak will occur in general heap and and eventually will cause OutOfMemory anyway. Just because general heap is normally bigger this leak will manifest itself later. Definitely, garbage collecting strategy may as well have some influence on how soon this leak will manifest itself.

Anyway, it is definitely desirable to´take a look if leak exists and, if so, try to remove it.

Regards,
Oleksandr
</pre>
    </div>

    <div id="c129" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c129">Comment 129</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Willian Mitsuda</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wmitsuda&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wmitsuda&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 15:45:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c125">comment #125</a>)
<span class="quote">&gt; Some plugins such as mylar and aspectj seem to attract the problem more than
&gt; the basic functionality of eclipse SDK. And there are IDEs that do not have
&gt; such problems.</span >

Just a side note: you are right about Mylar. If you install just Eclipse 3.3 + Mylar and create some queries you will get this bug after some time working.</pre>
    </div>

    <div id="c130" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c130">Comment 130</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-05 17:07:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c125">comment #125</a>)
<span class="quote">&gt; Some plugins such as mylar and aspectj seem to attract the problem more than
&gt; the basic functionality of eclipse SDK. And there are IDEs that do not have
&gt; such problems.</span >

As far as I know this is a result of both Mylar and AJDT loading a large number of classes.  AJDT has to load an entire compiler (an extended jdt.core). Mylar has around 2,400 classes, a significant portion of which is likely to be loaded during normal operation.  Fyi, I have never seen this problem when my setting is -XX:MaxPermSize=128M.  Not that this fact helps newcommers, who keep hitting this bug and getting the wrong first impression (see <a href="show_bug.cgi?id=92250#c29">comment#29</a>).  

Assuming that this won't get addressed on the Sun VM end, is there anything else that could be done do to minimize the pain for newcommers adopting 3.3?  For example, is it possible for the the application, UI thread, error handler, or something else catch OutOfMemoryError and produce a reasonable message telling the user what to do in this scenario?  

For now I suggest that larger extensions to the SDK should put something like the following entry into their FAQs, since it will help users googling for your tool and the error's label: <a href="http://wiki.eclipse.org/index.php/Mylar_FAQ#I_am_seeing_java.lang.OutOfMemoryError:_PermGen_space_errors.2C_what.27s_wrong.3F">http://wiki.eclipse.org/index.php/Mylar_FAQ#I_am_seeing_java.lang.OutOfMemoryError:_PermGen_space_errors.2C_what.27s_wrong.3F</a></pre>
    </div>

    <div id="c131" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c131">Comment 131</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Willian Mitsuda</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wmitsuda&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wmitsuda&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-06 04:31:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">Oh, yes... I forgot to mention that the simple workaround of setting -XX:MaxPermSize=128M works fine on Eclipse + Mylar case, like Mik said.

The problem here is that it just crashed after some hanging, no dialog.

This happened with me some months ago, when I started to make tests using clean Eclipse milestones + Mylar installations (previously I used my own preconfigured, old installation), and started to get these crashes.

I had no idea of what to do (and this is because I'm a experienced developer), and then I remembered this bug.

So, responding the previous question of what to expect from this bug, I'd like at least to have some better feedback for the user to know he is experiencing this bug report (not sure if this is possible...) and the solution.

By better feedback I mean something like a dialog saying &quot;Dude, set the -XX:MaxPermSize=128m on eclipse.ini!&quot; or something like this ;)

Mik, meanwhile could you rephrase the Mylar FAQ to something like &quot;Eclipse is crashing after installing Mylar&quot;, for example?

I'm not a VM expert, but IMHO it seems that blaming Sun VM because it exposes this bug, while IBM and BEA doesn't, seems unfair, because IBM/BEA/Sun VMs have different GC strategies. Of course, you can blame them for not having a standard option to set the MaxPermGenSize or a automatic strategy ;)</pre>
    </div>

    <div id="c132" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c132">Comment 132</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-06 05:18:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">Maybe we should ask the MyEclipse guys for a little help: They have added a monitor to their plugin set which pops up a warning dialog when only 5% permgen is left.

As for opening a bug against Sun: I agree this is a bug in the Sun VM but I have my doubts that Sun will do anything about it since there is such a simple workaround. Remember: PermGen is a very important performance feature of the Sun VM. It might take a huge effort to fix if it is even possible. Now, that Java 6 is out and all efforts go to Java 7, I see no real solution here.

OTOH, a lot of people still work with Java 4, many use old versions of Java 5 and, last but not least, this bug appears because of how Eclipse handles plugins: A lot of information is stored in static variables which end up in PermGen. So a fix in Java 5 pl 15 might not help that much.

The Groovy plugin is also one of those that uses a lot of permgen. In this instance, Groovy keeps a cache of the AST in a static map in the plugin. In my case, with three small Groovy projects and groovy-core itself, I'm using 80MB of PermGen for this. Of course, this is a &quot;bug&quot; in the plugin. It should use a cache which can get garbage collected but that is a lot more effort to do. A whole lot of code has to be rewritten, the design becomes much more complex and convoluted.

For all these reasons, I think this is a messy issue: No simple solution exists and it will bite again and again and again.

Eclipse should come with a monitor which warns before an OOM happens (instead of silently crashing), add a pointer to this bug here and/or display a warning when a Sun VM is used and the PermGen is not increased. (see my <a href="show_bug.cgi?id=92250#c58">comment #58</a>, for example).</pre>
    </div>

    <div id="c133" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c133">Comment 133</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-08 12:49:16 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; For example, is it possible for the the application, UI thread, error handler,
&gt; or something else catch OutOfMemoryError and produce a reasonable message
&gt; telling the user what to do in this scenario?  </span >

This is already done.  See the patch on this bug from 2006-05-25 to see the message that is printed when OutOfMemoryError occurs. The problem is described in the &quot;Known Issues&quot; section of the readme, and the &quot;Running Eclipse&quot; section describes how to use VM arguments to avoid the problem. Everyone reads the readme file before running a piece of software, right? ;)  

The downside is that this problem does not always manifest itself as an OutOfMemoryError. Sometimes the VM hangs during class loading, sometimes the VM crashes without warning.</pre>
    </div>

    <div id="c134" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c134">Comment 134</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-08 16:44:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c133">comment #133</a>)

<span class="quote">&gt; This is already done.  See the patch on this bug from 2006-05-25 to see the
&gt; message that is printed when OutOfMemoryError occurs.</span >

It would be much better if Eclipse would pop up an alert when the free memory goes below 5%. This way, there would always be a pre-warning and the product would look more stable to the user.

Again, the MyEclipse plugin adds such a monitor and it works pretty well. If a committer would ask them for the code, I'm sure they would hand it over. Or should I open an issue at MyEclipse and tell them about this bug so they can attach a patch?</pre>
    </div>

    <div id="c135" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c135">Comment 135</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-18 10:21:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">I just got this today using Sun JDK 1.6.0_01 . I set -Xms40m and -Xmx256m but didn't change MaxPermSize (I thought I did but I must have lost that when upgrading to the latest milestone). The session had been up for about 24 hours.  I was trying to switch from one perspective to another which I had been using earlier. The heap status showed only about 50M of non-permgen memory in use at the time.

eclipse.buildId=I20070323-1616
java.version=1.6.0_01
java.vendor=Sun Microsystems Inc.
BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US

Error
Wed Apr 18 10:02:14 EDT 2007
Unhandled event loop exception

java.lang.OutOfMemoryError: PermGen space
at java.lang.ClassLoader.defineClass1(Native Method)
at java.lang.ClassLoader.defineClass(Unknown Source)
at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:161)
at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:501)
at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:471)
at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:430)
at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:413)
at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:189)
at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:340)
at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:408)
at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)
at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)
at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)
at java.lang.ClassLoader.loadClass(Unknown Source)
at java.lang.ClassLoader.loadClassInternal(Unknown Source)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistory.getEntries(GenericHistoryView.java:142)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistoryAction.getDropDownEntries(GenericHistoryView.java:246)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistoryAction.createActions(GenericHistoryView.java:237)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistoryAction.getActions(GenericHistoryView.java:280)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistoryAction.updateCheckState(GenericHistoryView.java:265)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistoryAction.update(GenericHistoryView.java:261)
at org.eclipse.team.internal.ui.history.GenericHistoryView$NavigationHistoryAction.&lt;init&gt;(GenericHistoryView.java:234)
at org.eclipse.team.internal.ui.history.GenericHistoryView.configureToolbars(GenericHistoryView.java:521)
at org.eclipse.team.internal.ui.history.GenericHistoryView.createPartControl(GenericHistoryView.java:464)
at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:363)
at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:219)
at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:592)
at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:299)
at org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:531)
at org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:179)
at org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)
at org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)


</pre>
    </div>

    <div id="c136" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c136">Comment 136</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Raghunathan Srinivasan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=raghunathan.srinivasan&#64;oracle.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=raghunathan.srinivasan&#64;oracle.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-18 16:08:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Consistent Out of Memory Error condition while create managed bean"
   href="show_bug.cgi?id=180040">Bug 180040</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c137" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c137">Comment 137</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wang Qiangsheng</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=qwang&#64;actuate.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=qwang&#64;actuate.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-20 22:44:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse was killed after creating of &quot;HelloWorld.jsp&quot;"
   href="show_bug.cgi?id=176327">Bug 176327</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c138" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c138">Comment 138</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Seng Phung Lu</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sengpl&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sengpl&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-25 12:05:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [performance] OutOfMemoryError and workbench abends"
   href="show_bug.cgi?id=168285">Bug 168285</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c139" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c139">Comment 139</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Anton Leherbauer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=aleherb+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=aleherb+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-05-11 04:49:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - java.lang.OutOfMemoryError: PermGen space"
   href="show_bug.cgi?id=186520">Bug 186520</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c140" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c140">Comment 140</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-05 10:25:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse inexplicably exits, logs OutOfMemory PermGen error"
   href="show_bug.cgi?id=190910">Bug 190910</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c141" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c141">Comment 141</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Karsten Becker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=java&#64;Karsten-Becker.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=java&#64;Karsten-Becker.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-26 20:22:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">I just wanted to leave a short note that a detection for sun JVM has been integrated for windows. Thus on windows the maxPermgensize ist automatically set to the value specified in the eclipse.ini using:
launcher.XXMaxPermSize
See <a href="http://wiki.eclipse.org/FAQ_How_do_I_increase_the_permgen_size_available_to_Eclipse%3F">http://wiki.eclipse.org/FAQ_How_do_I_increase_the_permgen_size_available_to_Eclipse%3F</a> for further info.</pre>
    </div>

    <div id="c142" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c142">Comment 142</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 03:07:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">I dare to say that detection of Sun JVM and increasing a PermGen would not help a lot - as I have posted earlier even absolutly enormous amounts of PermGen space (up to 512M and even 1G).</pre>
    </div>

    <div id="c143" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c143">Comment 143</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Rizzo</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse-bugs&#64;rizzoweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse-bugs&#64;rizzoweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 08:12:24 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c142">comment #142</a>)
<span class="quote">&gt; I dare to say that detection of Sun JVM and increasing a PermGen would not help
&gt; a lot - as I have posted earlier even absolutly enormous amounts of PermGen
&gt; space (up to 512M and even 1G).
&gt; </span >

No time to read the whole discussion again, but wasn't it pointed out that your environment that crashed frequently included SpringIDE and Subversion and other third party plugins that made it different than most people? Many have reported that icreasing PermGen to 128 eliminated the problem immediately, so I'd say that is the most reasonable solution at this point. It would be most helpful if you can test without SpringIDE and/or Subversion on the Sun JVM with Eclipse 3.3 and see if there are any crashes.

On a more general note, shouldn't this be marked as FIXED and/or VERFIIED? Has anyone reported it on 3.3?

</pre>
    </div>

    <div id="c144" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c144">Comment 144</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oyvind Harboe</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=oyvind.harboe&#64;zylin.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=oyvind.harboe&#64;zylin.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 08:41:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c143">comment #143</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=92250#c142">comment #142</a>)
&gt; &gt; I dare to say that detection of Sun JVM and increasing a PermGen would not help
&gt; &gt; a lot - as I have posted earlier even absolutly enormous amounts of PermGen
&gt; &gt; space (up to 512M and even 1G).
&gt; &gt; 
&gt; 
&gt; No time to read the whole discussion again, but wasn't it pointed out that your
&gt; environment that crashed frequently included SpringIDE and Subversion and other
&gt; third party plugins that made it different than most people? Many have reported
&gt; that icreasing PermGen to 128 eliminated the problem immediately, so I'd say
&gt; that is the most reasonable solution at this point. It would be most helpful if
&gt; you can test without SpringIDE and/or Subversion on the Sun JVM with Eclipse
&gt; 3.3 and see if there are any crashes.
&gt; 
&gt; On a more general note, shouldn't this be marked as FIXED and/or VERFIIED? Has
&gt; anyone reported it on 3.3?</span >

I see PermGen deaths in 3.3 w/CDT + various plugins. 

</pre>
    </div>

    <div id="c145" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c145">Comment 145</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 09:19:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">Environment w/o SpringIDE is not interesting to me at all (as for many peoples, as Spring is very popular and Spring IDE is really convinient for Spring developers). Concerning SVN - I have 2 installations, one with SVN plugin, other without it, both had crashed in the same manner.

As for me personally, I has switched to alternative JVM (IBM) to run Eclipse and has not experinced any noticable problems after this switch.

If I would have time, that I would try with 3.3, but not any time soon (too overloaded now).</pre>
    </div>

    <div id="c146" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c146">Comment 146</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Rizzo</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse-bugs&#64;rizzoweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse-bugs&#64;rizzoweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 09:46:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">This bug report is becoming a discussion thread; not ideal, but...

(In reply to <a href="show_bug.cgi?id=92250#c145">comment #145</a>)
<span class="quote">&gt; Environment w/o SpringIDE is not interesting to me at all (as for many peoples,
&gt; as Spring is very popular and Spring IDE is really convinient for Spring
&gt; developers). </span >

The point was not to get you to stop using SpringIDE but rather to try to narrow down the unusual problem that you were seeing even with an absurd amount of PermGen space allocated. If you could produce it regularly with SpringIDE installed but it disappeared without SpringIDE, we'd have a pretty good idea it was SpringIDE that was the culprit.
Of course we are all busy with &quot;real work&quot; but this would be a helpful thing for the community if you have a chance to test it out.
</pre>
    </div>

    <div id="c147" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c147">Comment 147</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ismael Juma</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mlists&#64;juma.me.uk" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mlists&#64;juma.me.uk" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 10:16:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just for information purposes, I use Spring IDE, Subclipse, WTP and 10 plugins more (from Europa and otherwise) and I do not have any problems with PermGen size using JDK 6u2 and XX:MaxPermSize=160m. I sometimes have an eclipse instance open for several days and I am more likely to have to close it due to some SWT bug (on occasion it runs out of handles) than due to PermGen exhaustion. So, I don't think the Spring IDE is at fault for using 512m of PermGen.</pre>
    </div>

    <div id="c148" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c148">Comment 148</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleksandr Alesinskyy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alesinskyy&#64;googlemail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alesinskyy&#64;googlemail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 10:39:17 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c146">comment #146</a>)
Normally I would agree to you, but just now I have very hot time (approx. till end of September).

Anyway, the only proper way to deal with this bug is to force Sun fix its cause.
At least 2 very popular products - Eclipse and Tomcat suffer from it abd it should be sufficient reason to deal not with symptoms but with cause.</pre>
    </div>

    <div id="c149" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c149">Comment 149</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-27 11:44:58 EDT
        </span>

      </div>




<pre class="bz_comment_text">Fully agree. See comments #101, <a href="show_bug.cgi?id=92250#c102">comment #102</a> and <a href="show_bug.cgi?id=92250#c116">comment #116</a>.
Do we have a bug fixed against the sun jvm yet? If not, we should probably stop complaining :(</pre>
    </div>

    <div id="c150" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c150">Comment 150</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Crocker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kevin.b.crocker&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kevin.b.crocker&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-29 00:44:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c143">comment #143</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=92250#c142">comment #142</a>)</span >
...
<span class="quote">&gt; On a more general note, shouldn't this be marked as FIXED and/or VERFIIED? Has
&gt; anyone reported it on 3.3?</span >

I get this bug about every 10 minutes in 3.3:

java-1.5.0-sun-1.5.0.11
MyEclipse_6.0M1_E3.3
Ubuntu 7.04, Linux 2.6.20-15.

The only nice thing about it is that MyEclipse pops up a nice little info box. 

I'm not a developer like you all sound, just a user who is extremely frustrated that Eclipse dies all the time after a few minutes. And I'm just tying to build a simple little set of JSP/JSF web pages for petes sake. I got so frustrated with how bad it was on Fedora 7 that I blew away Fedora 7 and intalled Ubuntu 7.04 - now I have a desktop oriented Linux but still an unfunctionl Eclipse :-(

I am willing to help out. Aparently I can reproduce this bug easily. Would it help if I generated a that HeapDump and ran the Memory Monitor and JConsole and reported all the info here? I have nothing else to do tomorrow.

Oh, someone's going to have to tell how to go about getting and installing all that stuff :-)</pre>
    </div>

    <div id="c151" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c151">Comment 151</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-30 02:49:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c150">comment #150</a>)

<span class="quote">&gt; I get this bug about every 10 minutes in 3.3:
&gt; 
&gt; java-1.5.0-sun-1.5.0.11
&gt; MyEclipse_6.0M1_E3.3
&gt; Ubuntu 7.04, Linux 2.6.20-15.</span >

Same problem on Windows and Java 1.6.0_01. I suspect that MyEclipse 6.0 has a memory leak in the JSP editor.

I'm wondering: Maybe it would make sense to move this bug to PDE? Since it crops up again and again when new versions of plugins are released, there seems to be a need for a simple tool to check for memory leaks. It is especially bad since for the user, it's Eclipse's fault and not the many plugins she installed.

And why is the little memory monitor at the bottom not displaying PermGen, just the heap? It would really help to track these bugs down by watching the bar grow as I use Eclipse.</pre>
    </div>

    <div id="c152" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c152">Comment 152</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Karsten Becker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;karsten-becker.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;karsten-becker.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-30 04:57:25 EDT
        </span>

      </div>




<pre class="bz_comment_text">The reason we don't see permgen on the heap monitor is that the MXBeans needed to monitor it have a java 5 binding. But the platform still has a java 1.4 as binding. There is a chance that jdt.ui will switch to java 5 and could thus provide a monitor if enough voices are raised.</pre>
    </div>

    <div id="c153" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c153">Comment 153</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-30 10:45:52 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; There is a chance that jdt.ui will switch to java 5 and could thus
&gt; provide a monitor if enough voices are raised.</span >

<a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [Trim] Update HeapStatus to use java.lang.management APIs in Java 5"
   href="show_bug.cgi?id=130964">Bug 130964</a> tracks this (plus the warning dialog when memory gets tight).
</pre>
    </div>

    <div id="c154" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c154">Comment 154</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Todd E. Williams</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=todd&#64;genuitec.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=todd&#64;genuitec.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-30 11:01:32 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt;Same problem on Windows and Java 1.6.0_01. 
&gt;I suspect that MyEclipse 6.0 has a
&gt;memory leak in the JSP editor.</span >

Usage of PermGen space has nothing to do with &quot;normal&quot; heap sizing and usage and cannot be affected by memory leaks from the application being run.  PermGen is used exclusively for holding class and method objects, not application data. 

Please see the following FAQ entry for a description of what types of objects are placed in PermGen (#7) as well as some ways to help debug such issues:
<a href="http://java.sun.com/docs/hotspot/gc1.4.2/faq.html">http://java.sun.com/docs/hotspot/gc1.4.2/faq.html</a></pre>
    </div>

    <div id="c155" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c155">Comment 155</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-30 14:06:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c154">comment #154</a>)

<span class="quote">&gt; &gt;Same problem on Windows and Java 1.6.0_01. 
&gt; &gt;I suspect that MyEclipse 6.0 has a
&gt; &gt;memory leak in the JSP editor.
&gt; 
&gt; Usage of PermGen space has nothing to do with &quot;normal&quot; heap sizing and usage
&gt; and cannot be affected by memory leaks from the application being run.  PermGen
&gt; is used exclusively for holding class and method objects, not application data. </span >

A plugin can have a leak PermGen as easily as it can leak normal memory. More easily in fact since many people don't even know that this special area exists and because the GC believes that objects in there are always long lived. Groovy, for example, uses a very huge amount of PermGen because it creates a lot of classes on the fly while you type. You can actually run out of PermGen just by typing too fast. If you do something strange, like caching dynamic classes in a static field, you can quickly run out of PermGen if you're not careful. JSP editors do create Java classes on the fly, don't they? Or how do you support code completion?

Back to Eclipse: Since the problem discussed here is produced by so many plugins (especially when the authors are new to writing plugins), tool support for this grave issue is a must, IMHO. Maybe the basic JUnit test for plugin code should check the memory consumption and fail if PermGen grows after loading the plugin.

In the error message, refer to an API to tune this setting so memory leaks are detected by default and plugin developers have to think about them.</pre>
    </div>

    <div id="c156" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c156">Comment 156</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Crocker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kevin.b.crocker&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kevin.b.crocker&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-31 21:29:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">OK - I downloaded the Tweaked Memory monitor plugin - it's kind cool.

Anyway, no matter what I set the -XX:MaxPermGen (hopefully spelled right since this is from memory) value to, Memory monitor says that it's 64M.

The problem is that as soon as Eclipse starts up, it eats up about 61M instantly.

Is it possible that somehow the Memory Monitor plugin is reporting incorrect
information. There was once when I left Eclipse on overnight, the next day I got several hours out of it before it started to die all the time.

What else can I do to assist?

Kevin</pre>
    </div>

    <div id="c157" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c157">Comment 157</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ismael Juma</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mlists&#64;juma.me.uk" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mlists&#64;juma.me.uk" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-31 21:36:04 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; Anyway, no matter what I set the -XX:MaxPermGen (hopefully spelled right since
&gt; this is from memory) value to, Memory monitor says that it's 64M.</span >

Are you sure you added -XX:MaxPermSize=160m (not MaxPermGen) in your eclipse.ini in its own line after -vmargs?</pre>
    </div>

    <div id="c158" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c158">Comment 158</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Serodio</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse.dserodio&#64;neverbox.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse.dserodio&#64;neverbox.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-01 09:04:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c156">comment #156</a>)
<span class="quote">&gt; OK - I downloaded the Tweaked Memory monitor plugin - it's kind cool.
&gt; </span >
Where can I download it?

</pre>
    </div>

    <div id="c159" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c159">Comment 159</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Crocker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kevin.b.crocker&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kevin.b.crocker&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-02 21:00:17 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c158">comment #158</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=92250#c156">comment #156</a>)
&gt; &gt; OK - I downloaded the Tweaked Memory monitor plugin - it's kind cool.
&gt; &gt; 
&gt; Where can I download it?
&gt; </span >

About a screen up :-)  If you look at the top of this page, you should see
an Attachments section - it's in the list.</pre>
    </div>

    <div id="c160" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c160">Comment 160</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Crocker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kevin.b.crocker&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kevin.b.crocker&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-02 21:06:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">OK _ now have a nicely working Eclipse 3.3

Here's what seems to have solved the problem.

I deleted the entire /eclipse/configuration/  directory including the config.ini. Of course, Eclipse complained about that so I had to put config.ini back.

The above didn't completely solve the problem but it did make it so that I could work for a bit longer before Eclipse died with an OOME.

Here's what seemed to fix it:

I placed the following:


-XX:MaxPermSize=128m

after the -vm arg on it's own line. It appears that SUN's JVM is ignoring
the 

--launcher.XXMaxPermSize
256M

because I am getting 128M -- yes, I did try it the other way around too
just to see what happened.

Here's my eclipse.ini
-clean
-showsplash org.eclipse.platform
--launcher.XXMaxPermSize    &lt;---- this doesn't seem to work at all.
256M
-vmargs
-Xms64m
-Xmx1024m
-XX:MaxPermSize=128m        &lt;----- this is the line that seems to have worked
-Dosgi.bundlefile.limit=100</pre>
    </div>

    <div id="c161" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c161">Comment 161</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Crocker</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kevin.b.crocker&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kevin.b.crocker&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-02 21:20:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c160">comment #160</a>)
<span class="quote">&gt; OK _ now have a nicely working Eclipse 3.3
&gt; 
&gt; Here's what seems to have solved the problem.
&gt; 
&gt; I deleted the entire /eclipse/configuration/  directory including the
&gt; config.ini. Of course, Eclipse complained about that so I had to put config.ini
&gt; back.</span >

I've done a bit more testing and the 
--launcher.XXMaxPermSize
128M

is now working all by itself (I took the -XX:MaxPermSize=128M) out
and changed the above back down to 128M (256M seemed a bit excessive :-)

Thus, I can only conclude that somehow I had something in the configuration
system that was locking up and making PermGen 64M

I ran the first config for two days, left on continuously doing some Unit tests.
All last night and tonight, the Memory Monitor peaked at about 65M - oh so close.

I've only been running this modified config for an hour or so, but it seems to be doing fine - PermGen space is set at 128M like it should be.

Thanks for all the help. If I can help any more let me know.

Now that I know how to get this running, I don't mind trashing it if it will help.</pre>
    </div>

    <div id="c162" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c162">Comment 162</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-03 08:55:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=75329" name="attach_75329" title="Memory Monitor Plugin, version 1.0.1">attachment 75329</a> <a href="attachment.cgi?id=75329&amp;action=edit" title="Memory Monitor Plugin, version 1.0.1">[details]</a></span>
Memory Monitor Plugin, version 1.0.1

I've tweaked the plugin some more. It will now display the memory usage in KB along with the bars and when you click into the view, it will make a &quot;snapshot&quot; of the current values and show relative numbers (relative to the snapshot) as well. This makes it more simple to see when memory usage starts to go through the roof.

One piece of advice, though: PermGen is growing all the time since Eclipse and Java load classes on a &quot;as needed&quot; basis. So to determine if you really have a leak, you must use Eclipse for a long time (so all code has been loaded) and you must find a single operation which makes it grow again and again.

If you use different operations all the time, then the value can grow because the VM loads new classes.

Needs Java 1.5. To use, open the view &quot;Memory Monitor&quot; (under &quot;Other&quot;).</pre>
    </div>

    <div id="c163" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c163">Comment 163</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-15 14:54:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - java.lang.OutOfMemoryError"
   href="show_bug.cgi?id=199821">Bug 199821</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c164" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c164">Comment 164</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-15 15:23:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Usability] Make memory &amp; permgen management easier for new users"
   href="show_bug.cgi?id=200084">Bug 200084</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c165" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c165">Comment 165</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Boldt</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=nboldt&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=nboldt&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-15 17:40:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c164">comment #164</a>)
<span class="quote">&gt; *** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Usability] Make memory &amp; permgen management easier for new users"
   href="show_bug.cgi?id=200084">Bug 200084</a> has been marked as a duplicate of this bug. ***</span >

Well, it's not quite the same issue -- there's two sides of this coin. One is that &quot;excessive&quot; amounts of memory are required; the other is that users don't know how to fix this. 

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Usability] Make memory &amp; permgen management easier for new users"
   href="show_bug.cgi?id=200084">Bug 200084</a> suggests a fix for the user side; this one addresses the developer side. IMHO, both issues bear consideration.

</pre>
    </div>

    <div id="c166" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c166">Comment 166</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-30 07:03:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Memory leak!!!"
   href="show_bug.cgi?id=204993">Bug 204993</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c167" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c167">Comment 167</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Hendrik Maryns</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hendrik&#64;hendrikmaryns.name" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hendrik&#64;hendrikmaryns.name" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-22 06:17:19 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c162">comment #162</a>)
<span class="quote">&gt; Created an attachment (id=75329) [details]
&gt; Memory Monitor Plugin, version 1.0.1
&gt; 
&gt; I've tweaked the plugin some more. It will now display the memory usage in KB
&gt; along with the bars and when you click into the view, it will make a &quot;snapshot&quot;
&gt; of the current values and show relative numbers (relative to the snapshot) as
&gt; well. This makes it more simple to see when memory usage starts to go through
&gt; the roof.
&gt; 
&gt; One piece of advice, though: PermGen is growing all the time since Eclipse and
&gt; Java load classes on a &quot;as needed&quot; basis. So to determine if you really have a
&gt; leak, you must use Eclipse for a long time (so all code has been loaded) and
&gt; you must find a single operation which makes it grow again and again.
&gt; 
&gt; If you use different operations all the time, then the value can grow because
&gt; the VM loads new classes.
&gt; 
&gt; Needs Java 1.5. To use, open the view &quot;Memory Monitor&quot; (under &quot;Other&quot;).</span >

Could you elaborate on this a bit more?  What do I have to do with the jar to be able to run it etc?</pre>
    </div>

    <div id="c168" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c168">Comment 168</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-23 12:32:51 EST
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; Could you elaborate on this a bit more?  What do I have to do with the jar to
&gt; be able to run it etc?</span >

Simple:

- Stop Eclipse
- Download JAR
- Put the JAR into eclipse/plugins/
- Start Eclipse
- Open the &quot;Memory Monitor&quot; view

If the view doesn't show up in the list, try to start Eclipse with the option &quot;-clean&quot; so it will refresh the plug-in cache.</pre>
    </div>

    <div id="c169" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c169">Comment 169</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ed Burnette</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ed.burnette&#64;sas.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ed.burnette&#64;sas.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-25 09:36:08 EST
        </span>

      </div>




<pre class="bz_comment_text">As the original reporter of this issue I believe it can be closed. Eclipse 3.3 increased the default MaxPermSize and since then I haven't experienced the error myself. If there are problems with the default not being set right on some JVMs then that can be a different bugzilla entry. The problem with the Heap monitor not showing the true story and the error being obscure is covered in <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [Trim] Update HeapStatus to use java.lang.management APIs in Java 5"
   href="show_bug.cgi?id=130964">bug 130964</a> .

Before closing it though, somebody should go through all the bugs that were marked duplicate of this one and check to make sure they're all addressed (either by the --launcher.XXMaxPermSize fix or some other bugzilla entry). I checked a few but didn't have time for a thorough review.</pre>
    </div>

    <div id="c170" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c170">Comment 170</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-27 16:28:35 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - VM hangs when out of perm gen space"
   href="show_bug.cgi?id=153485">Bug 153485</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c171" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c171">Comment 171</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-02-27 18:17:55 EST
        </span>

      </div>




<pre class="bz_comment_text">After going through duplicates and triplicates, it seems that addition of &quot;-XX:MaxPermSize=256m&quot; fixes the problem for the time being.

To summarize (to the best of my knowledge):

=&gt; The problem

It appears that Sun VMs have pre-set limit on the amount of memory that stores .class file information. As Eclipse was growing, at some point it started to run out of space (64M) in this area. As class loading is dynamic, running out of space dependent on how many different things user was working with. Shortly before 3.3 release it was possible to run out of PermGen memory with just Eclipse SDK.
  - Problem was only reported on Sun VMs, both 1.4 and 1.5
  - Problem was reported on Windows, Linux, and Mac

=&gt; Symptoms

  - Random crashes running out of memory and often mentioning PermGen
  - Random deadlocks, usually in a class loader, resulting in 100% CPU utilization (50% on dual CPUs)

=&gt; The workaround

Since Eclipse 3.3, the Eclipse launcher adds an argument to increase PermGen size to 256Mb. 
  - BUT: launcher can only identify Sun VM on Windows. Mac and Linux users still have to add PermGen argument
    - &quot;-XX:MaxPermSize=256m&quot; (if used on a command line &quot;-vmargs -XX:MaxPermSize=256m&quot;)
    - see also <a href="http://wiki.eclipse.org/FAQ_How_do_I_increase_the_permgen_size_available_to_Eclipse%3F">http://wiki.eclipse.org/FAQ_How_do_I_increase_the_permgen_size_available_to_Eclipse%3F</a>
    - the setting can be checked via Help -&gt; About Eclipse SDK -&gt; Configuration details

=&gt; Open follow-ups

  - Automatically increasing PermGen size on Linux and Mac: <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [launcher] --launcher.XXMaxPermSize: Can't identify Sun VM"
   href="show_bug.cgi?id=195897">bug 195897</a>
  - Low memory monitor: <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [Trim] Update HeapStatus to use java.lang.management APIs in Java 5"
   href="show_bug.cgi?id=130964">bug 130964</a>

Overall, I counted 39 duplicates of this bug, some with very extensive discussions; a lot of work was contributed by everybody into resolving this issue. 

The <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse commits seppuka"
   href="show_bug.cgi?id=135420">bug 135420</a> gets an honorable mention for the catchiest title.

As it does not seem that there is any more work that can be done in this bug, I too think that it can be closed.
</pre>
    </div>

    <div id="c172" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c172">Comment 172</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-03-17 10:11:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse has an &quot;Internal compiler error java.lang.OutOfMemoryError: GC overhead limit exceeded&quot;"
   href="show_bug.cgi?id=219697">Bug 219697</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c173" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c173">Comment 173</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Moffatt</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=emoffatt&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=emoffatt&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-04-30 14:19:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse 3.3.2 crash randomly OPenSuse-gnome"
   href="show_bug.cgi?id=229050">Bug 229050</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c174" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c174">Comment 174</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">MH</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mhilpert&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mhilpert&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-05-02 11:38:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">Unhandled event loop exception (OutOfMemoryError: unable to create new native thread):

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED NOT_ECLIPSE - Unhandled event loop exception (OutOfMemoryError: unable to create new native thread)"
   href="show_bug.cgi?id=229588">https://bugs.eclipse.org/bugs/show_bug.cgi?id=229588</a></pre>
    </div>

    <div id="c175" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c175">Comment 175</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-08-19 09:15:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse crashes without catching the exception"
   href="show_bug.cgi?id=241551">Bug 241551</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c176" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c176">Comment 176</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">evan <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=evan&#64;orbitingeden.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=evan&#64;orbitingeden.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-08-08 21:58:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=92250#c160">comment #160</a>)

I'm a newbie to eclipse and ran into this bug with the most recent version of Eclipse Helios:

Version: Helios Release
Build id: 20100617-1415

Windows XP SP3

Java JDK 1.6.0_21

In <a href="show_bug.cgi?id=92250#c160">comment 160</a>, Kevin Crocker pointed out the following lines from eclipse.ini and I noted the same things. Mine came as --launcher.XXMaxPermSize but crashed all the time with PermGen memory errors. I changed it to -XX:MaxPermSize=128m and placed it after the -vmargs text and it has been working fine for a week or more. Before it was crashing every several minutes.

Kevin Crocker's text that seems accurate to me (though I used 256m instead of 128m).

-clean
-showsplash org.eclipse.platform
--launcher.XXMaxPermSize    &lt;---- this doesn't seem to work at all.
256M
-vmargs
-Xms64m
-Xmx1024m
-XX:MaxPermSize=128m        &lt;----- this is the line that seems to have worked
-Dosgi.bundlefile.limit=100

It seems misleading to me to close this bug saying isn't an Eclipse error when there are settings that can be made in Eclipse to fix it. Shouldn't future versions of Eclipse be delivered with this altered (redundant) .ini text?

-evan

<span class="quote">&gt; OK _ now have a nicely working Eclipse 3.3
&gt; 
&gt; Here's what seems to have solved the problem.
&gt; 
&gt; I deleted the entire /eclipse/configuration/  directory including the
&gt; config.ini. Of course, Eclipse complained about that so I had to put config.ini
&gt; back.
&gt; 
&gt; The above didn't completely solve the problem but it did make it so that I
&gt; could work for a bit longer before Eclipse died with an OOME.
&gt; 
&gt; Here's what seemed to fix it:
&gt; 
&gt; I placed the following:
&gt; 
&gt; 
&gt; -XX:MaxPermSize=128m
&gt; 
&gt; after the -vm arg on it's own line. It appears that SUN's JVM is ignoring
&gt; the 
&gt; 
&gt; --launcher.XXMaxPermSize
&gt; 256M
&gt; 
&gt; because I am getting 128M -- yes, I did try it the other way around too
&gt; just to see what happened.
&gt; 
&gt; Here's my eclipse.ini
&gt; -clean
&gt; -showsplash org.eclipse.platform
&gt; --launcher.XXMaxPermSize    &lt;---- this doesn't seem to work at all.
&gt; 256M
&gt; -vmargs
&gt; -Xms64m
&gt; -Xmx1024m
&gt; -XX:MaxPermSize=128m        &lt;----- this is the line that seems to have worked
&gt; -Dosgi.bundlefile.limit=100</span ></pre>
    </div>

    <div id="c177" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c177">Comment 177</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johan Compagner</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jcompagner&#64;j-com.nl" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jcompagner&#64;j-com.nl" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-08-09 04:26:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">what you encounter doesnt have anything to do with this bug but it is a bug that oracle introduced in java 6u21, see:

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED NOT_ECLIPSE - [launcher] VM argument in eclipse.ini not take in account with java 1.6u21"
   href="show_bug.cgi?id=319514">https://bugs.eclipse.org/bugs/show_bug.cgi?id=319514</a>

Oracle already fixed it again in the first build after the public 6u21 build... 

But personally i dont have great hopes anymore that we get nice updates without any problems now that oracle is in charge, With our product we had problems with pretty much every java 6 update from u18 and on... Every time it is something that breaks..</pre>
    </div>

    <div id="c178" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=92250#c178">Comment 178</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-30 10:25:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Win32] Eclipse hangs up when opening any file"
   href="show_bug.cgi?id=295390">Bug 295390</a> has been marked as a duplicate of this bug. ***</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=92250">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=92250">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=92250">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=92250&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=92250" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>