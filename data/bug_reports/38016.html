<!DOCTYPE html>
<html lang="en">
  <head>
    <title>38016 &ndash; [README] java shutdown hooks are not invoked on exit</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "38016 – [README] java shutdown hooks are not invoked on exit",
                             "show_bug.cgi?id=38016" );
        document.title = "38016 – [README] java shutdown hooks are not invoked on exit";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "38016 – [README] java shutdown hooks are not invoked on exit", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_REOPENED
                 bz_product_JDT
                 bz_component_Debug
                 bz_bug_38016 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;38016</span>

        <span id="subtitle" class="subheader">[README] java shutdown hooks are not invoked on exit</span>

        <span id="information" class="header_addl_info">Last modified: 2021-02-19 13:25:56 EST</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=38016&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=38016" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2021-02-19 13:25:56">
  <input type="hidden" name="id" value="38016">
  <input type="hidden" name="token" value="1629849087-j17ZUhgfXgfFgYyjsDeRksP8qPQbgvue_EDzf7wPN68">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=38016"><b>Bug&nbsp;38016</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[README] java shutdown hooks are not invoked on exit</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[README] java shutdown hooks are not invoked on exit
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[README] java shutdown hooks are not invoked on exit' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">REOPENED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >JDT

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=JDT"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Debug

  (<a href="buglist.cgi?component=Debug&amp;product=JDT&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>2.1 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Linux-GTK
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=38016">38 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=38016#vote_38016">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">JDT-Debug-Inbox</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jdt-debug-inbox&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jdt-debug-inbox&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'jdt-debug-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (9)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Ability to send Signal 2 / Break to VM application is running in"
   href="show_bug.cgi?id=11088">11088</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - File lock is shared with JDT: launches linger, eat up all memory"
   href="show_bug.cgi?id=51351">51351</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Terminating Java process in Console does not run shutdownhandler"
   href="show_bug.cgi?id=55208">55208</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Terminate button doesn't shutdown VM cleanly"
   href="show_bug.cgi?id=70418">70418</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - shutdown hook not called when terminating pgm in Eclipse"
   href="show_bug.cgi?id=75791">75791</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - JVM Shutdown hooks are not called when the JVM process is killed through eclipse"
   href="show_bug.cgi?id=179179">179179</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Shutdown hook output not always captured in Eclipse Console"
   href="show_bug.cgi?id=248673">248673</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - The Console View should provide a &quot;Shutdown&quot; beside the &quot;Terminate&quot; when running an OSGi Framework"
   href="show_bug.cgi?id=368104">368104</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Breakpoint in Shutdown Hook does not work (reloaded)"
   href="show_bug.cgi?id=449433">449433</a> 
      </span>
      (<a href="buglist.cgi?bug_id=11088,51351,55208,70418,75791,179179,248673,368104,449433">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2003-05-23 04:14 EDT by <span class="vcard"><span class="fn">Christian Elsen</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=swenespilce&#64;elsen.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=swenespilce&#64;elsen.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2021-02-19 13:25 EST
      (<a href="show_activity.cgi?id=38016">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>51 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="adamrabung">adamrabung</option>
                <option value="ahti">ahti</option>
                <option value="alex-pub.eclipse">alex-pub.eclipse</option>
                <option value="andreasm">andreasm</option>
                <option value="bajisthlm">bajisthlm</option>
                <option value="ben.teese">ben.teese</option>
                <option value="cgatesman">cgatesman</option>
                <option value="clovis.seragiotto">clovis.seragiotto</option>
                <option value="cvgaviao">cvgaviao</option>
                <option value="daniel_megert">daniel_megert</option>
                <option value="darin.eclipse">darin.eclipse</option>
                <option value="dev.tom.menzel">dev.tom.menzel</option>
                <option value="eclipse.org">eclipse.org</option>
                <option value="eclipse">eclipse</option>
                <option value="eric.vergnaud">eric.vergnaud</option>
                <option value="flavio.etrusco">flavio.etrusco</option>
                <option value="fswork90">fswork90</option>
                <option value="gunnar">gunnar</option>
                <option value="hamiltont">hamiltont</option>
                <option value="J.F.Lanting">J.F.Lanting</option>
                <option value="jean-marc.astesana">jean-marc.astesana</option>
                <option value="joel.schaal">joel.schaal</option>
                <option value="john">john</option>
                <option value="katharsas">katharsas</option>
                <option value="keefedm">keefedm</option>
                <option value="ken">ken</option>
                <option value="laeubi">laeubi</option>
                <option value="ljb">ljb</option>
                <option value="luca.faustin">luca.faustin</option>
                <option value="luke.hutch">luke.hutch</option>
                <option value="maik">maik</option>
                <option value="marek.jagielski">marek.jagielski</option>
                <option value="mark">mark</option>
                <option value="markus">markus</option>
                <option value="megha_shah">megha_shah</option>
                <option value="mike">mike</option>
                <option value="MikeGebirge">MikeGebirge</option>
                <option value="neon">neon</option>
                <option value="post">post</option>
                <option value="reidmp">reidmp</option>
                <option value="richardfearn">richardfearn</option>
                <option value="sarika.sinha">sarika.sinha</option>
                <option value="Sean.Redmond">Sean.Redmond</option>
                <option value="sneedsquatch">sneedsquatch</option>
                <option value="sven.koehler">sven.koehler</option>
                <option value="t1">t1</option>
                <option value="thomas">thomas</option>
                <option value="tony.homer">tony.homer</option>
                <option value="torkildr">torkildr</option>
                <option value="vberlin">vberlin</option>
                <option value="vitaliy.se">vitaliy.se</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ><ul class="bug_urls">
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/152852">
        Gerrit Change</a>
          </li></ul>

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=279610"
               title="View the content of the attachment">
          <b>working solution</b></a>

          <span class="bz_attach_extra_info">
              (1.43 KB,
                application/octet-stream)

            <br>
            <a href="#attach_279610"
               title="Go to the comment associated with the attachment">2019-08-17 00:50 EDT</a>,

            <span class="vcard"><span class="fn">Eric Vergnaud</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric.vergnaud&#64;wanadoo.fr" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric.vergnaud&#64;wanadoo.fr" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=279610&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a id="view_all" href="attachment.cgi?bugid=38016&amp;action=viewall">View All</a>
        </span>
        <a href="attachment.cgi?bugid=38016&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=38016&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christian Elsen</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=swenespilce&#64;elsen.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=swenespilce&#64;elsen.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-05-23 04:14:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">after termination of an application launch (debug and run) no shutdown 
hook is invoked. Executing the same application from the command line 
without eclipse on the same jvm as configured in eclipse executes all shutdown hooks as 
expected. 
I tracked the problem down to the class java.lang.UnixProcess but I suppose this is just a 
symptom. The curious thing is that stepping through the method 
 
public void destroy() { 
	destroyProcess(pid); 
        try { 
            stdin_stream.close(); 
            stdout_stream.close(); 
            stderr_stream.close(); 
        } catch (IOException e) { 
            // ignore 
        } 
    } 
of UnixProcess changes the runtime behaviour: The shutdown hooks are 
invoked if one waits for a short time (let it be 1s) after the invocation of destroyProcess(pid). 
I surmise the problem is somewhere else as the same jvm works correctly without 
eclipse on the same class. Maybe eclipse uses other methods for thread 
termination than the jvm itself? 
I got the erroneous result with different applications. Here's an example 
for testing: 
 
public class Test  
{ 
  static { 
Thread hook = new Thread() 
		{ 
		  public void run() 
		  { 
			System.out.println(&quot;shutdown hook invoked&quot;); 
		  } 
		}; 
		hook.setPriority(Thread.MIN_PRIORITY); 
		Runtime.getRuntime().addShutdownHook(hook); 
	} 
			 
	public static void main(String [] args) throws Exception  
	{ 
		System.out.println(&quot;Read text: &quot; + System.in.read()); 
	} 
}</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-05-23 10:24:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">NOTE: the shutdown hooks do work if you terminate the VM via the DOS console. 
This can be acheived by launching Eclipse with &quot;javaw&quot; (i.e. no console), and 
then launching your java apps with console (i.e. with &quot;java&quot;, that can be 
specified in the JRE tab). I found when using CTRL-C from the DOS console, and 
using the close button from the DOS console, does invoke the shutdown hooks. 

Since the termiante button in Eclipse kills the associated process with a call 
to Process.destroy(), and since we do not own/control the implementation of 
java.lang.Process.destory(), I'm not sure that there is much we can do.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-05-23 10:25:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">Another NOTE: the &quot;Runtime workbench&quot; launch config type does not support the 
specification of &quot;java vs. javaw&quot; when lanuching a VM, so this function is not 
available with Runtime workbench launch configs (i.e. a DOS console).</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-07-11 12:10:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">No action planned currently. Deferred.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-05-03 13:54:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - File lock is shared with JDT: launches linger, eat up all memory"
   href="show_bug.cgi?id=51351">Bug 51351</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-05-03 13:56:26 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Terminating Java process in Console does not run shutdownhandler"
   href="show_bug.cgi?id=55208">Bug 55208</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-07-20 10:01:07 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Terminate button doesn't shutdown VM cleanly"
   href="show_bug.cgi?id=70418">Bug 70418</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sean Redmond</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Sean.Redmond&#64;mto.gov.on.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Sean.Redmond&#64;mto.gov.on.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-10-07 09:48:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - shutdown hook not called when terminating pgm in Eclipse"
   href="show_bug.cgi?id=75791">Bug 75791</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Channing Walton</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=channingwalton&#64;mac.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=channingwalton&#64;mac.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-07 12:26:00 EST
        </span>

      </div>




<pre class="bz_comment_text">Is there any plan to fix this, its proving to be a nuisance for me :-)</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-03-07 12:32:17 EST
        </span>

      </div>




<pre class="bz_comment_text">Not planned for 3.2, can re-consider in future release</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ben Teese</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ben.teese&#64;shinetech.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ben.teese&#64;shinetech.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-25 21:40:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm keen to be able to trigger a shutdown hook in a process that was started by Eclipse, but am having trouble getting the instructions at <a href="show_bug.cgi?id=38016#c1">Comment #1</a> (<a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - [README] java shutdown hooks are not invoked on exit"
   href="show_bug.cgi?id=38016#c1">https://bugs.eclipse.org/bugs/show_bug.cgi?id=38016#c1</a>) to work. However, this could be because I don't quite understand <a href="show_bug.cgi?id=38016#c2">Comment #2</a> (<a class="bz_bug_link 
          bz_status_REOPENED "
   title="REOPENED - [README] java shutdown hooks are not invoked on exit"
   href="show_bug.cgi?id=38016#c2">https://bugs.eclipse.org/bugs/show_bug.cgi?id=38016#c2</a>). 

What I do is:

1 Start Eclipse 3.1.2 with javaw.exe as the vm.
2 In the Java perspective, right click on the class I want to run and select &quot;Run-&gt;Run as...&quot;.
3 Select the &quot;Java Application&quot; node and then click &quot;New&quot;.
4 Select the &quot;JRE&quot; tab, then the &quot;Alternate JRE&quot; radio button, then the &quot;Alternate Java Executable&quot; radio button. I then enter &quot;java&quot; in the text field.
5 Click &quot;Run&quot;.

However, the application still directs its output to the Eclipse Console View instead of a new DOS window. Consequently, it can't detect Control-C and my shutdown hook doesn't get triggered. To be perfectly honest, I don't really understand <a href="show_bug.cgi?id=38016#c2">comment #2</a>, so appreciate I might be missing something here. Is anybody able to help me with this?</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Barnes</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cocoakevin&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cocoakevin&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-25 22:57:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">The workarounds mentioned in <a href="show_bug.cgi?id=38016#c1">comment #1</a> and <a href="show_bug.cgi?id=38016#c2">comment #2</a> are no longer available as a shell is never allocated when launching any more (regardless of which executable you use).
Have you tried killing the launched process via the task manager? Can't say for sure that your shut down hooks will be be called...</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ben Teese</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ben.teese&#64;shinetech.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ben.teese&#64;shinetech.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-26 21:21:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">I tried killing the process via the task manager but experienced the same problem. I'm using Spring with a connection pool so it's desirable for me to do a clean shutdown. This bug gets a vote from me :)

As a workaround, when I'm running inside Eclipse I use a main() method that sets up the application (including the shutdown hook) and then calls System.in.read() - which blocks whilst waiting for input. I can then interact with my application (via other threads I setup) until I push 'enter' in my console view. This unblocks System.in.read(). main() then calls System.exit(), which triggers my shutdown hook.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-26 07:31:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - JVM Shutdown hooks are not called when the JVM process is killed through eclipse"
   href="show_bug.cgi?id=179179">Bug 179179</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Hallgren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=thomas&#64;tada.se" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=thomas&#64;tada.se" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 07:20:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">What is the current status of this bug? I have similar problems but I cannot use the suggested workaround reading from System.in because I don't own the code. It would be very nice with a button or something that would send the ctrl-c to the debugged process.

</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omry Yadan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=public&#64;yadan.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=public&#64;yadan.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 07:29:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">And why is it marked deprecated?
last I checked, Runtime.addShutdownHook() was not deprecated.</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Windatt</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=curtis.windatt.public&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=curtis.windatt.public&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 09:49:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">The RESOLVE LATER status is deprecated, not this bug report.  We are moving to a new way of deferring bugs, but we have no plans to change the status of our entire later box.</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 17:34:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">This should likely be a won't fix - same problem as <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WONTFIX - Provide a way to send interrupt, end of file, kill, other signals to launched program"
   href="show_bug.cgi?id=64230">bug 64230</a>. We don't have a way from Java to send signals to another process.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 17:35:24 EDT
        </span>

      </div>




<pre class="bz_comment_text">Marking as won't fix.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Hallgren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=thomas&#64;tada.se" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=thomas&#64;tada.se" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 17:41:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">Eclipse contains native code for other purposes. Why not this one?</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Hallgren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=thomas&#64;tada.se" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=thomas&#64;tada.se" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 17:43:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">Another idea is perhaps to supply an option to start a remote command window instead of using the console.</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omry Yadan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=public&#64;yadan.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=public&#64;yadan.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 17:50:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">this bug presents a serious problem in some cases.
for example, when developing bluetooth applications, not releasing resources on
exit may bring the drivers to an unstable state which requires reboot.

maybe its worth checking how Sun terminates the JVM at NetBeans.</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-10-06 22:19:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Shutdown hook output not always captured in Eclipse Console"
   href="show_bug.cgi?id=248673">Bug 248673</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Maik Musall</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=maik&#64;selbstdenker.ag" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=maik&#64;selbstdenker.ag" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-07 04:17:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm another victim of this. I'm using a session pool for connections to a commercial service and need to close those sessions on exit. If I don't, I quickly hit a session count limit for my IP address and cannot continue testing.

What I don't understand is why is Eclipse insisting on using Process.destroy() instead of Runtime.exit()? Why not make this an option in the runtime configuration?

</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-07 05:37:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=38016#c23">comment #23</a>)
<span class="quote">&gt; What I don't understand is why is Eclipse insisting on using Process.destroy()
&gt; instead of Runtime.exit()? Why not make this an option in the runtime
&gt; configuration?</span >

Note, the issue is different. This bug is about the red square &quot;Terminate&quot; button in the Eclipse Console/Debug view. It terminates ('kills') an external process launched through an Eclipse Run/Debug launch configuration. 

&quot;Runtime.exit&quot; is for closing the *current* VM instance but you don't want to shut down the Eclipse IDE if you terminate an external process you are debugging. The only way to fix the issue would be to implement some communication between the external VM and the IDE to force a proper shutdown. But the proper way is to always shutdown/close the external process using its preferred way. 

It's the same with Tomcat or any other server launched for debugging your application. You don't end Tomcat by killing the process but by invoking a shutdown command. 

The red square button really kills a process. It does not properly shutdown any process.

</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ahti Kitsik</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ahti&#64;arxpoint.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ahti&#64;arxpoint.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-07 05:43:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">There is a similar situation with any windows or even java application.

In windows task manager it depends on the tab -- Ending Task at Application tab respects java shutdown hooks and tries to end gracefully. End Process ends java process quickly and without any shutdown hooks called.

It is expected that we should have similar feature in Eclipse -- have a decision whether to kill quick or gracefully.</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gunnar Wagenknecht</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gunnar&#64;wagenknecht.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gunnar&#64;wagenknecht.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-07 06:06:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=38016#c25">comment #25</a>)
<span class="quote">&gt; It is expected that we should have similar feature in Eclipse -- have a
&gt; decision whether to kill quick or gracefully.</span >

Yes I agree. But have a look at <a href="show_bug.cgi?id=38016#c17">comment #17</a>. Until there isn't such thing (either in the JRE or in some EPL contributed code using JNI and maintained by any volunteer) I don't think it will ever get implemented. </pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Rikard Elofsson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bajisthlm&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bajisthlm&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-07 08:11:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">I understand <a href="show_bug.cgi?id=38016#c17">comment 17</a> but couldnt there be some hook somewhere to call things before Process.terminate?</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Omry Yadan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=public&#64;yadan.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=public&#64;yadan.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-07 08:54:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">I just verified the following on Linux with Java 1.6.0_12 :
when a Java process receives a SIGTERM (the default signal for kill) the shutdown hooks executes.

when it receives SIGKILL (aka kill -9), the shutdown signal does not gets called.
</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Tkachenko</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=virtualvat&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=virtualvat&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-03-30 06:42:07 EDT
        </span>

      </div>




<pre class="bz_comment_text">Hi guys!

Do you have some plans to fix that? Is it possible simply to add one more button beside the termination one to send SIGTERM instead of termination like it is for the only current button? Or even add some combobox to send chosen signal to the running application?</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ken Gilmer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ken&#64;angelshare.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ken&#64;angelshare.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-27 11:50:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm affected by this as well.  Users assume that the red box button is the way an application should be shutdown, and think it's my bug when shutdown doesn't occur properly.  I would be able to pass a signal to my application to shutdown properly if I could get notified when the big red button is pressed.  Perhaps I would register for notification when that button is pressed and then could do my application-specific handling (sending a string over a socket, or maybe writing to the IOConsole in my case)?</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darin Wright</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darin.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darin.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-27 15:48:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">The platform ends up delegating to implementations of ITerminate.terminate() when the button is pressed. When pressed in the console, the IDebugTarget implementations are called before the IProcess (if there is a target associated with the process). Perhaps you could provide your own implementation of ITerminate in your target or your own subclass of RuntimeProcess.</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Pogrebnyak</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alex-pub.eclipse&#64;reflexion.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alex-pub.eclipse&#64;reflexion.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-08-10 17:45:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=38016#c29">comment #29</a>)
<span class="quote">&gt; Hi guys!
&gt; 
&gt; Do you have some plans to fix that? Is it possible simply to add one more
&gt; button beside the termination one to send SIGTERM instead of termination like
&gt; it is for the only current button? Or even add some combobox to send chosen
&gt; signal to the running application?</span >

Second this motion, I think you need both &quot;Terminate&quot; and &quot;Shutdown&quot; buttons.
Otherwise the only way to debug the graceful shutdown of the application is to pollute your code with guarded &quot;exit&quot; calls.

Just imagine what happens when one of these calls is not removed before going into production.

BTW, I think the current action of the big red button ( SIGKILL ) is still valuable, so it should be preserved.</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Reid M. Pinchback</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=reidmp&#64;yahoo.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=reidmp&#64;yahoo.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-22 12:09:15 EST
        </span>

      </div>




<pre class="bz_comment_text">I may be off base here, but thought I'd chime in (even though an issue marked WONTFIX 3 yrs ago probably won't get fixed).

I'm going to speak specifically to the case of **debugging** code.

If Eclipse has fired off a separate process, and we have the ability to debug it, then doesn't that suggest that JPDA is being used so that Eclipse can communicate with that process?  

If JPDA is being used, then why is this whole java.lang.Process.destroy(...) discussion even germaine?  Why isn't the debugger simply using the wire protocol to send an Exit (<a href="http://download.oracle.com/javase/1.4.2/docs/guide/jpda/jdwp/jdwp-protocol.html#JDWP_VirtualMachine_Exit">http://download.oracle.com/javase/1.4.2/docs/guide/jpda/jdwp/jdwp-protocol.html#JDWP_VirtualMachine_Exit</a>) ?  Then, as others have suggested, we could have exactly the scenario that we have with managing Tomcat servers; one button for the soft terminate, the other for the hard kill.

I'll admit I don't live in JPDA/JDWP, so maybe there is something I'm missing.</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Windatt</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=curtis.windatt.public&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=curtis.windatt.public&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-01-13 11:33:41 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - The Console View should provide a &quot;Shutdown&quot; beside the &quot;Terminate&quot; when running an OSGi Framework"
   href="show_bug.cgi?id=368104">Bug 368104</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Bednarczyk</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mark&#64;slytechs.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mark&#64;slytechs.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-23 11:56:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">I have a work-around for this bug. It really is just a work around but if you need a clean way to shutdown your process under IDE control, this might help. The link below is to the write up on the workaround and a download utility.

<a href="http://jnetpcap.com/node/1106">http://jnetpcap.com/node/1106</a>

This is something not recommended for production environments, obviously, but works well in development. Probably won't be application in all circumstances.</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christoph Laeubrich</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laeubi&#64;laeubi-soft.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laeubi&#64;laeubi-soft.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-08-23 12:09:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">It would still be good to have a &quot;shutdown&quot; and a &quot;terminate&quot; button native in eclipse ;-)</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Joel SCHAAL</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=joel.schaal&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=joel.schaal&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-30 14:01:10 EDT
        </span>

      </div>




<pre class="bz_comment_text">Could this bug please be reconsidered in light of <a href="show_bug.cgi?id=38016#c33">comment 33</a> ?...</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christoph Laeubrich</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=laeubi&#64;laeubi-soft.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=laeubi&#64;laeubi-soft.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-30 15:31:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">I definately would vote for this, the hard exit causes several issues (lost setting, temp files not deleted) etc.</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Timotej Ecimovic</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=t1&#64;digitalgeyser.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=t1&#64;digitalgeyser.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-12 12:51:31 EST
        </span>

      </div>




<pre class="bz_comment_text">I would vote for this too. We have command-line entry point for our RCP application, and users often run things from command line and then hit 'Ctrl-C' in the middle, which causes app to just collapse. I'd like something better than having to run some separate processes that monitor the main process.</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Richard Fearn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=richardfearn&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=richardfearn&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-12-20 07:06:00 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Reid M. Pinchback from <a href="show_bug.cgi?id=38016#c33">comment #33</a>)

<span class="quote">&gt; I may be off base here, but thought I'd chime in (even though an issue
&gt; marked WONTFIX 3 yrs ago probably won't get fixed).</span >

Over 6 years ago now :-)

<span class="quote">&gt; I'm going to speak specifically to the case of **debugging** code.
&gt; 
&gt; If Eclipse has fired off a separate process, and we have the ability to
&gt; debug it, then doesn't that suggest that JPDA is being used so that Eclipse
&gt; can communicate with that process?  
&gt; 
&gt; If JPDA is being used, then why is this whole java.lang.Process.destroy(...)
&gt; discussion even germaine?  Why isn't the debugger simply using the wire
&gt; protocol to send an Exit
&gt; (<a href="http://download.oracle.com/javase/1.4.2/docs/guide/jpda/jdwp/jdwp-protocol">http://download.oracle.com/javase/1.4.2/docs/guide/jpda/jdwp/jdwp-protocol</a>.
&gt; html#JDWP_VirtualMachine_Exit) ?  Then, as others have suggested, we could
&gt; have exactly the scenario that we have with managing Tomcat servers; one
&gt; button for the soft terminate, the other for the hard kill.</span >

As far as I can tell, the JDWP Exit command causes the VM process to exit immediately without running shutdown hooks (i.e. not a 'graceful' shutdown by any means). Eclipse sends the Exit command when you terminate a &quot;Debug&quot; application, hence why shutdown hooks don't run.

When you &quot;Run&quot; an application, Eclipse terminates it with Process.destroy, which sends SIGTERM to that process, so shutdown hooks *do* run.

So in a way, sending the Exit command via JDWP is *worse* than using Process.destroy, as the latter would allow shutdown hooks to run.

Perhaps a solution would be to provide an option (or an alternative button) to allow &quot;Debug&quot; applications to be terminated with Process.destroy instead of the JDWP Exit command.</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Volker Berlin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=vberlin&#64;inetsoftware.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=vberlin&#64;inetsoftware.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-03-28 09:25:24 EDT
        </span>

      </div>




<pre class="bz_comment_text">A possible implementation inside Eclipse can be that Eclipse add a small launcher class to the application. This starter can launch on a socket and then start the target application. On a press of the stop button Eclipse contact this socket and the launcher call System.exit() directly inside the VM.</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Rennie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Michael_Rennie&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Michael_Rennie&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-04-21 10:29:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Ability to send Signal 2 / Break to VM application is running in"
   href="show_bug.cgi?id=11088">Bug 11088</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Hamliton</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hamiltont&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hamiltont&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-09-22 09:15:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">This just bit me. I'm working on a distributed app, and I kept wondering why my remote nodes were not being cleaned up properly when trying to debug from eclipse. Sending a SIGTERM externally makes everything work as expected</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mike Gebirge</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=MikeGebirge&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=MikeGebirge&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-10 08:01:40 EST
        </span>

      </div>




<pre class="bz_comment_text">Bit me too, see comments #33 and #40.

Why is this WONTFIX although this clearly is a bug in Eclipse?</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy Tkachenko</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=virtualvat&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=virtualvat&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-10 08:24:12 EST
        </span>

      </div>




<pre class="bz_comment_text">yeah strange why this is not (being) fixed despite the fact that it's a bug...</pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Megha Shah</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=megha_shah&#64;persistent.co.in" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=megha_shah&#64;persistent.co.in" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-11 01:25:14 EST
        </span>

      </div>




<pre class="bz_comment_text">I have an RCP application. I need some preferences to be set just before eclipse is shut. It happens when shut down normally, but when killed or terminated, the preferences for my RCP are not updated, due to this bug. Can any one suggest a workaround or get this bug fixed?</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Marek Jagielski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marek.jagielski&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marek.jagielski&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-21 17:57:41 EST
        </span>

      </div>




<pre class="bz_comment_text">Hi,
In launch of MyLaunchDelegate extends JavaLaunchDelegate I add decorator just after process is launched:

		super.launch(configuration, mode, launch, monitor);
		
		if(!debug) {
			IProcess p = launch.getProcesses()[0];
			launch.addProcess(new ProcessDecorator(p));
			launch.removeProcess(p);
		}

In this decorator I am doing

public class ProcessDecorator implements IProcess {

	private IProcess p;
	
	public ProcessDecorator(IProcess p) {
		this.p = p;
	}

	&#64;SuppressWarnings(&quot;rawtypes&quot;)
	&#64;Override public Object        getAdapter(Class arg)                { return p.getAdapter(arg); }
	&#64;Override public boolean       canTerminate()                       { return p.canTerminate(); }
	&#64;Override public boolean       isTerminated()                       { return p.isTerminated(); }
	&#64;Override public String        getAttribute(String s)               { return p.getAttribute(s); }
	&#64;Override public int           getExitValue() throws DebugException { return p.getExitValue(); }
	&#64;Override public String        getLabel()                           { return p.getLabel(); }
	&#64;Override public ILaunch       getLaunch()                          { return p.getLaunch(); }
	&#64;Override public IStreamsProxy getStreamsProxy()                    { return p.getStreamsProxy(); }
	&#64;Override public void          setAttribute(String s1, String s2)   {        p.setAttribute(s1, s2); }
	&#64;Override public void          terminate() throws DebugException    {
                // TODO: custom termination

		p.terminate();
	}
}

It is my workaround.</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Megha Shah</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=megha_shah&#64;persistent.co.in" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=megha_shah&#64;persistent.co.in" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-23 00:15:35 EST
        </span>

      </div>




<pre class="bz_comment_text">Could you please suggest a method to set preferences just before eclipse is terminated or killed?</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Megha Shah</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=megha_shah&#64;persistent.co.in" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=megha_shah&#64;persistent.co.in" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-23 00:16:01 EST
        </span>

      </div>




<pre class="bz_comment_text">Could you please suggest a method to set preferences just before eclipse is terminated or killed?</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Marek Jagielski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marek.jagielski&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marek.jagielski&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-02-23 15:29:59 EST
        </span>

      </div>




<pre class="bz_comment_text">Megha Shah,

I am not sure what do you mean by 'set preferences'. If you are talking about inter-process communication I use dirmi: <a href="https://github.com/cojen/Dirmi">https://github.com/cojen/Dirmi</a>.

I provided an example how to use it in eclipse rcp:
<a href="https://github.com/marekjagielski/eclipse-launcher-with-dirmi-server">https://github.com/marekjagielski/eclipse-launcher-with-dirmi-server</a>

In my project I am doing as I described before. To be precise: I am &quot;asking&quot; process to terminate gently on red button click:

        private boolean sigkill = false;

	&#64;Override public void          terminate() throws DebugException    {
		if(!sigkill) {
    		try {
    			IDebugIService cs = DirmiServer.INSTANCE.getRemote(&quot;main&quot;, IDebugIService.class);
    			if(cs != null) cs.modelEvent(new TerminateRequest());
    		} catch (RemoteException e) { }
			this.sigkill = true;
		} else p.terminate();
	}

sigkill flag is a &quot;lifeline&quot; in case when something went wrong in process termination. If after first click the process didn't stop, second click on red button shuts down as default.

If you want know more how to integrate dirmi in your project, I invite you to post for example in this topic: <a href="http://www.eclipse.org/forums/index.php/t/550201/">http://www.eclipse.org/forums/index.php/t/550201/</a></pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jan Mothes</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=katharsas&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=katharsas&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-08-05 17:30:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">Anything new?
Is there any ugly fix i can install to make this SOMEHOW work?
I need my embedded server to shutdown gracefully!

This is  a really basic thing that really should work, and even if fairies must die for it and magic be applied, please go for it.</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alexander Abdugafarov</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=fswork90&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=fswork90&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-02-08 09:33:40 EST
        </span>

      </div>




<pre class="bz_comment_text">I agree, this is probably the most annoying &quot;feature&quot; of the Eclipse at the moment. PLEASE reconsider addressing this! If other IDEs can do this, why can't Eclipse?</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy S</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=vitaliy.se&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=vitaliy.se&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-02-24 12:06:34 EST
        </span>

      </div>




<pre class="bz_comment_text">This bug is 13 years old.
Is it possible to sponsor the fix for this bug?</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vitaliy S</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=vitaliy.se&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=vitaliy.se&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-02-24 13:49:58 EST
        </span>

      </div>




<pre class="bz_comment_text">I found a workaround for this problem on linux.

start your java application from eclipse

if you debug only one application at time you can use in console 

ps auwx | grep jdwp | grep -v grep | cut -d' ' -f2 | xargs kill

if you use more than one application, chose your id to kill from 

ps auwx | grep jdwp</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Sirianni</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric.sirianni&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric.sirianni&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-11-14 12:51:29 EST
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; When you &quot;Run&quot; an application, Eclipse terminates it with Process.destroy,
&gt; which sends SIGTERM to that process, so shutdown hooks *do* run.</span >

This is not accurate.  Shutdown hooks are not run regardless of whether or not the process was launched via &quot;Run&quot; vs. &quot;Debug&quot;.</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Vergnaud</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric.vergnaud&#64;wanadoo.fr" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric.vergnaud&#64;wanadoo.fr" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-16 06:29:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">Dear Eclipse,

I can't believe you have given up providing a workaround for this.
The Process instance is typically a UNIXProcess which contains a pid
How difficult is it to add a button that will call: kill -15 &lt;pid&gt;?
If it doesn't work then the user can still click on the existing red button.
That's the way it works in IntelliJ.

What am I missing?</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-17 06:41:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">Reopening this to analyze if something can be done to solve this issue.</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Vorburger</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mike&#64;vorburger.ch" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mike&#64;vorburger.ch" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-23 02:51:03 EDT
        </span>

      </div>




<pre class="bz_comment_text">Perhaps <a href="https://github.com/zeroturnaround/zt-process-killer">https://github.com/zeroturnaround/zt-process-killer</a> could be of use here?  (I was just looking at using it in my <a href="https://github.com/vorburger/ch.vorburger.exec">https://github.com/vorburger/ch.vorburger.exec</a> when I saw this being re-opened, and thought it may be of interest in this context.)</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-25 02:33:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Michael Vorburger from <a href="show_bug.cgi?id=38016#c58">comment #58</a>)
<span class="quote">&gt; Perhaps <a href="https://github.com/zeroturnaround/zt-process-killer">https://github.com/zeroturnaround/zt-process-killer</a> could be of use
&gt; here?  (I was just looking at using it in my
&gt; <a href="https://github.com/vorburger/ch.vorburger.exec">https://github.com/vorburger/ch.vorburger.exec</a> when I saw this being
&gt; re-opened, and thought it may be of interest in this context.)</span >

Thanks Michael, is the source code under EPL ?

Or if you could provide a gerrit ?</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Vorburger</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mike&#64;vorburger.ch" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mike&#64;vorburger.ch" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-25 09:16:04 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; Thanks Michael, is the source code under EPL ?</span >

zeroturnaround/zt-process-killer is ASL not EPL &lt;<a href="https://github.com/zeroturnaround/zt-process-killer/blob/master/License.txt">https://github.com/zeroturnaround/zt-process-killer/blob/master/License.txt</a>&gt; BUT if you looked at this and really do have a serious interest in using this in Eclipse, then I'd imagine that the zeroturnaround could be open to re-license it under dual ASL &amp; EPL.. and then you could use it (copy/paste or actually pull the JAR; whatever you prefer).

As far as I know, such a re-license under dual ASL &amp; EPL of zt-process-killer would need the agreement of all their past contributors - but there are only 4 &lt;<a href="https://github.com/zeroturnaround/zt-process-killer/graphs/contributors">https://github.com/zeroturnaround/zt-process-killer/graphs/contributors</a>&gt; and they are all at zeroturnaround so IMHO this may be feasible - at least worth a try. Perhaps you would like to open an issue with them on <a href="https://github.com/zeroturnaround/zt-process-killer/issues">https://github.com/zeroturnaround/zt-process-killer/issues</a> to ask?

<span class="quote">&gt; Or if you could provide a gerrit ?</span >

From what little I understand of FLOSS, for me to copy/paste the zeroturnaround/zt-process-killer code into an eclipse.org Gerrit wouldn't be right... ;-) And I unfortunately don't have the time to actively contribute code to this as well - just coincidentally saw the update on this bug and thought contributing this as an idea could interest you.</pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-26 06:17:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Michael Vorburger from <a href="show_bug.cgi?id=38016#c60">comment #60</a>)

I will look into the code, Thanks.</pre>
    </div>

    <div id="c62" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-07-27 02:29:58 EDT
        </span>

      </div>




<pre class="bz_comment_text">Another option is to look into ProcessHandle APIs available as part of Java 9.</pre>
    </div>

    <div id="c63" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-04-13 02:57:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">Plan to look at it after JDT moves to Java 9 and can utilize the support.</pre>
    </div>

    <div id="c64" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-08-27 02:37:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">Not yet moved beyond 8.</pre>
    </div>

    <div id="c65" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-09-26 23:06:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">This bug has been biting me and my users. My library can create a lot of temporary files, and if you stop a Java program while those files are around (before the shutdown hook runs), the temporary files stay around. If you are debugging over an extended period of time, the buildup of temporary files can be significant.

Wouldn't a simple solution be to use the JDWP command `VirtualMachine/RedefineClasses` to add a method that calls `System.exit(1)` to an existing class (or define a new class with that method, if that is supported), and then simply call that method inside the debugger?</pre>
    </div>

    <div id="c66" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-10-14 01:26:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">Out of curiosity, I stopped a running program at a breakpoint, then typed and selected &quot;System.exit(1)&quot; and hit Ctrl+Shift+D to display the (void) value of this, hoping it would kill the running program. Instead, the running program just hung. Anyone know why? If this could be made to work properly (i.e. running System.exit(1) in the context of the running program, the same way that &quot;Display expression&quot; works, without causing the program to hang, but rather exiting it), then this would be a way the debugger could cause shutdown hooks to run when the red &quot;Exit&quot; icon is clicked in the debugger.</pre>
    </div>

    <div id="c67" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-10-17 01:48:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Luke Hutchison from <a href="show_bug.cgi?id=38016#c66">comment #66</a>)
<span class="quote">&gt; Out of curiosity, I stopped a running program at a breakpoint, then typed
&gt; and selected &quot;System.exit(1)&quot; and hit Ctrl+Shift+D to display the (void)
&gt; value of this, hoping it would kill the running program. Instead, the
&gt; running program just hung. Anyone know why? If this could be made to work
&gt; properly (i.e. running System.exit(1) in the context of the running program,
&gt; the same way that &quot;Display expression&quot; works, without causing the program to
&gt; hang, but rather exiting it), then this would be a way the debugger could
&gt; cause shutdown hooks to run when the red &quot;Exit&quot; icon is clicked in the
&gt; debugger.</span >

Will investigate.</pre>
    </div>

    <div id="c68" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-10-29 00:58:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Sarika -- did you find why this hangs? Calling System.exit() in the debug process would be a straightforward fix, if it could be made to work.</pre>
    </div>

    <div id="c69" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-10-30 02:23:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Luke Hutchison from <a href="show_bug.cgi?id=38016#c68">comment #68</a>)
<span class="quote">&gt; Sarika -- did you find why this hangs? Calling System.exit() in the debug
&gt; process would be a straightforward fix, if it could be made to work.</span >

I will be looking at it next week.</pre>
    </div>

    <div id="c70" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-11-02 05:13:25 EDT
        </span>

      </div>




<pre class="bz_comment_text">What do you mean by hang over here?

My observation -
Using System.exit(1) in Debug Shell removed the thread so you can continue to debug the current program anymore. But the Eclipse launch process is not killed so you can still see the terminate button and using it stops the Java Application completely.</pre>
    </div>

    <div id="c71" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-11-02 09:16:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">Sarika: yes, this matches my observation. I interpreted the thread being removed from the debug UI as a hang, since the process was still alive, but you're right that the launch process can still be manually killed with the stop button.</pre>
    </div>

    <div id="c72" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-11-16 02:11:59 EST
        </span>

      </div>




<pre class="bz_comment_text">Moving to 4.11.

Hopefully will not have to move to 4.12.</pre>
    </div>

    <div id="c73" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-02-18 05:23:53 EST
        </span>

      </div>




<pre class="bz_comment_text">Due to Java 12 work,could not focus on this.</pre>
    </div>

    <div id="c74" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Bednarczyk</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mark&#64;slytechs.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mark&#64;slytechs.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-02-18 09:49:51 EST
        </span>

      </div>




<pre class="bz_comment_text">16 years and counting - SMH

BTW: Thank you Sarika for taking this on.</pre>
    </div>

    <div id="c75" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-05-16 01:23:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">Unless we move the project to java 9 or above, it will be difficult to work on this.</pre>
    </div>

    <div id="c76" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-05-16 01:37:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">Sarika: I don't think this is specific to JDK 9+? Just call System.exit(1) in the debug process, watch until it exits, then kill the launch process.</pre>
    </div>

    <div id="c77" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">thomas menzel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dev.tom.menzel&#64;gmx.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dev.tom.menzel&#64;gmx.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-07-15 12:45:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Alex Pogrebnyak from <a href="show_bug.cgi?id=38016#c32">comment #32</a>)

<span class="quote">&gt; Second this motion, I think you need both &quot;Terminate&quot; and &quot;Shutdown&quot; buttons.
&gt; Otherwise the only way to debug the graceful shutdown of the application is
&gt; to pollute your code with guarded &quot;exit&quot; calls.</span >

+1

come on guys</pre>
    </div>

    <div id="c78" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-07-25 04:51:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Luke Hutchison from <a href="show_bug.cgi?id=38016#c76">comment #76</a>)
<span class="quote">&gt; Sarika: I don't think this is specific to JDK 9+? Just call System.exit(1)
&gt; in the debug process, watch until it exits, then kill the launch process.</span >

ProcessHandle APIs available as part of Java 9.
System.exit(1) does not solve the issue, Read <a href="show_bug.cgi?id=38016#c24">Comment 24</a> c#24, It will terminate the running Eclipse IDE itself which we don't want.</pre>
    </div>

    <div id="c79" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-07-25 09:32:04 EDT
        </span>

      </div>




<pre class="bz_comment_text">I tried moving the Debug project to Java 9 to get the pid from process and executing &quot;taskkill /F /PID &lt;pid&gt;&quot; on windows instead of destroying process but still did not see shutdown hooks getting invoked.

if (process != null) {
	long pid = process.pid();
	String s = &quot;taskkill /F /PID &quot; + pid; //$NON-NLS-1$
	try {
		Runtime.getRuntime().exec(s);
	} catch (IOException e) {
		e.printStackTrace();
	}
	// process.destroy();
}</pre>
    </div>

    <div id="c80" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-07-26 10:37:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">What about invoking Signal.of(&quot;SIGTERM&quot;).raise() within the debugged process?

SIGTERM handling is marked as &quot;Optional&quot;, and I don't know what the equivalent would be for Windows, but it would hopefully work on Linux and Mac OS X at least:

<a href="https://docs.oracle.com/en/java/javase/11/troubleshoot/handle-signals-and-exceptions.html#GUID-57C048F6-0D4B-43BD-B27C-06A613435360">https://docs.oracle.com/en/java/javase/11/troubleshoot/handle-signals-and-exceptions.html#GUID-57C048F6-0D4B-43BD-B27C-06A613435360</a>

<a href="http://cr.openjdk.java.net/~rriggs/signal-doc/java/util/Signal.html">http://cr.openjdk.java.net/~rriggs/signal-doc/java/util/Signal.html</a></pre>
    </div>

    <div id="c81" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-07-26 11:36:07 EDT
        </span>

      </div>




<pre class="bz_comment_text">PS the benefit of sending SIGINT / SIGTERM is that it would work with CDT too, for native code projects that need to cleanly shut down (which is something I need right now for a C/C++ project I'm working on).</pre>
    </div>

    <div id="c82" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-08-05 06:56:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">There is a some difference between kill -SIGINT &lt;pid&gt; getting called from the terminal and the Java process. I see shut down hook getting called when invoked from terminal but when I try invoking through Eclipse program or any other Java program using Runtime.getRuntime().exec() it doesn't call shutdown hooks. 

Signal.raise() will kill the whole Eclipse process.

Is anyone aware of another way to execute command other than exec() which does no processing and will be equivalent to terminal execution?</pre>
    </div>

    <div id="c83" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-08-16 05:40:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">Moving it out as I don't see a solution path right now.</pre>
    </div>

    <div id="c84" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-08-16 16:55:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">Is it possible to determine who worked on the signal handling code in the Sun/Oracle JDK, and loop them into the conversation?</pre>
    </div>

    <div id="c85" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c85">Comment 85</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Vergnaud</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric.vergnaud&#64;wanadoo.fr" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric.vergnaud&#64;wanadoo.fr" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-08-17 00:50:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=279610" name="attach_279610" title="working solution">attachment 279610</a> <a href="attachment.cgi?id=279610&amp;action=edit" title="working solution">[details]</a></span>
working solution

Hi, have you tried the enclosed?
Works perfectly on Mac Jvm 1.8_045</pre>
    </div>

    <div id="c86" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c86">Comment 86</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-08-22 01:45:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Eric Vergnaud from <a href="show_bug.cgi?id=38016#c85">comment #85</a>)
<span class="quote">&gt; Created <span class=""><a href="attachment.cgi?id=279610" name="attach_279610" title="working solution">attachment 279610</a> <a href="attachment.cgi?id=279610&amp;action=edit" title="working solution">[details]</a></span>
&gt; working solution
&gt; 
&gt; Hi, have you tried the enclosed?
&gt; Works perfectly on Mac Jvm 1.8_045</span >

Yes, and it works perfectly.
Inspired by this I did try something in Eclipse and it looks like some timing issue. I was able to get the shutdown Hook invoked when Stepped in the process.destroy() and executed the steps one by one. Will investigate more.</pre>
    </div>

    <div id="c87" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c87">Comment 87</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-10-20 01:55:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just wanted to check: when this issue is fixed, will files marked for deletion using `File#deleteOnExit()` be deleted when an application running in Eclipse is stopped? I think these files are deleted using a system-wide shutdown hook? If not, is there some other mechanism that needs to be run by Eclipse to enable deletion of these files when an application is stopped?</pre>
    </div>

    <div id="c88" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c88">Comment 88</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-10-21 01:43:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Luke Hutchison from <a href="show_bug.cgi?id=38016#c87">comment #87</a>)
<span class="quote">&gt; Just wanted to check: when this issue is fixed, will files marked for
&gt; deletion using `File#deleteOnExit()` be deleted when an application running
&gt; in Eclipse is stopped? I think these files are deleted using a system-wide
&gt; shutdown hook? If not, is there some other mechanism that needs to be run by
&gt; Eclipse to enable deletion of these files when an application is stopped?</span >

<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html#deleteOnExit">https://docs.oracle.com/javase/7/docs/api/java/io/File.html#deleteOnExit</a>()
According to this it works on normal termination only, I will test and confirm.</pre>
    </div>

    <div id="c89" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c89">Comment 89</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-10-24 19:21:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks. I never noticed this happening before, but at least as of JDK 11, in some circumstances, the JDK seems to extract jar resources into /tmp (such as when loading a .so file form a jar, but also for some classes for some reason), and these are not cleaned up if you terminate the run with Eclipse. So it's not just 3rd party libraries that create temporary files that are affected by Eclipse not running shutdown hooks, it's actually the JDK itself that can create cruft in /tmp over time when shutdown hooks are not run (and the cruft is typically only cleaned up on reboot):

$ ls /tmp/*.class /tmp/*.so
'BagFile$MessageIndex.class15328745468622781125.class'
 BagFile.class14372700760425535676.class
 BagFile.class6688204983276068213.class
 BagFile.class7527465372038899640.class
 Chunk.class5086705476083434450.class
 FileDispatcherImpl.class4246663762972315670.class
 FileDispatcherImpl.class509969819450880797.class
'IndexData$Index.class7254221828638128573.class'
 IndexData.class13012851764270154079.class
 IndexData.class839630762527656721.class
 liblz4-java10174631597647070177.so
 liblz4-java10220888173034950392.so
 liblz4-java11153630086711902447.so
 liblz4-java11975810591064495636.so
 liblz4-java12909386847462085663.so
 liblz4-java13832921501226947582.so
 liblz4-java15960297755835753610.so
 liblz4-java17209291726134741387.so
 liblz4-java17292657481681505452.so
 liblz4-java17860039254756526506.so
 liblz4-java17887412594984322724.so
 liblz4-java18240137399109853801.so
 liblz4-java2268670474833639564.so
 liblz4-java2513165952475610025.so
 liblz4-java2520157033574570033.so
 liblz4-java2915323548087197479.so
 liblz4-java2936384338880836884.so
 liblz4-java3643123653797186379.so
 liblz4-java452048025336389114.so
 liblz4-java499915305622433734.so
 liblz4-java5448292840432510840.so
 liblz4-java6790279636182739893.so
 liblz4-java7789706867666662535.so
 liblz4-java7883839137749976385.so
 liblz4-java9327835572204160199.so
 MessageData.class10384715811912315155.class
 MessageType.class6204546359432683903.class
 Preconditions.class9244002468333935679.class
 Record.class408030003202979610.class
 Record.class6686755743457051257.class
 Vector3D.class2042233245425318216.class</pre>
    </div>

    <div id="c90" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c90">Comment 90</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Luke Hutchison</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=luke.hutch&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=luke.hutch&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-11-08 16:22:55 EST
        </span>

      </div>




<pre class="bz_comment_text">Related to running shutdown hooks on exit: would it be possible to add an additional type of &quot;even cleaner&quot; stop button that stops all threads, then walks up the stack frames in all threads and runs any `finally` blocks before running shutdown hooks and exiting? I assume that if this is possible, it would only work while running code in the debugger?</pre>
    </div>

    <div id="c91" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c91">Comment 91</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-11-13 10:52:39 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Luke Hutchison from <a href="show_bug.cgi?id=38016#c90">comment #90</a>)
<span class="quote">&gt; Related to running shutdown hooks on exit: would it be possible to add an
&gt; additional type of &quot;even cleaner&quot; stop button that stops all threads, then
&gt; walks up the stack frames in all threads and runs any `finally` blocks
&gt; before running shutdown hooks and exiting? I assume that if this is
&gt; possible, it would only work while running code in the debugger?</span >

Without being in a suspended state of execution, cleaner will be difficult. You can create a separate bug for that.</pre>
    </div>

    <div id="c92" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c92">Comment 92</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-11-18 03:20:47 EST
        </span>

      </div>




<pre class="bz_comment_text">Unfortunately I am not able to make it work, I see it working fine and executing shutdown hooks If I step through destroyProcess. 

java.lang.ProcessImpl.destroy(boolean)
synchronized (this) {
                    if (!hasExited)
                        processHandle.destroyProcess(force);
                }

Executing &quot;Kill&quot; command has not worked either. So unless someone has some other idea to implement this, I can't proceed on this.</pre>
    </div>

    <div id="c93" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c93">Comment 93</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-11-18 03:29:19 EST
        </span>

      </div>




<pre class="bz_comment_text">New Gerrit change created: <a href="https://git.eclipse.org/r/152852">https://git.eclipse.org/r/152852</a></pre>
    </div>

    <div id="c94" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c94">Comment 94</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-11-18 03:29:58 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Eclipse Genie from <a href="show_bug.cgi?id=38016#c93">comment #93</a>)
<span class="quote">&gt; New Gerrit change created: <a href="https://git.eclipse.org/r/152852">https://git.eclipse.org/r/152852</a></span >

Even with Step in, this change sis required to make shutdown works in Debug mode.</pre>
    </div>

    <div id="c95" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=38016#c95">Comment 95</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sarika Sinha</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sarika.sinha&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sarika.sinha&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-03-12 01:19:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Breakpoint in Shutdown Hook does not work (reloaded)"
   href="show_bug.cgi?id=449433">Bug 449433</a> has been marked as a duplicate of this bug. ***</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=38016">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=38016">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=38016">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=38016&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=38016" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>