<!DOCTYPE html>
<html lang="en">
  <head>
    <title>141144 &ndash; ServiceTracker is not lazy in terms of service activation.</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "141144 – ServiceTracker is not lazy in terms of service activation.",
                             "show_bug.cgi?id=141144" );
        document.title = "141144 – ServiceTracker is not lazy in terms of service activation.";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "141144 – ServiceTracker is not lazy in terms of service activation.", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Equinox
                 bz_component_Framework
                 bz_bug_141144 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;141144</span>

        <span id="subtitle" class="subheader">ServiceTracker is not lazy in terms of service activation.</span>

        <span id="information" class="header_addl_info">Last modified: 2010-04-12 11:43:29 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=141144&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=141144" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2010-04-12 11:43:29">
  <input type="hidden" name="id" value="141144">
  <input type="hidden" name="token" value="1629848297-Q4bCN3cYjckEL6K02S-MSq27kFFeFZU4JqFoxy4X-rc">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=141144"><b>Bug&nbsp;141144</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">ServiceTracker is not lazy in terms of service activation.</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>ServiceTracker is not lazy in terms of service activation.
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'ServiceTracker is not lazy in terms of service activation.' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          NOT_ECLIPSE
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Equinox

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Equinox"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Framework

  (<a href="buglist.cgi?component=Framework&amp;product=Equinox&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.2 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=141144#vote_141144">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">equinox.framework-inbox</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=equinox.framework-inbox&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=equinox.framework-inbox&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'equinox.framework-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (1)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - ServiceTracker inefficient"
   href="show_bug.cgi?id=141180">141180</a> 
      </span>
      (<a href="buglist.cgi?bug_id=141180">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2006-05-10 16:19 EDT by <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2010-04-12 11:43 EDT
      (<a href="show_activity.cgi?id=141144">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="hargrave">hargrave</option>
                <option value="jeffmcaffer">jeffmcaffer</option>
                <option value="pascal">pascal</option>
                <option value="tjwatson">tjwatson</option>
                <option value="yamasaki.ikuo">yamasaki.ikuo</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=41115"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">LazyServiceTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (4.33 KB,
                patch)

            <br>
            <a href="#attach_41115"
               title="Go to the comment associated with the attachment">2006-05-11 10:09 EDT</a>,

            <span class="vcard"><span class="fn">Simon Kaegi</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=simon_kaegi&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=simon_kaegi&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=41115&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=41115&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=41647"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch of LazyTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (3.77 KB,
                patch)

            <br>
            <a href="#attach_41647"
               title="Go to the comment associated with the attachment">2006-05-16 16:25 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=41647&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=41647&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=41650"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">New LazyServiceTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (53.79 KB,
                patch)

            <br>
            <a href="#attach_41650"
               title="Go to the comment associated with the attachment">2006-05-16 16:31 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=41650&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=41650&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=41762"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Subclass version of New LasyServiceTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (24.82 KB,
                patch)

            <br>
            <a href="#attach_41762"
               title="Go to the comment associated with the attachment">2006-05-17 13:54 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=41762&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=41762&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=41767"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">fixed up LazyServiceTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (6.70 KB,
                patch)

            <br>
            <a href="#attach_41767"
               title="Go to the comment associated with the attachment">2006-05-17 14:08 EDT</a>,

            <span class="vcard"><span class="fn">Simon Kaegi</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=simon_kaegi&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=simon_kaegi&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=41767&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=41767&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=41795"
               title="View the content of the attachment">
          <b>LazyServiceTracker v3 (SK)</b></a>

          <span class="bz_attach_extra_info">
              (7.77 KB,
                patch)

            <br>
            <a href="#attach_41795"
               title="Go to the comment associated with the attachment">2006-05-17 16:35 EDT</a>,

            <span class="vcard"><span class="fn">Simon Kaegi</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=simon_kaegi&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=simon_kaegi&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=41795&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=41795&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=43391"
               title="View the content of the attachment">
          <b>LazyServiceTracker v4(IY)</b></a>

          <span class="bz_attach_extra_info">
              (7.77 KB,
                patch)

            <br>
            <a href="#attach_43391"
               title="Go to the comment associated with the attachment">2006-06-02 16:49 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=43391&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=43391&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=47643"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch of NewServiceTracker with LazyServiceActivation and LazyTableCreation</span></b></a>

          <span class="bz_attach_extra_info">
              (90.56 KB,
                patch)

            <br>
            <a href="#attach_47643"
               title="Go to the comment associated with the attachment">2006-08-09 16:04 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=47643&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=47643&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=47644"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Zipped Project of TestSuites for NewServiceTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (65.31 KB,
                application/octet-stream)

            <br>
            <a href="#attach_47644"
               title="Go to the comment associated with the attachment">2006-08-09 16:08 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=47644&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=49772"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Revised Patch of New1ServiceTracker and New2ServiceTracker</span></b></a>

          <span class="bz_attach_extra_info">
              (146.15 KB,
                patch)

            <br>
            <a href="#attach_49772"
               title="Go to the comment associated with the attachment">2006-09-08 16:56 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=49772&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=49772&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a11" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=49776"
               title="View the content of the attachment">
          <b>Zipped Project of TestSuites for New1ServiceTracker and New2ServiceTracker</b></a>

          <span class="bz_attach_extra_info">
              (125.55 KB,
                application/octet-stream)

            <br>
            <a href="#attach_49776"
               title="Go to the comment associated with the attachment">2006-09-08 17:21 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=49776&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a12" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=49778"
               title="View the content of the attachment">
          <b>Zipped Project of a bundle measuring DeepSize of each trackers</b></a>

          <span class="bz_attach_extra_info">
              (9.33 KB,
                application/octet-stream)

            <br>
            <a href="#attach_49778"
               title="Go to the comment associated with the attachment">2006-09-08 17:25 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=49778&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a13" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=49780"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Excel file of Performance test results comparison including DeepSize</span></b></a>

          <span class="bz_attach_extra_info">
              (32.00 KB,
                application/octet-stream)

            <br>
            <a href="#attach_49780"
               title="Go to the comment associated with the attachment">2006-09-08 17:35 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=49780&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a14" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=50373"
               title="View the content of the attachment">
          <b>Revised Excel file of Performance test results comparison including DeepSize</b></a>

          <span class="bz_attach_extra_info">
              (32.00 KB,
                application/octet-stream)

            <br>
            <a href="#attach_50373"
               title="Go to the comment associated with the attachment">2006-09-18 10:17 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=50373&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a15" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=52446"
               title="View the content of the attachment">
          <b>Revised Patch of New1ServiceTracker and New2ServiceTracker(v7)</b></a>

          <span class="bz_attach_extra_info">
              (144.70 KB,
                patch)

            <br>
            <a href="#attach_52446"
               title="Go to the comment associated with the attachment">2006-10-20 19:18 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=52446&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=52446&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a16" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=52449"
               title="View the content of the attachment">
          <b>PowerPoint helps your review of codes</b></a>

          <span class="bz_attach_extra_info">
              (103.00 KB,
                application/octet-stream)

            <br>
            <a href="#attach_52449"
               title="Go to the comment associated with the attachment">2006-10-20 19:33 EDT</a>,

            <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=52449&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (9)
            <a id="view_all" href="attachment.cgi?bugid=141144&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=141144&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=141144&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-10 16:19:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">The most popular usage of ServiceTracker in current Eclipse PIs is just calling ServiceTracker#open() once and ServiceTracker#getService() several times. 
Since ServiceTracker keeps cached object after the first call, it has better performance for the later call than BundleContext#getServiceReference() and BundleContext#getService(ServiceReference) for every time.

According to the OSGi Spec R4, ServiceTracker should keep a list of services as specified by its creator (and keep it updated at related ServiceEvents). Therefore, default ServiceTracker#addingService(Servicereference ), which is called at ServiceTracker.open(), calls BundleContext#getService(ServiceReference ) for every services to be tracked.

Now let me think the case that there are a bunch (e.g. 1000) of registered services under the same service name (clazz).
Even if you would like to get ONLY one service, which meets the criteria you specify, by using ServiceTracker, the ServiceTracker automatically retrieve unused 999 services at its opening. It is not &quot;Lazy&quot; but &quot;Eager&quot; activation at all. It seems a waste of resources.

In order to solve this problem, I can suggest several ideas:

1. Change ServiceTracker ( implementation and Spec, if needed)to activate
  the list of services (class Tracked in ServiceTracker.java) lazily : 

   The list of services will be set not at the ServiceTracker#open() but at the first calling of some methods. There are several levels of choosing which methods.

 level 1: getService(),getServiceReference(),getServices(),getSericeReferences() , and so on.
 level 2: getServices(), getSericeReferences() ( lazier than level 1)

2. Prepare different &quot;ServiceTracker-like&quot;  class for Eclipse, which just operates getService() and keeps the cache of it ( and update it according to the ServiceEvents), and so on.

What do you think about it ? 

Is there any bad effect for DeclarativeServices, if it is unchanged as it is?</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-10 16:29:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">In addition, there is another idea;

3. Change ServiceTracker so that the list of services are set at opening but not getService() at that time. In other words, the list keeps not service objects but only ServiceReferences at openning, and service objects will be set at the first calling of some methods.  </pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-10 20:35:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - ServiceTracker inefficient"
   href="show_bug.cgi?id=141180">Bug 141180</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jeff McAffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeffmcaffer&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeffmcaffer&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-10 20:35:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">adding my comments from the dup bug here...

the current ServiceTracker seems to want to getService() for all the services
that might be needed when the tracker is opened.  It seems that it also keeps
track of all the services.  These characteristics are problematic for a couple
reasons:
- The services are not needed until someone does getService() 
- ignoring the case where people are doing getServices() (plural) there is
generally no need to maintain a list of all serivces.  You can simply remember
the last one you bound to and listen for changes.  If a change occurs, flush
the current cache and recompute the next time someone does a getService().
- in many/most of the cases that we have there is no customizer so much of this
stuff around lifecycles is not needed.  Unfortunately, we currently do not have
a way of distinguishing between service trackers that are customized and those
which are not.
- The current approach may present some difficulties for declarative services. 
getting the service will force it to be created thus defeating the laziness
characteristics of DS.

Either the ServiceTracker we have now should be updated with these
characteristics or we should write a FastServiceTracker that we use in our
code.  If we do the former (and it makes sense) we should consider doing it in
the org.osgi namespace (as the current one is) to improve the reference
implementation.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">BJ Hargrave</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hargrave&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hargrave&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-10 22:34:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">The ServiceTracker implementation from OSGi is a simple and correct implementation but, in its simpleness, it eagerly obtains service objects. This is not in general a problem for smaller systems or for tracked services for which there will be one to few registrations. When tracking many (100s, 1000s) services of which only one is interesting, then the current implementation is suboptimal.

With the advent of Declarative Services (DS), this eagerness can defeat the laziness of DS. This was understood during R4 development but time constraints did not permit a solution. So now is a good time to start :-)

I would like to work on a ServiceTracker (ST) subclass that modifies the behavior to lazily obtain service objects (e.g LazyServiceTracker). It may also be useful to also have another ST subclass which only tracks a single service object (e.g. SingleServiceTracker). I would also like to do this work with the view to contribute the subclasses to OSGi for the benefit of all OSGi users.

I do not believe we can change the behavior of ServiceTracker itself without breaking existing code which may depend upon the behavior of the ServiceTrackerCustomizer(STC) methods implemented in ST. I have seen many ST subclasses which override addingService and call super.addingService to obtain the service object. If we change the impl of ST.addingService we will break all that code. So I think the only reasonable course of action it to design some subclasses which is of course what ST was designed to support.

I would like to also understand the use cases here in more detail as well. I am not sure I understand why some service might be registered 1000 times but only one of them is interesting. It seems to me that services will generally fall into two usage scenarios: (1) a service is registered 1 to a small number of times. This service has several implementations and generaly bundles will only care to use one. e.g. a log service, an XML parser service, etc. Or (2) a service is registered many times (100s, 1000s perhaps) because the service represent some entity of which there are many. e.g. producers and consumers in WireAdmin, event handlers in Event Admin. In this case the bundle tracking this service type is probably interested in every such service and not just one.</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Simon Kaegi</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=simon_kaegi&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=simon_kaegi&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-11 10:09:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=41115&amp;action=diff" name="attach_41115" title="LazyServiceTracker">attachment 41115</a> <a href="attachment.cgi?id=41115&amp;action=edit" title="LazyServiceTracker">[details]</a></span>
LazyServiceTracker

I'd like to echo what BJ said. Great post!
We have lots of examples where we're using customizers and also super.addingService(...) so I think altering the existing ServiceTracker's behaviour is definitely problematic. That said, I think binary compatible changes that don't alter the behaviour are fair game.

I liked the suggestion of extending the ServiceTracker to support a LazyServiceTracker. Currently I think this would be hard to write but perhaps the ServiceTracker could be made easier to extend for this use case.

Purely illustrative patch included.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-16 16:25:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=41647&amp;action=diff" name="attach_41647" title="Patch of LazyTracker">attachment 41647</a> <a href="attachment.cgi?id=41647&amp;action=edit" title="Patch of LazyTracker">[details]</a></span>
Patch of LazyTracker

Simon, great illustrative patch!

I modified some points which might be bugs in his patch and attached it.

The differences between ServiceTracker and the LazyServiceTracker are:
- - - - - - - - - - - - - - - - 
* Merit.  Lazy service activation. ( That's what we wanted)

In the case of LasyTracker, a service will be retrieved from ServiceRegistry not at the tracker.open() and new tracked service registration but at the first time of calling tracker.getService(reference) , which is also called in tracker.getService().

* Demerit 1. Unnecessary references will be kept by the tracker for a while.

In case of ServiceTracker, you can specified ServiceTrackerCustomizer in which addingService(reference) implementing your own algorithm to select which service should be tracked for the reference in its constructor  (or extends ServiceTracker) . If null is returned,tracker won't add the key (reference) and the value (service) into tracker.tracked (it won't track that reference) at its opening and new service registration. 

On the other hand in case of this LazyTracker, even if null is returned by its customized addingService(reference), the tracker will add the key (reference) and the value (service) into tracker.tracked (it will track that reference) at its opening and new service registration.  However, it won't  call getService() as described in &quot;1&quot;.

* Demerit 2. Unable to customize using service immediately. 

Related with point 2, the developer cannot write codes requires to use the intended service as soon as available in its addingServicce(reference) (e.g.  sample use case introduced in the section of 701.5 &quot;Customizing Example&quot; of OSGi cmpn Spec R4) in case of LazyTracker. While you may think &quot;If you would like to use so, choose ordinary ServiceTracker, developers cannot use the functionality both of  Laziness and Customization as described here by the same tracker.
- - - - - - - - - - - - - - - - 

Although I'm not sure how valuable getting rid of &quot;Demerit 1&amp;2&quot; are, I would like to post another option, which solves them.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-16 16:31:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=41650&amp;action=diff" name="attach_41650" title="New LazyServiceTracker">attachment 41650</a> <a href="attachment.cgi?id=41650&amp;action=edit" title="New LazyServiceTracker">[details]</a></span>
New LazyServiceTracker

The attached patch includes LazyServieTracker and its customizer, which realizes the following features:

1.  Lazy service activation is possible. ( That's what we wanted)
2.  Unnecessary references will NOT be kept by the tracker.
3.  Developers can use the functionality both of  Laziness and Customization as described in the previous post by the same tracker.

It contains a new service interface &quot;LazyServiceTrackerCustomizer&quot;, of which definition is not absolute.

Currently, LazyServiceTracker is not a subclass of ServiceTracker but the most of codes are the same (because I am not sure which parts are required to be modified including inner class methods at the beginning) . It might be implemented as a subclass of ServiceTracker. I'll try to think about it from now on.

(Sorry for many debug lines)</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-17 13:54:24 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=41762&amp;action=diff" name="attach_41762" title="Subclass version of New LasyServiceTracker">attachment 41762</a> <a href="attachment.cgi?id=41762&amp;action=edit" title="Subclass version of New LasyServiceTracker">[details]</a></span>
Subclass version of New LasyServiceTracker

  I refractured the codes of LazyServiceTracker and LazyServiceTrackerCustomizer posted on #7 into subclass of ServiceTracker and ServiceTrackerCustomizer. The functionalities are the same.
  The point is, I prepared another methods &quot;gettingService(reference)&quot; of LazyServiceTrackerCustomizer so that developers can implement the logic of addingService(reference) and gettingService(reference) separately. Tracker will not track if addingService() returns null and it will track lazily if addingService() returns SPECIFIED object.Otherwise, tracker won't track. See details in the comments of each methods of LazyServiceTrackerCustomizer.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Simon Kaegi</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=simon_kaegi&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=simon_kaegi&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-17 14:08:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=41767&amp;action=diff" name="attach_41767" title="fixed up LazyServiceTracker">attachment 41767</a> <a href="attachment.cgi?id=41767&amp;action=edit" title="fixed up LazyServiceTracker">[details]</a></span>
fixed up LazyServiceTracker

Mid-air collision ;)
I was adding my latest at the same time...
This just fixes some of the problems in the previous getService and moves things around to make the LazyServiceTracker sub-class-able in the same way ServiceTracker is.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Simon Kaegi</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=simon_kaegi&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=simon_kaegi&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-17 16:35:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=41795&amp;action=diff" name="attach_41795" title="LazyServiceTracker v3 (SK)">attachment 41795</a> <a href="attachment.cgi?id=41795&amp;action=edit" title="LazyServiceTracker v3 (SK)">[details]</a></span>
LazyServiceTracker v3 (SK)

Mainly an integration of Ikuo's &quot;LazyServiceTrackerCustomizer&quot; interface (e.g. gettingService). (For now, I've done it as a public inner class / interface)
I've also added support for regular ServiceTrackerCustomizers so that they are just wrapped and made lazy.

Further fixed up and tested
- fixed a threading problem where I was using the wrong monitor
- fixed a typo in some of the reflection code</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-02 16:49:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=43391&amp;action=diff" name="attach_43391" title="LazyServiceTracker v4(IY)">attachment 43391</a> <a href="attachment.cgi?id=43391&amp;action=edit" title="LazyServiceTracker v4(IY)">[details]</a></span>
LazyServiceTracker v4(IY)

I tried to run Simon's code and found one bug.
   tracked.contains(reference) --&gt; tracked.containsKey(reference)

In addition, I got some performance tests:
-------
[Common condition]
on Windows XP (Pen4 2.5GHz), Sun's JDK1.5.0_06,
JVMOPTIONS=-Xms256M -Xmx256M -Xint. 
In advance, register 1,000 services with different names, 10 times
for each service name. (Totally 1,000 * 20= 20,000 services are registered)
Results are average values among 100 runs. 
-----
[Test description]
Test A1:
in setUp(), create 1,000 ServiceTracker with each service name.
in test(), for(each service name)
                ServiceTracker.open().
in tearUp(),close all.

Test A2: same as A1 with LazyServiceTracker(v4) instead of ServiceTracker.

Test B:
in setUp(), create 1,000 ServiceTracker with each service name and open all.
in test(), for(each service name)
                ServiceTracker.getService().
in tearUp(),close all.
Test B2: same as A1 with LazyServiceTracker(v4) instead of ServiceTracker.
------
[Results]
A1(ServiceTracker.open()):436 msec. (3.38 MB)
A2(LazyServiceTracker.open()):312 msec. (2.05 MB)
B1(ServiceTracker.getService()):149 msec. (308KB)
B1(ServiceTracker.getService()):160 msec. (313KB)
-------
[Consideration]
As expected, open of LazyServiceTracker requires less cpu and memory.
On the other hand, first getService(),which doesn't return cached service)  requires more.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-09 16:04:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=47643&amp;action=diff" name="attach_47643" title="Patch of NewServiceTracker with LazyServiceActivation and LazyTableCreation">attachment 47643</a> <a href="attachment.cgi?id=47643&amp;action=edit" title="Patch of NewServiceTracker with LazyServiceActivation and LazyTableCreation">[details]</a></span>
Patch of NewServiceTracker with LazyServiceActivation and LazyTableCreation

I implemented new ServiceTracker class with &quot;Lazy Service Activation&quot; and &quot;Lazy Hashtable creation to maintain ServiceReference and service objects.&quot; (Lazy Hashtable Creation was requested by Jeff McAffer)

This class is currently named as NewServiceTracker in order to distinguish between current ServiceTracker impl. 
 
===========
[Features]
Case 1. If the tracker is customized as ServiceTracker of OSGi Spec R4 (v1.3), This
tracker acts &quot;mostly&quot; as ServiceTracker(ver.1.3) of OSGi Spec R4 does. 

Case 2. &quot;Lazy Service Activation&quot;: If the tracker is customized as LazyServiceTracker (see
LazyServiceTrackerCustomizer), it acts as LazyServiceTracker. In other words,
it will NOT get service objects when it opens and new service to be tracked
is added BUT will get service objects as later as possible (e.g. at
getService() or getService(reference)).
 
Case 3. &quot;Lazy Hashtable Creation&quot;: Otherwise (If the tracker is never customized), it acts as
LazierServiceTracker. In other words, in addition to &quot;lazy service
activation&quot;, it will achieve &quot;Lazy hashtable creation&quot;, which means that it
will NOT create a table (key,value)=(reference,object to be tracked for the
reference) at its opening BUT create it as late as possible(e.g. at
getService(reference) or getServices()).
===========

 The only difference between current ServiceTracker and NewServiceTracker I noticed is as follows:
----
	At receiving ServiceEvent.MODIFIED in case that the tracker is not customized in NewServiceTracker, even if the service before modified should not be tracked, trackingCount is incremented. In this case, meaning of the trackingCount becomes different slightly from the one for current ServiceTracker spec(ver. 1.3). In other words, a change of trackingCount does NOT exactly mean that there is any change on tracked services by the tracker but mean that there might be any change. Instead, you can say &quot;If the tracking count has not changed, then no service has been added or removed from this ServiceTracker object since the previous tracking count was collected&quot; as written in section 701.8.2.14 of OSGi R4 Spec.
----
	In my opinion, I can say this impl class is compatibility with current ServiceTracker impl of OSGi Spec R4 (ServicecTracker ver.1.3) even taking this difference into account. (A Bundle which detects trackingCount is incremented just calls getService() again or stuff like that.) 

If my recognition is correct, NewServiceTracker can be renamed to ServiceTracker.

As for implementation, most of NewServiceTracker.java contains just same codes as ServiceTracer has and delegates operations of Case 3 described above to LazierServiceTracker.java. They can be merged in one class if it is preferred.

Although I don't have any performance results about it yet,
I would like to all of you to review the code and let's discuss it. 

P.S. Could you run TCK of OSGi Alliance against the codes, Tom ?</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-09 16:08:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=47644" name="attach_47644" title="Zipped Project of TestSuites for NewServiceTracker">attachment 47644</a> <a href="attachment.cgi?id=47644&amp;action=edit" title="Zipped Project of TestSuites for NewServiceTracker">[details]</a></span>
Zipped Project of TestSuites for NewServiceTracker

The test suites is included in this zipped Eclipse Project. This is also useful for you to see how to customize ServiceTracker with Lazy Service Activation feature.</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-08 16:56:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=49772&amp;action=diff" name="attach_49772" title="Revised Patch of New1ServiceTracker and New2ServiceTracker">attachment 49772</a> <a href="attachment.cgi?id=49772&amp;action=edit" title="Revised Patch of New1ServiceTracker and New2ServiceTracker">[details]</a></span>
Revised Patch of New1ServiceTracker and New2ServiceTracker

New2ServiceTracker is almost same as previous NewServiceTracker. I fixed implementations of constructors specified by class name and reference, which were not proper.

In addition, I added New1ServiceTracker; it creates Hashtable and keep ServiceReferences to be tracked but not getService at its openning. In my opinion, both New1ServiceTracker and New2ServiceTracker can be replaced old ServiceTracker into.

Please review the codes and give me any feedback.</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-08 17:21:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=49776" name="attach_49776" title="Zipped Project of TestSuites for New1ServiceTracker and New2ServiceTracker">attachment 49776</a> <a href="attachment.cgi?id=49776&amp;action=edit" title="Zipped Project of TestSuites for New1ServiceTracker and New2ServiceTracker">[details]</a></span>
Zipped Project of TestSuites for New1ServiceTracker and New2ServiceTracker</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-08 17:25:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=49778" name="attach_49778" title="Zipped Project of a bundle measuring DeepSize of each trackers">attachment 49778</a> <a href="attachment.cgi?id=49778&amp;action=edit" title="Zipped Project of a bundle measuring DeepSize of each trackers">[details]</a></span>
Zipped Project of a bundle measuring DeepSize of each trackers

This project was used to measure DeepSize of old ServiceTracker, New1ServiceTracker, and New2ServiceTracker. org.eclipse.core.tools Plug-in will be required. See codes in detail.</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-08 17:35:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=49780" name="attach_49780" title="Excel file of Performance test results comparison including DeepSize">attachment 49780</a> <a href="attachment.cgi?id=49780&amp;action=edit" title="Excel file of Performance test results comparison including DeepSize">[details]</a></span>
Excel file of Performance test results comparison including DeepSize

This excel file shows performance test results, including DeepSize of each trackers.

Since I will be out nextweek but would like to post the results before I leave, some results are average among 10 runs (most are among 100 runs). I'll update them later.

As you can see, New1ServiceTracker and New2ServiceTracker need less memory than old ServiceTracker unless getServices() or getService(referene) for each reference to be tracked is called because thier laziness feature. On the other hand, tracker.getService(reference) of them need more time than old ServiceTracker. These characteristics are what I expected.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-18 10:17:07 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=50373" name="attach_50373" title="Revised Excel file of Performance test results comparison including DeepSize">attachment 50373</a> <a href="attachment.cgi?id=50373&amp;action=edit" title="Revised Excel file of Performance test results comparison including DeepSize">[details]</a></span>
Revised Excel file of Performance test results comparison including DeepSize

(In reply to <a href="show_bug.cgi?id=141144#c17">comment #17</a>)
<span class="quote">&gt; Since I will be out nextweek but would like to post the results before I leave,
&gt; some results are average among 10 runs (most are among 100 runs). I'll update
&gt; them later.</span >

This excel file shows the latest results where all results are average among 100 times. The tendancy you can see is same as before.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-20 19:18:12 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=52446&amp;action=diff" name="attach_52446" title="Revised Patch of New1ServiceTracker and New2ServiceTracker(v7)">attachment 52446</a> <a href="attachment.cgi?id=52446&amp;action=edit" title="Revised Patch of New1ServiceTracker and New2ServiceTracker(v7)">[details]</a></span>
Revised Patch of New1ServiceTracker and New2ServiceTracker(v7)

I updated the patch, with minor bugfixes, e.g. LazierServiceTracker(Line397).
I didn't apply the optimization for ServiceTracker used in <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Proposal of Service Event Delivery Improvement"
   href="show_bug.cgi?id=151645">Bug151645</a> yet.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ikuo Yamasaki</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yamasaki.ikuo&#64;lab.ntt.co.jp" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-20 19:33:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=52449" name="attach_52449" title="PowerPoint helps your review of codes">attachment 52449</a> <a href="attachment.cgi?id=52449&amp;action=edit" title="PowerPoint helps your review of codes">[details]</a></span>
PowerPoint helps your review of codes

Although I posted my codes one month ago, I didn't get any reply about it. Everybody must be so busy.... However, I would like you to review the codes and give your opinion to proceed (or withdraw). &gt;&gt; Tom, BJ, Simon and others.

I wrote slides, which might help you understand my codes, New1ServiceTracker and New2ServiceTracker.

I would appriciate your corporation.</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=141144#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Thomas Watson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tjwatson&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tjwatson&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-12 11:43:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">Ikuo, I think this issue has already be raised with OSGi.  If it is not I think you should raise the issue there.  I don't think we should do anything specific in Equinox to address this issue.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=141144">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=141144">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=141144">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=141144&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=141144" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>