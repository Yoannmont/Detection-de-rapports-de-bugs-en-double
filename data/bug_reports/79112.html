<!DOCTYPE html>
<html lang="en">
  <head>
    <title>79112 &ndash; [1.5] [model] accessing annotation on Java elements</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "79112 – [1.5] [model] accessing annotation on Java elements",
                             "show_bug.cgi?id=79112" );
        document.title = "79112 – [1.5] [model] accessing annotation on Java elements";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "79112 – [1.5] [model] accessing annotation on Java elements", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_VERIFIED
                 bz_product_JDT
                 bz_component_Core
                 bz_bug_79112 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;79112</span>

        <span id="subtitle" class="subheader">[1.5] [model] accessing annotation on Java elements</span>

        <span id="information" class="header_addl_info">Last modified: 2007-12-05 12:03:01 EST</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=79112&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=79112" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2007-12-05 12:03:01">
  <input type="hidden" name="id" value="79112">
  <input type="hidden" name="token" value="1629861659-YbdKXU9YIPO4ujIcfPcIaWxv0SCRTPQX998-jxKa9cM">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=79112"><b>Bug&nbsp;79112</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[1.5] [model] accessing annotation on Java elements</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[1.5] [model] accessing annotation on Java elements
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[1.5] [model] accessing annotation on Java elements' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">VERIFIED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >JDT

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=JDT"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Core

  (<a href="buglist.cgi?component=Core&amp;product=JDT&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.3 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">All
        All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P2
       enhancement<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=79112">13 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=79112#vote_79112">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>3.4 M3 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'jdt-core-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >api

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (4)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [5.0] get annotation information from an IJavaElement"
   href="show_bug.cgi?id=82554">82554</a> <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - inconsistent treatment of Modifiers and Annotations"
   href="show_bug.cgi?id=106108">106108</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [API] IMember.getAnnotations()"
   href="show_bug.cgi?id=138230">138230</a> <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - No F_CONTENT flag on delta when using auto complete w/ annotation"
   href="show_bug.cgi?id=149074">149074</a> 
      </span>
      (<a href="buglist.cgi?bug_id=82554,106108,138230,149074">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - [5.0][hovering] Java hover does not display enums and annotations correctly"
   href="show_bug.cgi?id=77121">77121</a> <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [search] Add a way to access the most local enclosing annotation for reference search matches"
   href="show_bug.cgi?id=209996">209996</a> 
  </td>
  </tr>

    <tr>
      <th>&nbsp;</th>

      <td id="show_dependency_tree_or_graph">
        Show dependency <a href="showdependencytree.cgi?id=79112&amp;hide_resolved=1">tree</a>

      </td>
    </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2004-11-19 15:58 EST by <span class="vcard"><span class="fn">Jim des Rivieres</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeem&#64;moths.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeem&#64;moths.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2007-12-05 12:03 EST
      (<a href="show_activity.cgi?id=79112">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>37 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="alex.blewitt">alex.blewitt</option>
                <option value="bgbraga">bgbraga</option>
                <option value="brian.vosburgh">brian.vosburgh</option>
                <option value="carsten.pfeiffer">carsten.pfeiffer</option>
                <option value="cbridgha">cbridgha</option>
                <option value="cchabanois">cchabanois</option>
                <option value="christian">christian</option>
                <option value="cjdaly">cjdaly</option>
                <option value="daniel_megert">daniel_megert</option>
                <option value="david.black">david.black</option>
                <option value="david">david</option>
                <option value="david_audel">david_audel</option>
                <option value="dimitar.giormov">dimitar.giormov</option>
                <option value="eclipse">eclipse</option>
                <option value="eclipse">eclipse</option>
                <option value="edwin">edwin</option>
                <option value="ekuleshov">ekuleshov</option>
                <option value="ernest">ernest</option>
                <option value="frederic_fusier">frederic_fusier</option>
                <option value="gary_keim">gary_keim</option>
                <option value="glongman">glongman</option>
                <option value="greensopinion">greensopinion</option>
                <option value="jerome_lanneluc">jerome_lanneluc</option>
                <option value="kaloyan">kaloyan</option>
                <option value="karenfbutzke">karenfbutzke</option>
                <option value="lnigul">lnigul</option>
                <option value="makandre">makandre</option>
                <option value="manderse">manderse</option>
                <option value="markus.kell.r">markus.kell.r</option>
                <option value="martinae">martinae</option>
                <option value="mutdosch">mutdosch</option>
                <option value="nall">nall</option>
                <option value="neil.hauge">neil.hauge</option>
                <option value="paul.fullbright">paul.fullbright</option>
                <option value="philippe_mulet">philippe_mulet</option>
                <option value="thanson">thanson</option>
                <option value="yenlu">yenlu</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=79633"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 1</span></b></a>

          <span class="bz_attach_extra_info">
              (6.11 KB,
                text/plain)

            <br>
            <a href="#attach_79633"
               title="Go to the comment associated with the attachment">2007-10-03 09:54 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=79633&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=79905"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 2</span></b></a>

          <span class="bz_attach_extra_info">
              (10.57 KB,
                text/plain)

            <br>
            <a href="#attach_79905"
               title="Go to the comment associated with the attachment">2007-10-08 11:59 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=79905&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=80230"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 3</span></b></a>

          <span class="bz_attach_extra_info">
              (10.80 KB,
                text/plain)

            <br>
            <a href="#attach_80230"
               title="Go to the comment associated with the attachment">2007-10-12 10:33 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=80230&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=80364"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 4</span></b></a>

          <span class="bz_attach_extra_info">
              (12.62 KB,
                text/plain)

            <br>
            <a href="#attach_80364"
               title="Go to the comment associated with the attachment">2007-10-15 11:57 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=80364&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=80654"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 5</span></b></a>

          <span class="bz_attach_extra_info">
              (12.69 KB,
                text/plain)

            <br>
            <a href="#attach_80654"
               title="Go to the comment associated with the attachment">2007-10-18 08:01 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Markus Keller">markus.kell.r</span>:
                review+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=80654&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=80891"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 6</span></b></a>

          <span class="bz_attach_extra_info">
              (13.14 KB,
                text/plain)

            <br>
            <a href="#attach_80891"
               title="Go to the comment associated with the attachment">2007-10-22 13:11 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=80891&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_text_plain bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=80963"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed API version 7</span></b></a>

          <span class="bz_attach_extra_info">
              (16.56 KB,
                text/plain)

            <br>
            <a href="#attach_80963"
               title="Go to the comment associated with the attachment">2007-10-23 11:19 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=80963&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain">
        <td>
            <a href="attachment.cgi?id=80998"
               title="View the content of the attachment">
          <b>Proposed API version 8</b></a>

          <span class="bz_attach_extra_info">
              (16.29 KB,
                text/plain)

            <br>
            <a href="#attach_80998"
               title="Go to the comment associated with the attachment">2007-10-23 17:12 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=80998&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=81058"
               title="View the content of the attachment">
          <b>Implementation corresponding to proposed API version 8</b></a>

          <span class="bz_attach_extra_info">
              (182.34 KB,
                patch)

            <br>
            <a href="#attach_81058"
               title="Go to the comment associated with the attachment">2007-10-24 09:44 EDT</a>,

            <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=81058&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=81058&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (7)
            <a id="view_all" href="attachment.cgi?bugid=79112&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=79112&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=79112&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jim des Rivieres</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jeem&#64;moths.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jeem&#64;moths.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-11-19 15:58:48 EST
        </span>

      </div>




<pre class="bz_comment_text">In J2SE5, package, class, field, and method declaration can all carry 
annotations.

Tools that work with Java code will need to be able to find out how a Java 
element has been annotated. They have no way to do this now.

The support that is there now in DOM/AST is no sufficient:
(1) Both Java compilation units and class files can carry annotations (DOM/AST 
only addresses annotations on source code).
(2) The annotations that client tools would be looking for would be best 
described as &quot;resolved annotations&quot; that would have defaulted values. 

This will require new API. Proposal: Add IJavaElemement.resolveAnnotations() 
to return a list of resolved annotations. The data structure used to represent 
the resolved annotations is the interesting part. The value of an annotation 
type member can be a primitive type, String, Class, annotation, enumeration, 
or 1-dimensional arrays thereof. The data structure must be capable of 
describing all of these. The classes that appear in the class literals, 
enumeration types, and annotation types, could be local classes, meaning that 
there is no way to refer to these things using any sort of qualified name. The 
most general way to represent these classes is to use an DOM/AST ITypeBinding:

public interface IResolvedAnnotation {
  ITypeBinding getAnnotationType();
  /** key is annotation member name
   * value is one of boxed primitive (Integer, Boolean, Character, etc.)
   * String, ITypeBinding (Class literals), IResolvedAnnotation (nested 
annotations), IVariable (enum constants)
   */
  public Map&lt;String, Object&gt; getValues();
}</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-11-30 10:38:44 EST
        </span>

      </div>




<pre class="bz_comment_text">Resolution should likely be optional (bridge to DOM AST when request ?).
In source model, bogus annotations are allowed (vs. resolved ones).
Also the source annotations should be containing sufficient information to
figure out what was explicitly supplied, vs. what is avaiable as a default.

Source annotations should thus not be resolved for real, but still provide
sufficient source information.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-01-11 09:31:38 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [5.0] get annotation information from an IJavaElement"
   href="show_bug.cgi?id=82554">Bug 82554</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Marshall Culpepper</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marshall.culpepper&#64;jboss.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marshall.culpepper&#64;jboss.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-03-29 11:56:35 EST
        </span>

      </div>




<pre class="bz_comment_text">What is the status of this request? Are there workarounds that we can use in the
meantime to access the Annotation source model in the mean time?

Thanks.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-07 08:01:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">Deferring post 3.1</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mik Kersten</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mik.kersten&#64;tasktop.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mik.kersten&#64;tasktop.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-08-22 18:29:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">Is this getting planned for 3.2?  The proposal sounds great.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-08 12:13:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">The absence of the requested support for annotations in the java model drives clients into parsing the source themselves, see e.g. JavaLaunchableTester.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-08 12:15:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Reopened as discussed at JDT/Summit</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christopher Daly</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cjdaly&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cjdaly&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-19 18:07:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">Can anyone on JDT team summarize what was discussed at JDT/Summit?

Which 3.3 milestone is this functionality targeted for?</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-20 04:59:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">According to <a href="http://www.eclipse.org/jdt/ui/r3_3/JDT-Summit.html">http://www.eclipse.org/jdt/ui/r3_3/JDT-Summit.html</a>, we just said we were going to look at it. 
According to <a href="http://www.eclipse.org/jdt/core/r3.3/index.php">http://www.eclipse.org/jdt/core/r3.3/index.php</a>, this item has no target milestone yet.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-19 12:56:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">Sorry we ran out of time for this one. This will have to be deferred.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-03-19 13:27:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [API] IMember.getAnnotations()"
   href="show_bug.cgi?id=138230">Bug 138230</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Saff</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=david&#64;saff.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=david&#64;saff.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-24 11:55:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">P5 looks like a long-term burying of the idea.  This seems a pretty reasonable core functionality for a Java IDE, unless Java language features after 1.4 are to be always afterthoughts, or there's another way to accomplish the same thing without parsing the text directly.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-24 12:47:58 EDT
        </span>

      </div>




<pre class="bz_comment_text">Using the DOM AST, you can access all annotations, and find the bindings they resolve to. Supporting them in the JavaModel is different, since it wouldn't resolve anything (as other APIs there) but rather simply surface raw source informations. Would this be matching expectation as such ?

</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Christian Dupuis</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=christian&#64;springide.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=christian&#64;springide.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-25 07:01:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c13">comment #13</a>)
<span class="quote">&gt; Using the DOM AST, you can access all annotations, and find the bindings they
&gt; resolve to. Supporting them in the JavaModel is different, since it wouldn't
&gt; resolve anything (as other APIs there) but rather simply surface raw source
&gt; informations. Would this be matching expectation as such ?</span >

Could you provide a very small example or code snippet on how to use DOM AST to get the annotations? That would be really helpful. Thanks

</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Aeschlimann</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=martinae&#64;microsoft.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=martinae&#64;microsoft.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-25 07:12:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Building an AST for everything is too expensive. The unresolved information provided by the Java Model still has its value.
I also think this API is a 'must have', for consistency and completeness. I suggest to target it for 3.4.</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-25 08:29:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">The DOM AST and JavaModel have different aims, the DOM AST is fine-grain information, expensive, lifecycle managed by client but very accurate. The JavaModel is more a general purpose lightweight story, with raw data, and uses LRU caches underneath to avoid using too much memory.

In that sense, having annotations on elements could make sense, but if they occur they would NOT denote resolved information for the same consistency reason invoked  here. This is the reason of my previous comment. If requestors are hoping for a model API to retrieve resolved annotations, then they are looking at the wrong place, and should rather use the DOM AST.

I don't disagree about having model source annotations in general... mostly name based API. Also unclear how much we would surface from the member pair values... 
</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-25 08:32:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">Martin - can you elaborate on &quot;The unresolved information
provided by the Java Model still has its value.&quot; ?

What usecase do you have in mind?</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Aeschlimann</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=martinae&#64;microsoft.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=martinae&#64;microsoft.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-04-25 08:49:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">Two scenarios:
- Showing annotations in hovers
- In the JUnit 4 plugin, we show the 'Run As Junit test' shortcut only if the selection contains a test.
A test has annotation '&#64;Test'. Right now, we always build an AST. With Java model support, we could avoid many of these ASTs when we see that there is no annotation called 'Test' on the IMethod.
</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tom Mutdosch</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mutdosch&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mutdosch&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-01 10:56:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">I agree that better annotation support in JDT would be nice.  

Somewhat related to this request is another bug I have opened:
<a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - IElementChangedListener not being properly notified when Java Annotation changes"
   href="show_bug.cgi?id=190394">https://bugs.eclipse.org/bugs/show_bug.cgi?id=190394</a>

There's no real good way to listen for changes to annotations via the IJavaElementListener.  I think that probably goes hand-in-hand with better general annotation support on the Java model.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alex Blewitt</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=alex.blewitt&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=alex.blewitt&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-03 14:50:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">Shouldn't the 'version' of this bug be updated to 3.3?</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-04 04:37:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c20">comment #20</a>)
<span class="quote">&gt; Shouldn't the 'version' of this bug be updated to 3.3?</span >
Sure. 

</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-04 06:10:55 EDT
        </span>

      </div>




<pre class="bz_comment_text">re: <a href="show_bug.cgi?id=79112#c19">comment 19</a>.
Definitely, if annotations get reified, change notifications will be notified somehow. Note that the exact form of the notification will depend upon the way annotations are represented (could be children, flags etc...).
This isn't truly defined so far.

Thoughts are welcome.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Bruno Braga</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bgbraga&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bgbraga&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-07 14:58:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">Opened: 2004-11-19 15:58 -0400..., what it leaves me worried is that already passed 3 years since report... (21 votes)... also is needing very this feature :P</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-10 06:01:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">Bruno - a patch is very welcome ! &lt;g&gt;</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Bruno Braga</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bgbraga&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bgbraga&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-10 15:38:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">I always make patchs. You can look at in the Hibernate, Spring and other projects :)
But I found this problem now and at this moment I cannot act in it because I am solving a problem of another project Open Source. But we have 21 votes and some companies helping in the Eclipse. With certainty somebody goes to help... the Eclipse is an excellent project because of this :)
</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Cédric Chabanois</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cchabanois&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cchabanois&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-09-27 06:08:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">It is possible to get annotations :
(1) from Java compilation units (ICompilationUnit) using DOM/AST
(2) from class files (IClassFile) using org.eclipse.jdt.internal.compiler.classfmt.ClassFileReader (but this is an internal class)

This is not easy and this is expansive.

So, I think this feature is really needed.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Cédric Chabanois</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cchabanois&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cchabanois&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-02 08:52:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">There is another way to get annotations :
One can use org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment and implement org.eclipse.jdt.internal.compiler.impl.ITypeRequestor.
This way, it works both for sources and class files. 
But these classes are internal and you will get classes from org.eclipse.jdt.internal.compiler.lookup (the old type binding).
And you cannot convert from old type binding (classes from org.eclipse.jdt.internal.compiler.lookup) to new type binding (classes from org.eclipse.jdt.core.dom) because org.eclipse.jdt.core.dom.DefaultBindingResolver is not public.
</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-03 09:54:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=79633" name="attach_79633" title="Proposed API version 1">attachment 79633</a> <a href="attachment.cgi?id=79633&amp;action=edit" title="Proposed API version 1">[details]</a></span>
Proposed API version 1

Following <a href="show_bug.cgi?id=79112#c16">comment 16</a>, please find attached a first cut of the new API proposal. 

Before anyone asks why IAnnotationReference and not IAnnotation, it is because IAnnotation already exists in org.eclipse.jdt.core.util to represent an annotation  in a class file. So we wanted to avoid a name clash.

Also what do people expect the member's value of an annotation to be. In the proposal, it is the source if the annotation is from a source file, it is unspecified if it is from a class file. Or maybe people don't need this value ?

This is proposal is there to start the discussion. Please add your comments to this bug.</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-08 11:59:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=79905" name="attach_79905" title="Proposed API version 2">attachment 79905</a> <a href="attachment.cgi?id=79905&amp;action=edit" title="Proposed API version 2">[details]</a></span>
Proposed API version 2

After getting feedback privately, this new API proposal changes the following:
1. IAnnotationReference implements ISourceReference
2. the source positions of the reference can be retrieved using IAnnotationReference#getNameRange()
3. IAnnotationReference#getElementName() specifies what to expect
4. IAnnotationReference#getMembers() and getValues() have been replaced by getMemberValuePairs() that returns an array of IMemberValuePairs

Feedback is still welcome (positive or negative).</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Aeschlimann</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=martinae&#64;microsoft.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=martinae&#64;microsoft.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-09 04:03:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">The last API suggestion looks very good to me.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Carsten Pfeiffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=carsten.pfeiffer&#64;gebit.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=carsten.pfeiffer&#64;gebit.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-09 04:39:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c29">comment #29</a>)
<span class="quote">&gt; Created an attachment (id=79905) [details]
&gt; Proposed API version 2</span >

Thanks Jerome, this looks quite good to me. Two comments from me:

1) what do you think about write-access? E.g. 
    createAnnotation(String contents, AnnotationReference sibling, boolean
force, IProgressMonitor monitor) throws JavaModelException
and possibly 
    IAnnotationReference#createMemberValuePair(String contents,
IMemberValuePair sibling, boolean force, IProgressMonitor monitor) throws
JavaModelException

2) would it make sense to combine the methods getAnnotation() and
getAnnotations() (and possibly the above createAnnotation()) in an interface
IAnnotatable instead of &quot;duplicating&quot; them in IField, IType and IMethod?</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-09 14:20:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">Yep, looks mostly fine.

I would prefer IAnnotation for the new IJavaElement, but if you really think we need another name, then I would just call the type IAnnotationReference but still use the single word &quot;annotation&quot; when describing an annotation in prose (like JLS3 9.7).

Do we need IMemberValuePair#isArrayValue()? I don't think there are many use cases where clients will not call IMemberValuePair#getValue() if the value is not an array, so this won't help much performance-wise.

What does IMemberValuePair#getValue() do if only some elements of an array-valued annotation could not be classified? I guess this would result in getValueKind() == K_UNKNOWN and getValue() being an array containing null elements. If so, callers should be warned about these potential null elements.

Is IMemberValuePair#getValue() a handle-only method, or should it throw a JME?

(In reply to <a href="show_bug.cgi?id=79112#c31">comment #31</a>)
<span class="quote">&gt; 2) would it make sense to combine the methods getAnnotation() and
&gt; getAnnotations() (and possibly the above createAnnotation()) in an interface
&gt; IAnnotatable instead of &quot;duplicating&quot; them in IField, IType and IMethod?</span >

I agree. Moreover, annotations can also appear on IPackageDeclarations and ILocalVariables (including parameters), so I would also expect those to be IAnnotatable.

Javadocs for new methods are missing &quot;This is a handle-only method.&quot;

There are also Javadocs in other IJavaElements that need to be updated, e.g. ISourceReference enumerates its sub-interfaces.

IMemberValuePair is currently not an IJavaElement, which prevents IMemberValuePairBinding#getJavaElement() from offering this link (I'm unsure whether that's important).

IAnnotationBinding#getJavaElement() should now return an IAnnotationReference.

Typos in IAnnotationReference's Javadoc: refernces, Retuns.</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Brian Vosburgh</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=brian.vosburgh&#64;oracle.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=brian.vosburgh&#64;oracle.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-09 14:36:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">A few comments:

1. I second Carsten's idea (<a href="show_bug.cgi?id=79112#c31">comment 31</a>) of a common interface. (I would also like a common, slightly related, interface for all the DOM implementers of #modifiers() : List&lt;IExtendedModifier&gt; - e.g. BodyDeclaration, SingleVariableDeclaration. But that's another story....) This will simplify any code that reads (and possibly manipulates) annotations. We have lots of this type of code in the Dali project. Feel free to steal it.

2. But I'm not so enamored of Carsten's API (<a href="show_bug.cgi?id=79112#c31">comment 31</a>) for writing annotations, though. :-) The 'String contents' parameter in both methods feels a bit nebulous.... We would also need API for removing annotations and member value pairs. BUT, I agree that it would be very nice to be able to write to annotations. Of course the opens the Can of Worms of how you deal with conversions among marker, single-member, and normal annotations; and the back and forth between a single-and multi-element arrays....

3. IAnnotationReference needs a method like IMember#getOccurrenceCount() : int to indicate &quot;the position relative to the order this [annotation reference] is defined in the source&quot;, for when the same annotation occurs, mistakenly, more than once.

4. How will you handle a single element array member whose curly braces are implied; e.g.
definition:
    public &#64;interface Target {
        ElementType[] value();
    }
usages:
    &#64;Target({METHOD, FIELD})
    &#64;Target(METHOD)
Will IMemberValuePair#getValue() (for the &quot;value&quot; member value pair) return an array of names for both cases? Will #isArrayValue() return true in both cases? Or will the client need to watch for the cases where the array is implied? Obviously, I prefer a simpler client. : -)

5. I'm not sure Markus's comment about problematic arrays (<a href="show_bug.cgi?id=79112#c32">comment 32</a>) is relevant yet. :-) The parser has too many problems with annotations right now. See <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Invalid annotation elements cause no annotation to be in the AST"
   href="show_bug.cgi?id=130778">bug 130778</a>.

app. I wish the feedback you received and acted upon in <a href="show_bug.cgi?id=79112#c29">comment 29</a> had been captured here. :-( We have been dealing with annotations in Dali for quite a while now, and it would be nice to see other's experiences discussed here. It gets to feeling pretty lonely sometimes. :-)</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Carsten Pfeiffer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=carsten.pfeiffer&#64;gebit.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=carsten.pfeiffer&#64;gebit.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-10 12:35:12 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c33">comment #33</a>)
<span class="quote">&gt; 1. I second Carsten's idea (<a href="show_bug.cgi?id=79112#c31">comment 31</a>) of a common interface. (I would also
&gt; 2. But I'm not so enamored of Carsten's API (<a href="show_bug.cgi?id=79112#c31">comment 31</a>) for writing
&gt; annotations, though. :-) The 'String contents' parameter in both methods feels
&gt; a bit nebulous.... We would also need API for removing annotations and member value pairs.</span >

FWIW, I'm not too fond of the &quot;String contents&quot; either; I only used the existing createType(), createField, createInitializer, etc. methods as a reference.</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-10 13:14:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re write access:
The create*(..) methods in existing IJavaElements are remnants of the days before ASTRewrite. They are just kept for compatibility. I don't think we need such a method on I(Resolved)Annotation, given that there are better ways now.</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-11 04:58:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks to all who gave feedback. I'll try to come up with a new proposal that integrates your comments by the end of the week.</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-12 10:33:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=80230" name="attach_80230" title="Proposed API version 3">attachment 80230</a> <a href="attachment.cgi?id=80230&amp;action=edit" title="Proposed API version 3">[details]</a></span>
Proposed API version 3

As promised, here is the new API proposal after your feedback. Also I tried to answer each point you made below:

====================================================================
(In reply to <a href="show_bug.cgi?id=79112#c31">comment #31</a>)
<span class="quote">&gt; 1) what do you think about write-access?</span >
You are right that this would be more consistent with the current API. However
as Markus pointed out, the recommended way to make changes to a compilation unit it to use the DOM/AST rewriting support. Let me think a little bit more about it. 
 
<span class="quote">&gt; 2) would it make sense to combine the methods getAnnotation() and
&gt; getAnnotations() (and possibly the above createAnnotation()) in an interface
&gt; IAnnotatable instead of &quot;duplicating&quot; them in IField, IType and IMethod?</span >
That makes total sense. The new API proposal has now an IAnnotatable interface.

====================================================================
(In reply to <a href="show_bug.cgi?id=79112#c32">comment #32</a>)
<span class="quote">&gt; I would prefer IAnnotation for the new IJavaElement, [...]</span >
From the feedback I got privately, others agree with you. So I renamed IAnnotationReference to IAnnotation. 

<span class="quote">&gt; Do we need IMemberValuePair#isArrayValue()? </span >
Agreed. This is now removed and the Javadoc has been updated accordingly.

<span class="quote">&gt; What does IMemberValuePair#getValue() do if only some elements of an
&gt; array-valued annotation could not be classified? I guess this would result in
&gt; getValueKind() == K_UNKNOWN and getValue() being an array containing null
&gt; elements. If so, callers should be warned about these potential null elements.</span >
Hopefully the Javadoc is clearer on this point now.
 
<span class="quote">&gt; Is IMemberValuePair#getValue() a handle-only method, or should it throw a JME?</span >
Since IMemberValuePair is not a Java element handle, I don't think it makes sense to specify that.

<span class="quote">&gt; I agree. Moreover, annotations can also appear on IPackageDeclarations and
&gt; ILocalVariables (including parameters), so I would also expect those to be
&gt; IAnnotatable.</span >
Thanks, I missed those. This is now fixed.

<span class="quote">&gt; Javadocs for new methods are missing &quot;This is a handle-only method.&quot;</span >
I believe the one that apply to handles are now correct.
 
<span class="quote">&gt; There are also Javadocs in other IJavaElements that need to be updated, e.g.
&gt; ISourceReference enumerates its sub-interfaces.</span >
Thanks. This is now fixed.

<span class="quote">&gt; IMemberValuePair is currently not an IJavaElement, which prevents
&gt; IMemberValuePairBinding#getJavaElement() from offering this link (I'm unsure
&gt; whether that's important).</span >
I'm not sure either. Let me think about it.

<span class="quote">&gt; IAnnotationBinding#getJavaElement() should now return an IAnnotationReference.</span >
Right.

<span class="quote">&gt; Typos in IAnnotationReference's Javadoc: refernces, Retuns.</span >
Thanks. This is now fixed.

====================================================================
(In reply to <a href="show_bug.cgi?id=79112#c33">comment #33</a>)
<span class="quote">&gt; 1. [...] (I would also
&gt; like a common, slightly related, interface for all the DOM implementers of
&gt; #modifiers() : List&lt;IExtendedModifier&gt; [...]</span >
Could you please enter a separate enhancement request for that ?

<span class="quote">&gt; 2. But I'm not so enamored of Carsten's API (<a href="show_bug.cgi?id=79112#c31">comment 31</a>) for writing
&gt; annotations, though. :-) [...]</span >
Please see my answer to Carsten.
 
<span class="quote">&gt; 3. IAnnotationReference needs a method like IMember#getOccurrenceCount()</span >
Thanks, I missed this one. This is now fixed.

<span class="quote">&gt; 4. How will you handle a single element array member whose curly braces are
&gt; implied; e.g.
&gt; definition:
&gt;     public &#64;interface Target {
&gt;         ElementType[] value();
&gt;     }
&gt; usages:
&gt;     &#64;Target({METHOD, FIELD})
&gt;     &#64;Target(METHOD)</span >
Since the Java model is based on source only, no resolution is done. Thus
it cannot know that the curly braces are implied. So in the first case, the value will be an Object[], and in the second case, it will be a String.

<span class="quote">&gt; 5. I'm not sure Markus's comment about problematic arrays (<a href="show_bug.cgi?id=79112#c32">comment 32</a>) is
&gt; relevant yet. :-) The parser has too many problems with annotations right now.
&gt; See <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Invalid annotation elements cause no annotation to be in the AST"
   href="show_bug.cgi?id=130778">bug 130778</a>.</span >
We plan to improve the parser recovery in this area.</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-12 14:53:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c37">comment #37</a>)
<span class="quote">&gt; Created an attachment (id=80230) [details] Proposed API version 3</span >

1.
<span class="quote">&gt; &gt; IAnnotationBinding#getJavaElement() should now return an IAnnotationReference.
&gt; Right.</span >
This would need to be corrected in Javadoc of IBinding.getJavaElement(), i.e. &quot;For annotations, this methods returns the Java element of the annotation type.&quot; can be removed.

2.
IMemberValuePair: &quot;To get the exact instance if this object, use its {&#64;link #getValueKind() value kind}&quot;
=&gt; better:        &quot;To get the *type* *of* this object [..]&quot;

3.
IMemberValuePair#getValue() and #getValueKind(): I think we need to look at a few examples to get the array-valued cases right, e.g.:
    &#64;Ann({1 + 2.3, 4.5})
    &#64;Ann2({&quot;string&quot;, &quot;un&quot; + &quot;known&quot;})
    &#64;Broken({Color.UGLY, &quot;yawn&quot;, 1+2})
	
#getValue(): &quot;It is &lt;code&gt;null&lt;/code&gt; if the value kind is {&#64;link #K_UNKNOWN}&quot;. =&gt; This is strange, since it would not allow arrays with unknown elements.
	
#getValueKind(): I would expect either of these behaviors:

(a) If all array elements are of the same kind, #getValueKind() returns the determined kind. Otherwise, #getValueKind() returns K_UNKNOWN.

(b) If the value is an array, #getValueKind() returns a new constant K_ARRAY. The element kinds are not available from #getValueKind() any more (but clients can use #getValue() and inspect the array elements, like in the K_UNKNOWN case in (a)).

(c) Like (a), but the result of #getValueKind() is |-ed with K_ARRAY_MASK, such that clients can switch on
- fully resolved arrays: &quot;case K_STRING | K_ARRAY_MASK:&quot;, and on
- the two problem cases: &quot;case K_UNKNOWN:&quot;, &quot;case K_UNKNOWN | K_ARRAY_MASK:&quot;.

Is there an implementation reason why #getValue() returns a String for K_QUALIFIED_NAME values but null for K_UNKNOWN? Wouldn't it be better to return the String for K_UNKNOWN as well for consistency? Otherwise, clients who still want to do something with the value would have to parse the whole annotation again.

4.
IMemberValuePair#K_CLASS: please use x.y.MyType.MyNestedType.class in the example to make clear that '.' is the type separator for all types (including nested binary types).</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-15 11:57:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=80364" name="attach_80364" title="Proposed API version 4">attachment 80364</a> <a href="attachment.cgi?id=80364&amp;action=edit" title="Proposed API version 4">[details]</a></span>
Proposed API version 4

(In reply to <a href="show_bug.cgi?id=79112#c38">comment #38</a>)
<span class="quote">&gt; &gt; &gt; IAnnotationBinding#getJavaElement() should now return an IAnnotationReference.
&gt; &gt; Right.
&gt; This would need to be corrected in Javadoc of IBinding.getJavaElement(), i.e.
&gt; &quot;For annotations, this methods returns the Java element of the annotation
&gt; type.&quot; can be removed.</span >
IBinding#getJavaElement now appears in the proposed API.

<span class="quote">&gt; 2.
&gt; IMemberValuePair: &quot;To get the exact instance if this object, use its {&#64;link
&gt; #getValueKind() value kind}&quot;
&gt; =&gt; better:        &quot;To get the *type* *of* this object [..]&quot;</span >
Thanks. This is now fixed.

<span class="quote">&gt; 3.
&gt; IMemberValuePair#getValue() and #getValueKind(): I think we need to look at a
&gt; few examples to get the array-valued cases right, [...]</span >
Hopefully, this is now clarified. Especially see IMemberValuePair#K_UNKNOWN
where I tried to detail all the cases.

<span class="quote">&gt; #getValueKind(): I would expect either of these behaviors:
&gt; 
&gt; (a) If all array elements are of the same kind, #getValueKind() returns the
&gt; determined kind. Otherwise, #getValueKind() returns K_UNKNOWN.</span >
I chose this suggestion as I find it simpler than the other two.

<span class="quote">&gt; Is there an implementation reason why #getValue() returns a String for
&gt; K_QUALIFIED_NAME values but null for K_UNKNOWN? Wouldn't it be better to 
&gt; return the String for K_UNKNOWN as well for consistency? Otherwise, clients
&gt; who still want to do something with the value would have to parse the whole
&gt; annotation again.</span >
The main reason is that I wanted to be consistent in the source case (value coming from a compilation unit, and the binary case (value coming from a .class file). In the binary case, we can only return null (or array of nulls). Another reason is to optimize space taken by the Java model cache. Also if a client needs to parse the source, IAnnotation#getSource() can be used.

<span class="quote">&gt; 4.
&gt; IMemberValuePair#K_CLASS: please use x.y.MyType.MyNestedType.class in the
&gt; example to make clear that '.' is the type separator for all types (including
&gt; nested binary types).</span >
This is now in the proposed API</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-15 13:34:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">/** [..]
 * If the value kind is unknown, the returned value is always either &lt;code&gt;null&lt;/code&gt;, or an 
 * array containing only &lt;code&gt;null&lt;/code&gt;s.
 */
int K_UNKNOWN = 13;

/** [..]
 * If the value kind is {&#64;link #K_UNKNOWN} and the value is an array, then the 
 * value is an array containing &lt;code&gt;null&lt;/code&gt;s. [..]
 */
Object getValue();

That would mean that in the case below, IMemberValuePair#getValue() would return an Object[] with *only* null values? (How many?)

&#64;SuppressWarnings({&quot;nls&quot;, &quot;deprecat&quot; + Try.ION})
public class Try {
	public static final String ION= &quot;ion&quot;;
}

I would remove the &quot;only&quot; from #K_UNKNOWN and change #getValue() to &quot;is an array containing &lt;code&gt;null&lt;/code&gt; for unknown elements&quot;.

Otherwise, the only value of the array would be to tell that there was an array (and maybe how many elements it contained). I don't think clients could do much with just this information, so if the API won't return the resolved array elements, you could as well say that #getValue() is null as soon as at least one element of the array is unknown.


<span class="quote">&gt; &gt; Is there an implementation reason why #getValue() returns a String for
&gt; &gt; K_QUALIFIED_NAME values but null for K_UNKNOWN?
&gt; The main reason is that I wanted to be consistent in the source case [..]
&gt; and the binary case [..].</span >

I don't think the values from a class file can be unknown, since they must have been constant expressions at compile time and the class file format looks like they are not computable. But omitting them for efficiency reasons is OK with me.</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-18 08:01:58 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=80654" name="attach_80654" title="Proposed API version 5">attachment 80654</a> <a href="attachment.cgi?id=80654&amp;action=edit" title="Proposed API version 5">[details]</a></span>
Proposed API version 5

Hopefully this new version addresses issues raised by Markus.</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-19 10:20:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">If everyone is happy with the latest API proposal, then I will release the corresponding implementation next week.</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Leho Nigul</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=lnigul&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=lnigul&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-19 11:24:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">For IJavaElementDelta with regards to annotations, is that possible to provide more granular delta information? Such as which particular annotation got added/removed/modified? That will be very useful for the scenario where we have many annotations defined on certain java element</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-19 12:39:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c43">comment #43</a>)
<span class="quote">&gt; For IJavaElementDelta with regards to annotations, is that possible to provide
&gt; more granular delta information? Such as which particular annotation got
&gt; added/removed/modified? That will be very useful for the scenario where we have
&gt; many annotations defined on certain java element
&gt; </span >
That's more work :-) But I'll try to come up with a proposal next week.</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Leho Nigul</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=lnigul&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=lnigul&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-19 15:28:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Hi Jerome, few more questions :)

1) Java annotations have a notion of scope (target), for example certain annotation can be defined to be relevant only in the context of a method. I don't think JDT checks for this information now, is that in plan to do that? If it is, 
what API would you use to see if particular IAnnotation is in the valid scope.

2) About the getNameRange() method, if I have something like that in code : &#64;Stateless(name=&quot;test&quot;) , will this method
return the source range only for &quot;Stateless&quot; ? If I want to get the source for the whole annotation (including member value pairs), should I just call IAnnotation.getSource() ?

3) Question about handling &quot;invalid input&quot;, if I have something like that in the source &#64;Stateless(name=) and I
call getMemberValuePairs() , what will I get back? </pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-19 17:50:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re: (1) in <a href="show_bug.cgi?id=79112#c45">comment 45</a>
I think the best way to find this out is to switch to using DOM AST bindings. The model is never going to be able to tackle these. Some bridging from annotation elements to DOM counterparts may be useful here.</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-22 10:42:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c45">comment #45</a>)
<span class="quote">&gt; Hi Jerome, few more questions :)
&gt; 
&gt; 1) Java annotations have a notion of scope (target), for example certain
&gt; annotation can be defined to be relevant only in the context of a method. I
&gt; don't think JDT checks for this information now, is that in plan to do that? If
&gt; it is, 
&gt; what API would you use to see if particular IAnnotation is in the valid scope.</span >
This information needs resolution and the Java model is based on source only and does not do resolution. So as Philippe said, you will need to use the DOM/AST APIs (see ASTParser.createAST(...) and ASTParser.setResolveBinding(...)).

<span class="quote">&gt; 2) About the getNameRange() method, if I have something like that in code :
&gt; &#64;Stateless(name=&quot;test&quot;) , will this method
&gt; return the source range only for &quot;Stateless&quot; ? </span >
Yes

<span class="quote">&gt; If I want to get the source for
&gt; the whole annotation (including member value pairs), should I just call
&gt; IAnnotation.getSource() ?</span >
Yes

<span class="quote">&gt; 3) Question about handling &quot;invalid input&quot;, if I have something like that in
&gt; the source &#64;Stateless(name=) and I
&gt; call getMemberValuePairs() , what will I get back? </span >
We will do our best to return a Java element that is as close as possible to the source. Unfortunately our parser recovery is not perfect yet. See <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Invalid annotation elements cause no annotation to be in the AST"
   href="show_bug.cgi?id=130778">bug 130778</a> for more details. So in the case you are giving, no IAnnotation will be returned.

</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-22 13:11:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=80891" name="attach_80891" title="Proposed API version 6">attachment 80891</a> <a href="attachment.cgi?id=80891&amp;action=edit" title="Proposed API version 6">[details]</a></span>
Proposed API version 6

(In reply to <a href="show_bug.cgi?id=79112#c43">comment #43</a>)
<span class="quote">&gt; For IJavaElementDelta with regards to annotations, is that possible to provide
&gt; more granular delta information? Such as which particular annotation got
&gt; added/removed/modified? That will be very useful for the scenario where we have
&gt; many annotations defined on certain java element</span >

This new API proposal adds IJavaElementDelta#getAnnotationDeltas(). This is a list of added/removed/modified annotations.</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 11:19:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=80963" name="attach_80963" title="Proposed API version 7">attachment 80963</a> <a href="attachment.cgi?id=80963&amp;action=edit" title="Proposed API version 7">[details]</a></span>
Proposed API version 7

It looks like I forgot about binding keys for annotations. This new API proposal adds IAnnotation#getKey() and updates IBinding#getKey().</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 11:28:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">If there is no strong objection, I will release the corresponding implementation tomorrow so that we have something for 3.4M3 (as per JDT/Core plan). </pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 12:24:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">Why do we need IAnnotation#getKey()? AFAIK, the other #getKey() methods were only introduced as a way to piggyback resolved generic type information from references resolved by codeSelect(..). But annotations are never generic.

If you really think you should add IAnnotation#getKey(), then you should probably also add IPackageFragment#getKey() for consistency. CompilationUnit.findDeclaringNode(String) should also be updated then.

No objection against releasing to HEAD from my part.</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 12:56:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">People CC'ed on this bug might also want to comment on <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [search] [DCR] More finegrained options for Java search"
   href="show_bug.cgi?id=155013#c18">bug 155013 comment 18</a>.</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-23 17:12:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=80998" name="attach_80998" title="Proposed API version 8">attachment 80998</a> <a href="attachment.cgi?id=80998&amp;action=edit" title="Proposed API version 8">[details]</a></span>
Proposed API version 8

(In reply to <a href="show_bug.cgi?id=79112#c51">comment #51</a>)
<span class="quote">&gt; Why do we need IAnnotation#getKey()? [...]</span >
You are right. This is not needed.</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Markus Keller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=markus.kell.r&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=markus.kell.r&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-24 06:10:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">Sorry, I was too quick with my <a href="show_bug.cgi?id=79112#c51">comment 51</a>:
#getKey() is required to find the corresponding declaration in the AST.
Please take v7 again, but add the annotation case to CompilationUnit.findDeclaringNode(String).</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-24 09:24:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=79112#c54">comment #54</a>)
<span class="quote">&gt; Sorry, I was too quick with my <a href="show_bug.cgi?id=79112#c51">comment 51</a>:
&gt; #getKey() is required to find the corresponding declaration in the AST.
&gt; Please take v7 again, but add the annotation case to
&gt; CompilationUnit.findDeclaringNode(String).
&gt; </span >
Unfortunately CompilationUnit.findDeclaringNode(String) doesn't work with unresolved binding keys (see <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [implementation] Operations that take a binding key should be more resilient"
   href="show_bug.cgi?id=207300">bug 207300</a>). So IAnnotation#getKey() cannot be added before <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED WONTFIX - [implementation] Operations that take a binding key should be more resilient"
   href="show_bug.cgi?id=207300">bug 207300</a> is fixed. I entered <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - [model] Add IAnnotation#getKey()"
   href="show_bug.cgi?id=207301">bug 207301</a> to remind us to add this.</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-24 09:44:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=81058&amp;action=diff" name="attach_81058" title="Implementation corresponding to proposed API version 8">attachment 81058</a> <a href="attachment.cgi?id=81058&amp;action=edit" title="Implementation corresponding to proposed API version 8">[details]</a></span>
Implementation corresponding to proposed API version 8</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-24 09:51:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">Implementation released for 3.4M3.</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-24 09:56:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - inconsistent treatment of Modifiers and Annotations"
   href="show_bug.cgi?id=106108">Bug 106108</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Audel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=david_audel&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=david_audel&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-10-30 08:03:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">Verified for 3.4M3 using I20071029-0010 build.</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tom Mutdosch</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mutdosch&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mutdosch&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-11-20 13:59:17 EST
        </span>

      </div>




<pre class="bz_comment_text">This works very well, thanks!  One question that arose from some of the comments.  What really is the best way to write annotations to a compilation unit?  It would be nice if there was some way to build up a model of Annotations and set them on the compilation unit.  As it is, I am constructing org.eclipse.jdt.core.dom.Annotation elements and passing these to a utility which will end up writing them to the compilation unit contents.  Is there a better way to add/modify annotations on a Java file?</pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Aeschlimann</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=martinae&#64;microsoft.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=martinae&#64;microsoft.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-11-21 03:56:38 EST
        </span>

      </div>




<pre class="bz_comment_text">To modify Java source we have the AST rewriter. Have a look at class 'ASTRewrite'. There's also an article on www.eclipse.org: <a href="http://www.eclipse.org/articles/Article-JavaCodeManipulation_AST/index.html">http://www.eclipse.org/articles/Article-JavaCodeManipulation_AST/index.html</a></pre>
    </div>

    <div id="c62" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrew Mak</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=makandre&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=makandre&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-11-21 15:30:40 EST
        </span>

      </div>




<pre class="bz_comment_text">Hi,

I am experimenting with the annotations API in eclipse 3.4 M3; specifically I've a IJavaElementChangeListener which I am using to listen for annotation add/remove/change events.  This seems to work fine when my project does not have an annotation processor configured in my project properties (under Java Compiler &gt; Annotation Processing &gt; Factory Path).  However, when I configure my project to use a custom annotation processor, I find that my listener no longer receives any annotation events.  Is this behavior by design or is there something I'm missing?  Thanks.</pre>
    </div>

    <div id="c63" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Leho Nigul</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=lnigul&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=lnigul&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-11-21 15:54:22 EST
        </span>

      </div>




<pre class="bz_comment_text">RE62:
I already opened a defect on that issue --&gt; <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - IJavaElementDelta contains wrong data after APT processor is enabled"
   href="show_bug.cgi?id=210310">https://bugs.eclipse.org/bugs/show_bug.cgi?id=210310</a>  

I guess you can add your vote there :)</pre>
    </div>

    <div id="c64" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=79112#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jerome Lanneluc</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jerome_lanneluc&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jerome_lanneluc&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-12-05 12:03:01 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - No F_CONTENT flag on delta when using auto complete w/ annotation"
   href="show_bug.cgi?id=149074">Bug 149074</a> has been marked as a duplicate of this bug. ***</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=79112">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=79112">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=79112">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=79112&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=79112" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>