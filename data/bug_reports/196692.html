<!DOCTYPE html>
<html lang="en">
  <head>
    <title>196692 &ndash; [Forms] Section cannot handle most kinds of wrapping controls</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "196692 – [Forms] Section cannot handle most kinds of wrapping controls",
                             "show_bug.cgi?id=196692" );
        document.title = "196692 – [Forms] Section cannot handle most kinds of wrapping controls";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "196692 – [Forms] Section cannot handle most kinds of wrapping controls", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Platform
                 bz_component_UI
                 bz_bug_196692 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;196692</span>

        <span id="subtitle" class="subheader">[Forms] Section cannot handle most kinds of wrapping controls</span>

        <span id="information" class="header_addl_info">Last modified: 2019-11-12 05:20:11 EST</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=196692&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=196692" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2019-11-12 05:20:11">
  <input type="hidden" name="id" value="196692">
  <input type="hidden" name="token" value="1629870353-muJENpOj1p6gimT_rXRrZlDsOS_-HkaZRFfaVxewCEA">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=196692"><b>Bug&nbsp;196692</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[Forms] Section cannot handle most kinds of wrapping controls</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[Forms] Section cannot handle most kinds of wrapping controls
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[Forms] Section cannot handle most kinds of wrapping controls' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >UI

  (<a href="buglist.cgi?component=UI&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.3 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Linux
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=196692#vote_196692">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>4.7 M7 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'Platform-UI-Inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (1)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - ExpandableComposite layout issues for wrap or oversized text controls"
   href="show_bug.cgi?id=482024">482024</a> 
      </span>
      (<a href="buglist.cgi?bug_id=482024">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Implement an SWT layout spy"
   href="show_bug.cgi?id=498030">498030</a> 
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Eclipse Forms no longer wrapping"
   href="show_bug.cgi?id=532530">532530</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Remove LayoutComposite related styling"
   href="show_bug.cgi?id=552938">552938</a> 
  </td>
  </tr>

    <tr>
      <th>&nbsp;</th>

      <td id="show_dependency_tree_or_graph">
        Show dependency <a href="showdependencytree.cgi?id=196692&amp;hide_resolved=1">tree</a>

      </td>
    </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2007-07-16 13:44 EDT by <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2019-11-12 05:20 EST
      (<a href="show_activity.cgi?id=196692">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>13 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="cgold">cgold</option>
                <option value="curtispd">curtispd</option>
                <option value="daniel_megert">daniel_megert</option>
                <option value="dejan">dejan</option>
                <option value="elaskavaia.cdt">elaskavaia.cdt</option>
                <option value="jean-michel_lemieux">jean-michel_lemieux</option>
                <option value="Lars.Vogel">Lars.Vogel</option>
                <option value="peter">peter</option>
                <option value="phil.m.fischer">phil.m.fischer</option>
                <option value="psuzzi">psuzzi</option>
                <option value="ralf.grossklaus">ralf.grossklaus</option>
                <option value="ralf.petter">ralf.petter</option>
                <option value="Vikas.Chandra">Vikas.Chandra</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ><ul class="bug_urls">
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/#/c/60264/">
        Gerrit Change</a>
          </li>
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/69355">
        Gerrit Change</a>
          </li>
          <li><img src="//dev.eclipse.org/images/git-16x16.png"> <a href="https://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=1e645458b2ef61bd7d83b1f5c7fb28dcde7ace58">
        Git Commit</a>
          </li>
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/96456">
        Gerrit Change</a>
          </li>
          <li><img src="//dev.eclipse.org/images/git-16x16.png"> <a href="https://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=aad2395cd78f3e285e3fc02a7c01712301a61222">
        Git Commit</a>
          </li>
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/96510">
        Gerrit Change</a>
          </li>
          <li><img src="//dev.eclipse.org/images/git-16x16.png"> <a href="https://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778">
        Git Commit</a>
          </li>
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/96609">
        Gerrit Change</a>
          </li>
          <li><img src="//dev.eclipse.org/images/git-16x16.png"> <a href="https://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=60aa693b09fc8a755cb794816233cc4a87bc936c">
        Git Commit</a>
          </li>
          <li><img src="//dev.eclipse.org/images/gerrit-16x16.gif"> <a href="https://git.eclipse.org/r/96678">
        Gerrit Change</a>
          </li>
          <li><img src="//dev.eclipse.org/images/git-16x16.png"> <a href="https://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=bf8238acb94c23742196f20574d19bf29f6018bb">
        Git Commit</a>
          </li></ul>

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_x-java">
        <td>
            <a href="attachment.cgi?id=73871"
               title="View the content of the attachment">
          <b>Example code to demonstrate the problem</b></a>

          <span class="bz_attach_extra_info">
              (2.68 KB,
                text/x-java)

            <br>
            <a href="#attach_73871"
               title="Go to the comment associated with the attachment">2007-07-16 13:46 EDT</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=73871&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain">
        <td>
            <a href="attachment.cgi?id=73877"
               title="View the content of the attachment">
          <b>Fix for this defect</b></a>

          <span class="bz_attach_extra_info">
              (2.04 KB,
                text/plain)

            <br>
            <a href="#attach_73877"
               title="Go to the comment associated with the attachment">2007-07-16 13:52 EDT</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=73877&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_x-java">
        <td>
            <a href="attachment.cgi?id=74193"
               title="View the content of the attachment">
          <b>Example code to demonstrate problem 1</b></a>

          <span class="bz_attach_extra_info">
              (2.48 KB,
                text/x-java)

            <br>
            <a href="#attach_74193"
               title="Go to the comment associated with the attachment">2007-07-19 16:55 EDT</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=74193&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=75257"
               title="View the content of the attachment">
          <b>patch</b></a>

          <span class="bz_attach_extra_info">
              (1.80 KB,
                patch)

            <br>
            <a href="#attach_75257"
               title="Go to the comment associated with the attachment">2007-08-02 13:54 EDT</a>,

            <span class="vcard"><span class="fn">Adam Archer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=agarcher&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=agarcher&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=75257&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=75257&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_image_jpeg">
        <td>
            <a href="attachment.cgi?id=268178"
               title="View the content of the attachment">
          <b>Image showing the problem</b></a>

          <span class="bz_attach_extra_info">
              (56.88 KB,
                image/jpeg)

            <br>
            <a href="#attach_268178"
               title="Go to the comment associated with the attachment">2017-05-05 04:47 EDT</a>,

            <span class="vcard"><span class="fn">Vikas Chandra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Vikas.Chandra&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Vikas.Chandra&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=268178&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_image_png">
        <td>
            <a href="attachment.cgi?id=268216"
               title="View the content of the attachment">
          <b>How it should look</b></a>

          <span class="bz_attach_extra_info">
              (1.85 KB,
                image/png)

            <br>
            <a href="#attach_268216"
               title="Go to the comment associated with the attachment">2017-05-08 13:28 EDT</a>,

            <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=268216&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_image_png">
        <td>
            <a href="attachment.cgi?id=268217"
               title="View the content of the attachment">
          <b>Currently: too high</b></a>

          <span class="bz_attach_extra_info">
              (1010 bytes,
                image/png)

            <br>
            <a href="#attach_268217"
               title="Go to the comment associated with the attachment">2017-05-08 13:29 EDT</a>,

            <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=268217&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_image_png">
        <td>
            <a href="attachment.cgi?id=268234"
               title="View the content of the attachment">
          <b>Still too high</b></a>

          <span class="bz_attach_extra_info">
              (107.51 KB,
                image/png)

            <br>
            <a href="#attach_268234"
               title="Go to the comment associated with the attachment">2017-05-09 05:19 EDT</a>,

            <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=268234&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_image_png">
        <td>
            <a href="attachment.cgi?id=268252"
               title="View the content of the attachment">
          <b>Chevron alignment</b></a>

          <span class="bz_attach_extra_info">
              (44.74 KB,
                image/png)

            <br>
            <a href="#attach_268252"
               title="Go to the comment associated with the attachment">2017-05-09 10:54 EDT</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=268252&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=273142"
               title="View the content of the attachment">
          <b>Sample</b></a>

          <span class="bz_attach_extra_info">
              (2.32 KB,
                application/octet-stream)

            <br>
            <a href="#attach_273142"
               title="Go to the comment associated with the attachment">2018-03-15 13:07 EDT</a>,

            <span class="vcard"><span class="fn">Ralf Grossklaus</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ralf.grossklaus&#64;vector.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ralf.grossklaus&#64;vector.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=273142&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a id="view_all" href="attachment.cgi?bugid=196692&amp;action=viewall">View All</a>
        </span>
        <a href="attachment.cgi?bugid=196692&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=196692&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-16 13:44:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">The Section class contains an optimization for non-wrapping controls, in which it does not pass down the current width to compute size. 

However, it does not detect many types of wrapping controls as wrapping, which causes it to reserve the wrong amount of vertical space and prevents it from resizing along with its wrapped content.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-16 13:46:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=73871" name="attach_73871" title="Example code to demonstrate the problem">attachment 73871</a> <a href="attachment.cgi?id=73871&amp;action=edit" title="Example code to demonstrate the problem">[details]</a></span>
Example code to demonstrate the problem

This example contains two Sections. The upper section contains a wrapping gridlayout with two columns. Notice that: 

- The section does not reserve the correct amount of vertical space for the layout initially

- When you resize the dialog, the upper section does not expand as the text wraps.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-16 13:52:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=73877" name="attach_73877" title="Fix for this defect">attachment 73877</a> <a href="attachment.cgi?id=73877&amp;action=edit" title="Fix for this defect">[details]</a></span>
Fix for this defect

The problem here is that FormUtil.isWrapControl is erring on the side of treating controls as non-wrapping. 

This is unsafe, since it will cause undetected wrapping controls to return the wrong height. It is, however, safe to treat a non-wrapping control as wrapping. This patch removes the optimization and treats all controls as wrapping.

This makes less efficient use of the layout caches since cache misses for wrapping controls are more common, but it will always result in correct layouts.

If we wish to bring back the optimization, we should do so selectively for particular controls that are known to be non-wrapping, and we should always default to the wrapping behavior for unknown controls.</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris Goldthorpe</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cgold&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cgold&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 13:18:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">Adam, does this look like the same problem that was fixed in <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - [Forms] layout issue with long scope set name"
   href="show_bug.cgi?id=171276">Bug 171276</a>?</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Archer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=agarcher&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=agarcher&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 15:41:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">No, it's a different problem. I can see the issue with the sample provided in <a href="show_bug.cgi?id=196692#c1">comment 1</a> using the changes from <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - [Forms] layout issue with long scope set name"
   href="show_bug.cgi?id=171276">bug 171276</a>.

I'm very hesitant, however, to arbitrarily call every control wrappable. This is going to impose a significant overhead in computing the size and laying out of non-wrappable controls.</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris Goldthorpe</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cgold&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cgold&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 15:51:04 EDT
        </span>

      </div>




<pre class="bz_comment_text">I would also be hesitant to treat all controls as wrappable. Anything that makes forms slower should be avoided.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Archer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=agarcher&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=agarcher&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-18 21:28:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">With the most recent forms code I do not see the first problem listed in <a href="show_bug.cgi?id=196692#c1">comment 1</a>. The second problem can be corrected by instantiating the Composite with the SWT.WRAP style as follows:

Composite theComposite = new Composite(section1, SWT.WRAP);</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-19 16:45:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re: <a href="show_bug.cgi?id=196692#c5">comment 5</a>

<span class="quote">&gt; I would also be hesitant to treat all controls as wrappable. Anything 
&gt; that makes forms slower should be avoided.</span >

There *is* a performance cost to passing in correct width hints, but it is negligable (when I contributed the fix to <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Performance problems in Forms layouts and composites"
   href="show_bug.cgi?id=73716">bug 73716</a>, I did a lot of profiling on the forms layouts and understand the performance costs well). As long as there is no more than 1 call to computeSize with a non-SWT.DEFAULT width hint per layout, most of the calls will be cached by SizeCache. This remains the case with this patch.

However even if the speed cost were significant, it wouldn't matter. The speed of an algorithm is not important if that algorithm produces the wrong answer. If we were comparing two correct algorithms, the faster one would be better. However, in this case we're comparing an incorrect algorithm with a (marginally) slower correct one. 

If the code didn't need to be correct, then the natural consequence would be to make all of our layouts produce 0-size controls that are off the screen, since this is the fastest possible layout.

<a href="show_bug.cgi?id=196692#c6">Comment 6</a> observes that the library will pass in the correct width hint if the Composite makes use of the SWT.WRAP constant. This is true, but it is also a restatement of the bug. In order for this to be a permissible optimization, Composite (or computeSize) would need to guarantee that the width hint would be unused unless the control sets the SWT.WRAP flag. This is not the case in general, so the caller remains responsible for supplying a correct hint.

True, you can argue that the code that instantiates the Composite may know that it will be used within a Section and know that it needs the correct width hint and so set the SWT.WRAP flag. There are several problems with this:


1. SWT does not specify SWT.WRAP as a valid flag on Composite. This means that Composite (or its subclasses) may add incompatible semantics to the SWT.WRAP flag in the future. For example, if I wrote a subclass of Composite that used the width hint in all cases and that used the SWT.WRAP flag to indicate whether it should wrap its contents, it would be impossible to insert a non-wrapping example of my control into a Section. 

In general, the meaning of the flags are determined by the Control itself. If you want to give the enclosing layout some meta-data about the control, that meta-data can go in the control's setLayoutData, its setData, or in the enclosing layout itself. The enclosing layout is not allowed to make assumptions about what one of its children uses its flags for unless the child's JavaDoc explicitly says so.


2. The code that instantiates the Composite may not know that it will be used inside a Section, as would happen if the Composite was being instantiated by plugged-in code.


3. The code that instantiates a Composite may not know whether or not the width hint is needed, since it is the layout that uses the width hint and not the composite itself. This would happen in the (very common) case where the code that instantiates the Composite is also instantiating a generic layout (like GridLayout or FormLayout), and the API for the generic layout does not specify the conditions under which the width hint will be used.


This is a perfectly valid optimization to do with certain common controls (like Labels), but Section still needs to respect the API contracts on everything else.
</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-19 16:55:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=74193" name="attach_74193" title="Example code to demonstrate problem 1">attachment 74193</a> <a href="attachment.cgi?id=74193&amp;action=edit" title="Example code to demonstrate problem 1">[details]</a></span>
Example code to demonstrate problem 1</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-07-19 16:59:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Re: <a href="show_bug.cgi?id=196692#c6">comment 6</a>

In the original example I attached, it was hard to see the extra space reserved for the upper Section unless you used a very large font size (as I do).

I've attached another example which should demonstrate the problem in pretty much any situation.
</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Archer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=agarcher&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=agarcher&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-02 13:54:11 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=75257&amp;action=diff" name="attach_75257" title="patch">attachment 75257</a> <a href="attachment.cgi?id=75257&amp;action=edit" title="patch">[details]</a></span>
patch

Thanks for the new sample code. It helped clarify the problem.

This fix widens the number of controls that are flagged as wrappable, but not nearly as inclusively as the patch in <a href="show_bug.cgi?id=196692#c2">comment 2</a>.

This treats any Composite that is a child (direct or indirect) of an ExpandableComposite as wrappable. This means that we do not lose the optimization for many lower level controls and for Composites that actually aren't wrappable.

Stefan, can you think of any cases that this behaviour would not account for?</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Archer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=agarcher&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=agarcher&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-08 10:26:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">Dejan, can you review?</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dejan Glozic</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dejan&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dejan&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-10 11:40:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">These changes are far reaching and make me nervious. Have we done any tests on existing clients (i.e. PDE etc.) and some performance numbers?</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Archer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=agarcher&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=agarcher&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-10 11:46:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">I agree with you entirely. Broadening the scope of this makes me nervous too. That's why I'm trying to reduce it from Stefan's suggested fix in <a href="show_bug.cgi?id=196692#c2">comment 2</a>.

My own preliminary tests on PDE revealed no problems.

With respect to performance, I have not done any tests, but Stefan makes a good point in <a href="show_bug.cgi?id=196692#c7">comment 7</a>. Performance is irrelevant if the algorithm is not correct. ;)</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dejan Glozic</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dejan&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dejan&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-10 13:33:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">I was not implying that performance matters with incorrect results. However, there is a number of scenarios where the layout does work well, and if they become slower, it would matter. Ideally we want to arrive at a situation where:

1) Scenarios that work well today are not noticeably slower
2) Scenarios that do not work today work (irrespective of performance)</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-27 22:18:11 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; Stefan, can you think of any cases that this behaviour would not account for?</span >

This is an improvement. However, the patch will not address cases where:

1. The control does not have an ExpandableComposite ancestor.
2. There is a non-composite that requires correct width hints.

In general, if it is possible to construct any layout where the optimization will be applied to a control that requires a correct width hint, the bug remains. I would suggest the following heuristics:

Apply the optimization if:
- The contol is an instance of Toolbar, Label, Text, or CLabel and it does not have the SWT.WRAP flag set.
- The control is an instance of Combo
- The control is an instance of Composite (and not a subclass), it has a GridLayout or StackLayout, none of its children are composites, and all of its children can be proven to be safe to apply the optimization using the above heuristics.
... otherwise, don't use the optimization

I believe that these are all safe and relatively common situations. If you discover a performance regression with a particular layout, you can always add heuristics later.


However, I believe the code will still run pretty fast without this optimization. 
1. The layout cache used everywhere in the forms library caches one the result of computeSize for one default and one non-default width hint. 
2. Width hints tend to be repeated (easy to demonstrate experimentally). 
3. Most of the standard layout implementations only make one call to computeSize with a non-default hint per child per layout (that includes GridLayout, FormLayout, and AFAIK all of the Forms layouts).

...which means you'd expect most of the computeSize calls to be cached, even without the optimization. This is still a bit of hand-waving - but when I first wrote the caching code I worked out the expected runtime of the layout algorithm based on the probability of cache hits... I'll see if I can dig up my old notes and copy them here. 

As long as the algorithm runs in O(n) - where n is the number of controls in the layout, you're doing fine. The old uncached forms layouts from Eclipse 3.0 were really slow because they ran in O(2^d), where d was the maximum depth of the widget hierarchy.
</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-22 21:37:53 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - ExpandableComposite layout issues for wrap or oversized text controls"
   href="show_bug.cgi?id=482024">Bug 482024</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Elena Laskavaia</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=elaskavaia.cdt&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=elaskavaia.cdt&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-22 21:50:17 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c16">comment #16</a>)
<span class="quote">&gt; *** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - ExpandableComposite layout issues for wrap or oversized text controls"
   href="show_bug.cgi?id=482024">Bug 482024</a> has been marked as a duplicate of this bug. ***</span >

You know I have a patch for it sitting on gerrit for months...
<a href="https://git.eclipse.org/r/#/c/60264/">https://git.eclipse.org/r/#/c/60264/</a></pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-22 23:41:13 EST
        </span>

      </div>




<pre class="bz_comment_text">Yes... thank you for looking into it. I've added myself as a reviewer to your patch and have added a bunch of comments. I'd suggest you change the bug number on your gerrit patch to point it here.

FYI, your patch is much better than my original one, since you've added tests and have done some elegant cleanup.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-22 23:43:57 EST
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; You know I have a patch for it sitting on gerrit for months...</span >

Don't feel too bad. My patch for this bug has been sitting here for almost 9 years.

...but we'll get yours in. No worries. Email me directly if you update your patch and I miss it. I agree this is an important issue.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-28 11:50:51 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED INVALID - [Forms] GridLayout Bug in combination with Forms"
   href="show_bug.cgi?id=356596">Bug 356596</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-28 11:51:38 EST
        </span>

      </div>




<pre class="bz_comment_text">We should test our fix against the test case in <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED INVALID - [Forms] GridLayout Bug in combination with Forms"
   href="show_bug.cgi?id=356596">bug 356596</a>.</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Elena Laskavaia</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=elaskavaia.cdt&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=elaskavaia.cdt&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-29 16:28:42 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c21">comment #21</a>)
<span class="quote">&gt; We should test our fix against the test case in <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED INVALID - [Forms] GridLayout Bug in combination with Forms"
   href="show_bug.cgi?id=356596">bug 356596</a>.</span >

I looked at it and made it invalid since it uses shared grid data object in tests.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-01-29 22:29:04 EST
        </span>

      </div>




<pre class="bz_comment_text">Thanks. Okay, well I think I have a bunch of open items still on the code review. Let me know when you've sorted them out and I'll do another round.</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-03-26 13:14:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">New Gerrit change created: <a href="https://git.eclipse.org/r/69355">https://git.eclipse.org/r/69355</a></pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-03-26 14:15:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Elena, I've broken my changes and yours into separate changes and I've pushed fixes for all the test failures in HintAdjustmentTest.

There's still some failures in your original test suite which I'll look into next and we need a few more interactive tests.</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-03-26 16:31:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">I've fixed all the remaining failures in the unit tests. Gerrit seems to be down right now. I'll push the changes when it's back up.

Unfortunately, there seem to be some regressions in some of the PDE editors. Namely: they're compressing their contents rather than scrolling when they are compressed to their preferred size.

I'll investigate that next.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-07-19 01:39:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">I've finished building the layout inspector in <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Implement an SWT layout spy"
   href="show_bug.cgi?id=498030">bug 498030</a>, and I've investigated the problem with the forms editors further.

The problem is that the editor content is becoming too narrow and no horizontal scrollbars are appearing.

The cause seems to be how ScrolledForm computes the size of its immediate child.

With the patch:

org.eclipse.ui.forms.widgets.ScrolledForm
getBounds() = Rectangle {0, 0, 382, 602}
computeSize(SWT.DEFAULT, SWT.DEFAULT, false) = (1125, 1068)

org.eclipse.ui.forms.widgets.Form
getBounds() = Rectangle {0, 0, 365, 1051}
computeSize(SWT.DEFAULT, SWT.DEFAULT, false) = (1108, 565)

Without the patch:

org.eclipse.ui.forms.widgets.ScrolledForm
getBounds() = Rectangle {0, 0, 382, 602}
computeSize(SWT.DEFAULT, SWT.DEFAULT, false) = (1125, 693)

org.eclipse.ui.forms.widgets.Form
getBounds() = Rectangle {0, 0, 666, 676}
computeSize(SWT.DEFAULT, SWT.DEFAULT, false) = (1108, 565)</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Lars Vogel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Lars.Vogel&#64;vogella.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Lars.Vogel&#64;vogella.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-01-11 13:46:24 EST
        </span>

      </div>




<pre class="bz_comment_text">Stefan/Elena, any progress here? The patches are not relatively long in the queue.</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-01-11 14:42:44 EST
        </span>

      </div>




<pre class="bz_comment_text">The regression is still present in the forms-based editors, and I've been swamped with JDT index work for a very long time.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Lars Vogel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Lars.Vogel&#64;vogella.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Lars.Vogel&#64;vogella.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-01-11 14:46:32 EST
        </span>

      </div>




<pre class="bz_comment_text">Ralf, are you available to help here?</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralf Petter</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ralf.petter&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ralf.petter&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-01-12 03:10:40 EST
        </span>

      </div>




<pre class="bz_comment_text">looks complicated, but i put it on my list.</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Lars Vogel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Lars.Vogel&#64;vogella.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Lars.Vogel&#64;vogella.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-01-23 11:44:01 EST
        </span>

      </div>




<pre class="bz_comment_text">Mass move. Please move to a concrete milestone if you plan to work on this item.</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-04-05 00:46:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm revisiting this tonight. Let's get this thing in finally...</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-04-05 02:42:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">I found the cause of the regressions. Most of the implementations of ILayoutExtension.computeMinimumWidth are just delegating to computeSize with a hardcoded small width hint (0 or 5 usually). This was &quot;working&quot; previously because a lot of the layouts would ignore their width hint if it was too small and just return their minimum width instead.

Now that we are respecting the width hints in all cases (for compatibility with every other SWT control), this no longer works and the implementations of ILayoutExtension will need correct implementations of computeMinimumWidth.

Before doing this, I'll need to write some regression tests for all 8 implementations of ILayoutExtension.computeMinimumWidth (there are no unit tests at the moment). That will give us some confidence that the new implementation is equivalent to the old one.</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-04 16:04:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">Gerrit change <a href="https://git.eclipse.org/r/69355">https://git.eclipse.org/r/69355</a> was merged to [master].
Commit: <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=1e645458b2ef61bd7d83b1f5c7fb28dcde7ace58">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=1e645458b2ef61bd7d83b1f5c7fb28dcde7ace58</a></pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Elena Laskavaia</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=elaskavaia.cdt&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=elaskavaia.cdt&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-04 19:50:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">I run all tests again watched them and checked PDE forms manually and seems fine (except toggle is not centered vertically, but I am not sure it support to be)
Not sure it counts verified, but I set it to verified.</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vikas Chandra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Vikas.Chandra&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Vikas.Chandra&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 04:47:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=268178" name="attach_268178" title="Image showing the problem">attachment 268178</a> <a href="attachment.cgi?id=268178&amp;action=edit" title="Image showing the problem">[details]</a></span>
Image showing the problem

In preference go to Plug-in Development -&gt; API errors/warning and then select &quot;API Use&quot; tab or &quot;API Compatibility&quot; tab to see the problem</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Vikas Chandra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Vikas.Chandra&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Vikas.Chandra&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 04:48:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">The UI now looks ugly. See image I attached.</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 04:50:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Vikas Chandra from <a href="show_bug.cgi?id=196692#c38">comment #38</a>)
<span class="quote">&gt; The UI now looks ugly. See image I attached.</span >

+1. This either needs to be fixed or the two changes have to be reverted.

Also note that the last change introduces a compile warning in our official build:
<a href="http://download.eclipse.org/eclipse/downloads/drops4/I20170504-2000/compilelogs/plugins/org.eclipse.ui.tests.forms_3.7.100.v20170504-2002/&#64;dot.html">http://download.eclipse.org/eclipse/downloads/drops4/I20170504-2000/compilelogs/plugins/org.eclipse.ui.tests.forms_3.7.100.v20170504-2002/&#64;dot.html</a></pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 05:32:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">New Gerrit change created: <a href="https://git.eclipse.org/r/96456">https://git.eclipse.org/r/96456</a></pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 06:30:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">Gerrit change <a href="https://git.eclipse.org/r/96456">https://git.eclipse.org/r/96456</a> was merged to [master].
Commit: <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=aad2395cd78f3e285e3fc02a7c01712301a61222">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=aad2395cd78f3e285e3fc02a7c01712301a61222</a></pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 11:17:20 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; +1. This either needs to be fixed or the two changes have to be reverted.</span >

I'm investigating now and will either fix or revert within 12 hours of this comment.</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 11:22:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c42">comment #42</a>)
<span class="quote">&gt; &gt; +1. This either needs to be fixed or the two changes have to be reverted.
&gt; 
&gt; I'm investigating now and will either fix or revert within 12 hours of this
&gt; comment.</span >

Thanks Stefan. FWIW, I haven't seen any other issue so far.</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 11:41:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">Using the layout spy I've confirmed that, post-patch, the twistie (the first child of ExpandableComposite) appears to be top-aligned whereas it was center-aligned pre-patch.

This results in it being 3 pixels too high. I don't expect it to be hard to fix. I'll attach a regression test along with the fix.</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 14:12:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">I have a fix ready to push but git appears to be down at the moment.</pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 17:23:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">New Gerrit change created: <a href="https://git.eclipse.org/r/96510">https://git.eclipse.org/r/96510</a></pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 17:29:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">Elena, my new patch removes a check you added which would top-align the dropdown if there was text to the right of it. This fixes the preference page, but I don't really understand why the condition was there to begin with. Can you explain?</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-05 17:35:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">Gerrit change <a href="https://git.eclipse.org/r/96510">https://git.eclipse.org/r/96510</a> was merged to [master].
Commit: <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778</a></pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-07 12:39:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Eclipse Genie from <a href="show_bug.cgi?id=196692#c48">comment #48</a>)
<span class="quote">&gt; Gerrit change <a href="https://git.eclipse.org/r/96510">https://git.eclipse.org/r/96510</a> was merged to [master].
&gt; Commit:
&gt; <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778</a>
&gt; </span >

It's still not centered and too high. I will revert all this on Monday evening if it is not matching M6.</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 04:47:07 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Dani Megert from <a href="show_bug.cgi?id=196692#c49">comment #49</a>)
<span class="quote">&gt; (In reply to Eclipse Genie from <a href="show_bug.cgi?id=196692#c48">comment #48</a>)
&gt; &gt; Gerrit change <a href="https://git.eclipse.org/r/96510">https://git.eclipse.org/r/96510</a> was merged to [master].
&gt; &gt; Commit:
&gt; &gt; <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=10d206d1b845d370971b710b96a81750f263f778</a>
&gt; &gt; 
&gt; 
&gt; It's still not centered and too high. I will revert all this on Monday
&gt; evening if it is not matching M6.</span >

Also not that we now have 4 test failing on Mac and 1 on Windows.

I suggest to revert this for 4.7.</pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Elena Laskavaia</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=elaskavaia.cdt&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=elaskavaia.cdt&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 10:05:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">It was 2 years ago I don't remember anything now, if I did something
on purpose I probably added a test to cover it, if there is no test
you can change it.

The PDE tests failing or platform? There where are they? Did anybody check if test were correct
on a first place?</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 11:13:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Elena Laskavaia from <a href="show_bug.cgi?id=196692#c51">comment #51</a>)
<span class="quote">&gt; It was 2 years ago I don't remember anything now, if I did something
&gt; on purpose I probably added a test to cover it, if there is no test
&gt; you can change it.
&gt; 
&gt; The PDE tests failing or platform? There where are they? Did anybody check
&gt; if test were correct
&gt; on a first place?</span >

We have explicit tests for UI Forms, see e.g.
<a href="http://download.eclipse.org/eclipse/downloads/drops4/I20170507-2000/testresults/html/org.eclipse.ui.tests.forms_ep47I-unit-mac64_macosx.cocoa.x86_64_8.0.html">http://download.eclipse.org/eclipse/downloads/drops4/I20170507-2000/testresults/html/org.eclipse.ui.tests.forms_ep47I-unit-mac64_macosx.cocoa.x86_64_8.0.html</a></pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 12:54:56 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; It's still not centered and too high. I will revert all this on
&gt; Monday evening if it is not matching M6.</span >

M6 was aligning it one pixel below the center. It's perfectly centered now, which is why it's higher than M6 (you can look at it in the layout spy to confirm that it really is centered now and wasn't in M6).

If you want it to match the M6 position, I'll reimplement the same fudge factor that M6 used. Patch to follow shortly.


<span class="quote">&gt; Also not that we now have 4 test failing on Mac and 1 on Windows.
&gt; I suggest to revert this for 4.7.</span >

Please don't. I don't believe any of these test failures are likely to degrade the user experience in any way, and the patch does offer a lot of value.</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 12:55:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'll add back the M6 fudge factor shortly and will investigate the test failures immediately afterward.</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 13:24:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c53">comment #53</a>)
<span class="quote">&gt; &gt; It's still not centered and too high. I will revert all this on
&gt; &gt; Monday evening if it is not matching M6.
&gt; 
&gt; M6 was aligning it one pixel below the center.</span >

I disagree - at least for Windows 7. See upcoming screenshots.</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 13:27:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Dani Megert from <a href="show_bug.cgi?id=196692#c55">comment #55</a>)
<span class="quote">&gt; (In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c53">comment #53</a>)
&gt; &gt; &gt; It's still not centered and too high. I will revert all this on
&gt; &gt; &gt; Monday evening if it is not matching M6.
&gt; &gt; 
&gt; &gt; M6 was aligning it one pixel below the center.
&gt; 
&gt; I disagree - at least for Windows 7. See upcoming screenshots.</span >

Especially when it's collapsed.</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 13:28:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=268216" name="attach_268216" title="How it should look">attachment 268216</a> <a href="attachment.cgi?id=268216&amp;action=edit" title="How it should look">[details]</a></span>
How it should look</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 13:29:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=268217" name="attach_268217" title="Currently: too high">attachment 268217</a> <a href="attachment.cgi?id=268217&amp;action=edit" title="Currently: too high">[details]</a></span>
Currently: too high</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 13:34:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">All the test failures are in newly-added tests. 

The testButton and testWrapHyperlink tests are really tests of the underlying SWT controls. These failures tell us that there's a minor bug in the Hyperlink and Button class in the osx implementation of SWT (specifically, SWT is not adding and subtracting the trim from the hints correctly like it does on the other platforms). Reverting the patch would remove the test case but wouldn't fix the bug. Suggest just disabling the test to make the failure go away and then re-enabling it in 4.8 when there's time to fix the bug.

The testVerticallyCentered bug looks real. I'll include a fix for it when I make the vertical offset fix (patch forthcoming).

Still need to investigate testLabelLongAndTextClientCompFixed.</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 16:52:17 EDT
        </span>

      </div>




<pre class="bz_comment_text">New Gerrit change created: <a href="https://git.eclipse.org/r/96609">https://git.eclipse.org/r/96609</a></pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 19:22:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">Gerrit change <a href="https://git.eclipse.org/r/96609">https://git.eclipse.org/r/96609</a> was merged to [master].
Commit: <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=60aa693b09fc8a755cb794816233cc4a87bc936c">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=60aa693b09fc8a755cb794816233cc4a87bc936c</a></pre>
    </div>

    <div id="c62" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-08 19:27:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">I've pushed a change that lowers the twistie to match the screenshot you posted (note: this may look centered since lowercase letters tend to be located near the bottom of the glyph, but it's actually 1 pixel below center).

I've also suppressed the tests which are failing due to the SWT issues on osx.

The last test failure - the one in testLabelLongAndTextClientCompFixed - appears to be due to a difference in the glyph size on the different platforms. I've replaced the label with a control returned by ControlFactory which uses hardcoded pixel sizes. This should eliminate the platform-specific behavior and ensure the test behaves the same on all platforms -- and it's also more appropriate, since the purpose of that test is to test ExpandableComposite -- not Label.

In the latter case, we'll only know for sure if it addresses the test failure after the next nightly build... but I expect things to be sorted out now.</pre>
    </div>

    <div id="c63" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 05:19:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=268234" name="attach_268234" title="Still too high">attachment 268234</a> <a href="attachment.cgi?id=268234&amp;action=edit" title="Still too high">[details]</a></span>
Still too high

(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c62">comment #62</a>)
<span class="quote">&gt; I've pushed a change that lowers the twistie to match the screenshot you
&gt; posted (note: this may look centered since lowercase letters tend to be
&gt; located near the bottom of the glyph, but it's actually 1 pixel below
&gt; center).</span >

In <a href="http://download.eclipse.org/eclipse/downloads/drops4/I20170508-2000/download.php?dropFile=eclipse-SDK-I20170508-2000-win32-x86_64.zip">http://download.eclipse.org/eclipse/downloads/drops4/I20170508-2000/download.php?dropFile=eclipse-SDK-I20170508-2000-win32-x86_64.zip</a> it's still too high by 2 pixels (see screenshot).

Please adjust to match 4.6.

The tests are OK so far (p47I-unit-cen64-gtk3 linux.gtk.x86_64 8.0 pending).</pre>
    </div>

    <div id="c64" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 10:54:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=268252" name="attach_268252" title="Chevron alignment">attachment 268252</a> <a href="attachment.cgi?id=268252&amp;action=edit" title="Chevron alignment">[details]</a></span>
Chevron alignment

Two screenshots, showing I20170308-2000 on the left and today's code in master on the right.

As you can see, I can draw two horizontal lines through the two images and they line up perfectly. The upper red line lines up with the horizontal separator on the top of the dialog box to confirm that both images align perfectly, and the lower red line passes directly through both the twistie and the center bar in the &quot;e&quot; on the word &quot;General&quot;.

I captured these screenshots on Windows 10.

Dani, I'm not sure what your previous attachment was meant to show. Could you please explain it and also explain how you concluded that something is still misaligned?</pre>
    </div>

    <div id="c65" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 11:01:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c64">comment #64</a>)
<span class="quote">&gt; Dani, I'm not sure what your previous attachment was meant to show. Could
&gt; you please explain it and also explain how you concluded that something is
&gt; still misaligned?</span >

Left is I201705082000 and right is 4.7 M6. I added some explorer windows to provide the horizontal references. As you can see, the twisties on the left are higher placed. I can't speak about Windows 10 but for Window 7 it's not OK (yet).</pre>
    </div>

    <div id="c66" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 11:58:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">I just tried I20170508-2000 and it doesn't look like your screenshot on either Windows 10 or GTK.

However, I20170508-0800 looks like your screenshot. Are you sure you weren't accidentally using I20170508-0800 when you captured that screenshot?</pre>
    </div>

    <div id="c67" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 12:01:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Xenos from <a href="show_bug.cgi?id=196692#c66">comment #66</a>)
<span class="quote">&gt; I just tried I20170508-2000 and it doesn't look like your screenshot on
&gt; either Windows 10 or GTK.
&gt; 
&gt; However, I20170508-0800 looks like your screenshot. Are you sure you weren't
&gt; accidentally using I20170508-0800 when you captured that screenshot?</span >

100 %. I don't have the 0800 build installed.</pre>
    </div>

    <div id="c68" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 12:35:49 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; 100 %. I don't have the 0800 build installed.</span >

Hmm. In that case, I'd guess that the difference between our setups is probably the size of the font. It may be that for one of us our default font is an even number of pixels high and for the other it's an odd number of pixels high. If there's a round-off error somewhere, that would explain why I'm not seeing it when using the same build and platform as you.

Looking at the code, the previous version would have had more opportunities for round-off errors (since it did division quite early) which would shift the twisty up or down a pixel based on the font size. This would have caused the vertical alignment to be a bit inconsistent between the twisty and the text label, based on the font size.

I've changed the math so that - in the presence of rounding errors - it will push the twisty down and the label up. If my hypothesis is right about the rounding errors, this should make the alignment look the way you want it on your system without breaking it on any systems where it was already correct.</pre>
    </div>

    <div id="c69" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 12:41:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">New Gerrit change created: <a href="https://git.eclipse.org/r/96678">https://git.eclipse.org/r/96678</a></pre>
    </div>

    <div id="c70" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 12:44:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">Dani, if you have a moment could you let me know if the attached patch fixes your alignment issues? On my system it makes no visual difference, but it should cause the twisty to move down by 1 more pixel if you had previously been experiencing rounding errors.</pre>
    </div>

    <div id="c71" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 12:49:51 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; it's still too high by 2 pixels (see screenshot)</span >

Note that in your screenshot the twisty is misaligned by 1 pixel, not 2. The second pixel is due to the fact that the left and right images are shifted by 1 pixel, which you can see by the spacing above the horizontal separator at the top of the image.</pre>
    </div>

    <div id="c72" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-09 14:32:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">Gerrit change <a href="https://git.eclipse.org/r/96678">https://git.eclipse.org/r/96678</a> was merged to [master].
Commit: <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=bf8238acb94c23742196f20574d19bf29f6018bb">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=bf8238acb94c23742196f20574d19bf29f6018bb</a></pre>
    </div>

    <div id="c73" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-05-10 05:03:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Eclipse Genie from <a href="show_bug.cgi?id=196692#c72">comment #72</a>)
<span class="quote">&gt; Gerrit change <a href="https://git.eclipse.org/r/96678">https://git.eclipse.org/r/96678</a> was merged to [master].
&gt; Commit:
&gt; <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=bf8238acb94c23742196f20574d19bf29f6018bb">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=bf8238acb94c23742196f20574d19bf29f6018bb</a>
&gt; </span >

I verified that this works in eclipse-SDK-I20170509-2000-win32-x86_64 using Tahoma 9.

Thanks Stefan.</pre>
    </div>

    <div id="c74" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Severin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;wireframesketcher.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;wireframesketcher.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-06-12 12:37:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">I've been testing my plugin (WireframeSketcher) with RC version of Eclipse and I've encountered a problem that I've tracked down to the change in this bug. I've been using a feature of Form that allows to ignore the body in layout calculation. This feature is enabled as follows:

scrolledForm.getForm().setData(FormUtil.IGNORE_BODY, Boolean.TRUE);

Unfortunately the changes in this bug break this feature and now the size of the body is always taken in account, regardless of the IGNORE_BODY flag. I've narrowed down this change to Form$FormLayout$computeMinimumWidth. This method now looks like this:

public int computeMinimumWidth(Composite composite, boolean flushCache) {
	initCaches(flushCache);
	return Math.max(headCache.computeMinimumWidth(), bodyCache.computeMinimumWidth());
}

This has changed from before:

public int computeMinimumWidth(Composite composite, boolean flushCache) {
	return computeSize(composite, 5, SWT.DEFAULT, flushCache).x;
}

Note that the minimum width calculation now always takes the body into account.

Can this be corrected?</pre>
    </div>

    <div id="c75" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Severin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;wireframesketcher.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;wireframesketcher.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-06-12 13:05:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">The fix can be as simple as this:

public int computeMinimumWidth(Composite composite, boolean flushCache) {
	initCaches(flushCache);
	boolean ignoreBody = form.getData(FormUtil.IGNORE_BODY) != null;
	return Math.max(headCache.computeMinimumWidth(), ignoreBody ? 0 : bodyCache.computeMinimumWidth());
}</pre>
    </div>

    <div id="c76" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-06-12 13:23:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Peter Severin from <a href="show_bug.cgi?id=196692#c74">comment #74</a>)
<span class="quote">&gt; Can this be corrected?</span >

Not for 4.7. Please file a new bug report with steps to reproduce.</pre>
    </div>

    <div id="c77" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Severin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;wireframesketcher.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;wireframesketcher.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2017-06-12 13:51:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">I've created <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - FormLayout in Form doesn't ignore body size when instructed to do so"
   href="show_bug.cgi?id=518142">Bug 518142</a>.</pre>
    </div>

    <div id="c78" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralf Grossklaus</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ralf.grossklaus&#64;vector.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ralf.grossklaus&#64;vector.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-03-15 13:07:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=273142" name="attach_273142" title="Sample">attachment 273142</a> <a href="attachment.cgi?id=273142&amp;action=edit" title="Sample">[details]</a></span>
Sample

Hi there,

i was just wondering why the class LayoutComposite and thus the special computeSize() for TableWrapLayouts in EclispeForms was removed with the fix of this issue.

This broke a dialog in my application, as a StyledText does not wrap it's text since migrating to Oxygen.

I added some sample code which demonstrates the Problem i have. In Neon, this code works fine (as the StyledText wraps) in Oxygen it fails to do so. Any ideas how i could fix this?

Regards Ralf

PS: The classes of following Plugins are required in the class path to run this example:
- org.eclipse.swt
- org.eclipse.ui.forms
- org.eclipse.jface
- org.eclipse.core.runtime
- com.ibm.icu</pre>
    </div>

    <div id="c79" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-03-16 05:29:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Ralf Grossklaus from <a href="show_bug.cgi?id=196692#c78">comment #78</a>)

Please try with latest Photon build:
<a href="http://download.eclipse.org/eclipse/downloads/drops4/S-4.8M6-201803080630/">http://download.eclipse.org/eclipse/downloads/drops4/S-4.8M6-201803080630/</a>

If the problem is still there, file a new bug report.</pre>
    </div>

    <div id="c80" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=196692#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralf Grossklaus</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ralf.grossklaus&#64;vector.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ralf.grossklaus&#64;vector.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2018-03-16 07:18:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks for the quick answer. I filed <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Eclipse Forms no longer wrapping"
   href="show_bug.cgi?id=532530">https://bugs.eclipse.org/bugs/show_bug.cgi?id=532530</a> as the problem still exists on Photon.

Regards, Ralf</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=196692">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=196692">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=196692">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=196692&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=196692" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>