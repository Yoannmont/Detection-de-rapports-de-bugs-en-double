<!DOCTYPE html>
<html lang="en">
  <head>
    <title>121127 &ndash; [DataBinding] JFace Binding of Value Holder Relationships should be more dynamic</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "121127 – [DataBinding] JFace Binding of Value Holder Relationships should be more dynamic",
                             "show_bug.cgi?id=121127" );
        document.title = "121127 – [DataBinding] JFace Binding of Value Holder Relationships should be more dynamic";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "121127 – [DataBinding] JFace Binding of Value Holder Relationships should be more dynamic", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Platform
                 bz_component_UI
                 bz_bug_121127 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;121127</span>

        <span id="subtitle" class="subheader">[DataBinding] JFace Binding of Value Holder Relationships should be more dynamic</span>

        <span id="information" class="header_addl_info">Last modified: 2007-06-29 22:21:50 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=121127&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=121127" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2007-06-29 22:21:50">
  <input type="hidden" name="id" value="121127">
  <input type="hidden" name="token" value="1629875667-H7Z59A3huiXsQ3UUJFPuW-gdaMrrgtrf4SWSjqs17ts">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=121127"><b>Bug&nbsp;121127</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[DataBinding] JFace Binding of Value Holder Relationships should be more dynamic</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[DataBinding] JFace Binding of Value Holder Relationships should be more dynamic
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[DataBinding] JFace Binding of Value Holder Relationships should be more dynamic' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          WONTFIX
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >UI

  (<a href="buglist.cgi?component=UI&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.2 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=121127#vote_121127">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'Platform-UI-Inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >helpwanted

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (1)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [DataBinding] Bind-time Type Checking is Inflexible"
   href="show_bug.cgi?id=116349">116349</a> 
      </span>
      (<a href="buglist.cgi?bug_id=116349">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2005-12-15 16:34 EST by <span class="vcard"><span class="fn">Scott Delap</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=scott&#64;clientjava.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=scott&#64;clientjava.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2007-06-29 22:21 EDT
      (<a href="show_activity.cgi?id=121127">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>4 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="bradleyjames">bradleyjames</option>
                <option value="djo">djo</option>
                <option value="gmendel">gmendel</option>
                <option value="peter">peter</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="3">
        <a href="attachment.cgi?bugid=121127&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=121127&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Scott Delap</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=scott&#64;clientjava.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=scott&#64;clientjava.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-15 16:34:23 EST
        </span>

      </div>




<pre class="bz_comment_text">Binding controls and other properties to specific object instances is the average case.  In my experience however you often run into the case of binding object instances that aren't available until runtime and change during runtime.  As a result you have numerous master/detail type relationships between views/guis that are &quot;glued&quot; together by value holders.  In the case of JFace Binding this seems to be done by having an IUpdatableValue be a selection holder for instance.  This part is fine.  I'm currently finding the verbose type specific code needed to bind to specific values of the object which the IUpdatableValue contains a reference to frustracting however.    Case in point I have an object that has been selected which has a &quot;name&quot; property.  Currently I have to specify a property descriptor as follows:

new Property(iupdateableValueObject, &quot;name&quot;, String.class, false)

I would instead like to be able to simply use:

new Property(iupdateableValueObject), &quot;name&quot;)

Since I've specified an IUpdatableValue object and a property, it should be assumed that I want to bind to a property of the object it holds a reference to not the IUpdatableValue itself.  Since type checking can't be done until runtime anyway, I'd argue against doing it during binding unless specifically specified.  You could keep the more specific case and just provide a looser case.  I would also argue that if the initial value of the IUpdatableValue is null you can't check the name type of the object to be a String anyway.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-15 17:43:21 EST
        </span>

      </div>




<pre class="bz_comment_text">Scott, or whoever triages this bug, please add [DataBinding] to the beginning of the summary.</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-16 11:53:29 EST
        </span>

      </div>




<pre class="bz_comment_text">The problem is that the updatable created using

dbc.createUpdatable(new Property(iupdateableValueObject, &quot;name&quot;, String.class, false))

has to implement getValueType() so that default converters/validators can be looked up. Since the current value of the iupdateableValueObject can be null at the time you bind (i.e. the value type cannot be determined at that time), I don't see how we can remove the requirement of specifying the value type (and the boolean for specifying whether it is a collection).

Closing as WONTFIX. If you have an idea how this can be solved in a better way, please reopen.</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Scott Delap</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=scott&#64;clientjava.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=scott&#64;clientjava.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-16 14:34:17 EST
        </span>

      </div>




<pre class="bz_comment_text">I can see the point with your case.  The main piece of it is associating converters at bind time.  I can see doing such and along with that type checking at bind time.  I can also see an alternative implementation where type converters are lazily looked up during data synchronization.  So if no type is specified then no converter is wired in.  When synchronization occurs between target and model, both types would be dynamically examined.  If a valid converter is found in a map of cached singleton converter instances for the two types it would then be used.  This setup would keep the benefits you currently have but in essence allow a duck typing like flexibility.  Say I have an object classed an Expression which has a getValue() method which returns type Object.  Some expressions may hold Integers, others Strings etc.  I'm selecting them from a list which then changes the IUpdatableValue holder.  I've then bound the &quot;value&quot; property to the selected object in a typeless manner.  As long as some mechanism in binding knows how to converter from the getValue() object type to the target (probably String), everything will work.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-16 15:21:58 EST
        </span>

      </div>




<pre class="bz_comment_text">I think that Scott has a point here.

Suggest we resolve this as &quot;later&quot; since we can add the behavior Scott is describing later without affecting API, which is our primary concern right now.
</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-15 18:38:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">There are three independent issues here:

A. Should the framework resolve BindSpec members at bind-time or dynamically?
B. Do I want to supply my own BindSpec members?
C. Do I want the framework to create IObservables for me?


I see several cases:

1. Client code wants to fully resolve the BindSpec at bind-time, but wants the framework to lookup the appropriate validators, etc. from factories based on explicit static types.  This allows the framework to do error checking at bind-time and provide fail-fast behavior.  

a. [bind-time, no, no]  Client code passes in IObservable instances, and the framework gets the types via getValueType() or similar.  getValueType() always returns the same result, so the result can be cached/reused.

bind(IObservable,IObservable, boolean [static=true])


b. [bind-time, no, yes]  The IObservable instances are not available at bind-time, so the client code passes in target descriptions with explicit types as Class or EMF EClass instances.

bind(IObservable,       StaticDescription)
bind(StaticDescription, IObservable)
bind(StaticDescription, StaticDescription)


2. Client code wants the framework to lookup new validators, etc. from factories based on the dynamic types of specific value instances, whenever the values change.  No explicit typing is necessary, and binding behavior is dynamically polymorphic.  The result of getValueType() is not stable, so it cannot be cached.  BindSpecs must be rebuilt whenever the IObservables post a change event.

a. [dynamic, no, no]  The client passes in fully-formed IObservable instances.

bind(IObservable, IObservable)


b. [dynamic, no, yes]  For convenience, the client passes in target descriptions (without type information).

bind(IObservable,        DynamicDescription)
bind(DynamicDescription, IObservable)
bind(DynamicDescription, DynamicDescription)


3. [dynamic, yes, maybe]  Client wants the behavior to be mostly dynamic, but needs to override specific parts of the BindSpec.  Client builds a BindSpec and leaves some properties null.  Pieces that are missing are loaded dynamically based on the type of the current value instance.  The client may pass in target descriptions or fully-initialized IObservables.

bind(DynamicDescription, DynamicDescription, BindSpec)
bind(IObservable,        DynamicDescription, BindSpec)
bind(DynamicDescription, IObservable,        BindSpec)
bind(IObservable,        IObservable,        BindSpec)


4. [bind-time, yes, maybe]  Client wants the BindSpec to be fully-resolved at bind-time.  Parts of the BindSpec are custom, but the rest should have default values looked up based on explicit static types.

bind(StaticDescription, StaticDescription, BindSpec)
bind(IObservable,       StaticDescription, BindSpec)
bind(StaticDescription, IObservable,       BindSpec)
bind(IObservable,       IObservable,       BindSpec)</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-16 12:36:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">Cases 1+4 and cases 2+3 could be merged together (simplifying the API) if the description objects can act in both static and dynamic modes.  I was going to suggest using a marker interface for Descriptions, but perhaps we could require a single method, instead.

/**
 * Common supertype for all descriptions of IObservable targets.
 * &#64;see org.eclipse.jface.databindings.beans.Property
 */
public interface Description {
    /**
     * Accesses the static type of the target of this description.
     * This type will be used to configure a BindSpec at bind-time.
     * &#64;return a &lt;Class|EClass&gt; describing the static type of the target,
     *         or null iff BindSpec members should be resolved dynamically
     */
    public Object getTargetType();
}

Similarly, IObservable should be self-describing, with the following methods.  Furthermore, IObservable can extend Description, like so:

public interface IObservable extends Description {

    // current IObservable members...

    /**
     * &#64;return true iff getTargetType() returns a constant value, regardless
     *         of the current target instance
     */ 
    public boolean isStaticType();

    /**
     * &#64;return a &lt;Class|EClass&gt; describing the type of the target observed here,
     *         for purposes of resolving BindSpec members -- not necessarily
     *         equal to target.getClass() for any particular target instance,
     *         but getTargetType().isAssignableFrom(target.getClass())
     */
    public Object getTargetType();
}

The API for all possible behaviors resolves to these two signatures:

/**
 * Create a new Binding, building BindSpec members via the currently-installed 
 * BindSupportFactory's.  If A or B are not instanceof IObservable, they will
 * be used to create new IObservables via the currently-installed
 * BindingFactory's.
 * &#64;param A a Description (possibly an IObservable) for one side of the binding
 * &#64;param B a Description (possibly an IObservable) for the other side
 */
public Binding bind(Description A, Description B);

/**
 * ...
 * &#64;param spec a BindSpec containing pre-configured Binding support objects
 *             -- null members will be replaced via BindSupportFactory's
 */
public Binding bind(Description A, Description B, BindSpec spec);

</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-16 12:53:44 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; The API for all possible behaviors resolves to these two signatures:</span >
...
<span class="quote">&gt; public Binding bind(Description A, Description B);</span >
...
<span class="quote">&gt; public Binding bind(Description A, Description B, BindSpec spec);</span >
...

I have thought about this, too - except that we would like to be able to pass SWT objects as descriptions (e.g. bind(text, observableStringValue)), and SWT widgets don't implement Description. We could handle that by falling back to just

public Binding bind(Object target, Object model);
public Binding bind(Object target, Object model, BindSpec bindSpec);

but this would require a very long explanation in the Javadoc as to what these methods actually do.</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-16 12:55:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">I should add that we are also getting feedback from users who only use the IObservable part of the framework that they would like to see IObservables without run-time type information like getValueType(), getElementType(), etc.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-16 14:31:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">I can see the benefit of specifying SWT objects directly, if you want to bind to default properties.  (The default properties should be well-documented, of course.)  However, you would need to provide additional overloads to specify static or dynamic BindSpec behavior.

If the type accessors are removed from IObservable and/or the description objects, BindSpec factory behavior is ambiguous.  TableModelDescription is typical.  With no type accessors, what is the expected behavior?

1. Create BindSpecs at bind-time based on the dynamic types of the column properties.

What if the model is empty at bind-time?
What if the table is SWT.VIRTUAL?
What if the column has a polymorphic type?  Which row's types should be used?

2. Create BindSpecs on the fly based on the dynamic types of each row and column.

What if the column doesn't have a polymorphic type, and the BindSpec could have  been safely cached?
What if the UI designer wants all rows to conform to the behavior of a common supertype?

If you leave the type accessors intact, you can still provide clever default behavior or overloads for convenience.  If you remove the accessors, customization is difficult or impossible.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-16 15:50:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=121127#c8">comment #8</a>)

I just filed <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [DataBinding] separate run-time type information from IObservable"
   href="show_bug.cgi?id=147515">bug 147515</a> for the request to separate run-time type information from the IObservable hierarchy.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-16 22:45:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">In the case where type information is not specified, getValueType can return the most specific type information it has.  If the value holder has not been assigned yet (ie: there is no selection), the type is Object.class.  As soon as it is assigned, the type becomes value.getClass().

If we went this way we would essentially be implementing Smalltalk type system semantics when the client hasn't specified type information.  It's less efficient and can't catch very many errors at bind time compared with static typing but it does work.  :-)

But this is maybe an argument for centralized event propogation engine.  Such an engine would know about the chains of bindings and might be able to apply type inference rules similar to Haskall and more modern languages to gain the convenience of dynamic languages but the safety of statically-typed languages.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-19 15:21:07 EDT
        </span>

      </div>




<pre class="bz_comment_text">The current framework implements a Binding creation pipeline:

                    value(x2)
                       |
                   target(x2)
                 /            
    description(x2)     ----&gt; type(x2)
        |             /          | 
IObservableFactory*  /        BindSupportFactory*
        |           /            |
    IObservable(x2)           BindSpec
                \             /
                IBindingFactory*
                       |
                    Binding

I use &quot;target&quot; to mean the actual slot that is being observed.  For example, the target might be the &quot;text&quot; property of a particular SWT Text widget.  The description indirectly contains the target.  For example, the description might be the SWT Text widget itself, or an object that contains the Text widget and additional information.  The type might ultimately come from the value, the target, or the description.  The framework always accesses it through the IObservable.

The problem for dynamic clients is that this pipeline assumes that the types are fixed at bind-time.  Therefore, it also expects the BindSpec to be fully-resolved and immutable for the life of the Binding.  This assumption ignores the polymorphic nature of Java objects (i.e. types can vary from value to value in the same target), but it enables caching of the BindSpec for better performance.  Some clients prefer polymorphism over speed and vice versa.

So... supporting dynamic behavior is a significant change from the current design.  You cannot satisfy this by simply moving the type information around, because it changes the definition of what BindSpec represents, the behavior of Binding, and the pipeline that creates both.  Dave is correct that this introduces radically different semantics.

The dynamic pipeline should look like this:

                    value(x2)
                       |      \
                   target(x2)  \
                 /              \
    description(x2)           type(x2)
        |                        | 
IObservableFactory*           BindSupportFactory*
        |                        |
    IObservable(x2)           BindSpec
                \             /
                IBindingFactory*
                       |
                    Binding

The problem for static clients is that the target description and the target type information often come from the same place.  It is awkward to specify these things separately.  Also, the type information can sometimes be inferred from the target automatically.  For example, a JavaBeans property has an explicit type == the return type of the get method.  Note that this inference can often be performed even if the target does not contain a value instance.  (You can reflect for the static return type of a method even if the return value is null.)

So... the current static mode of operation can provide a simplier API for some circumstances.  This can be implemented with overloads for the description constructors without a major change to the framework.

Both static and dynamic clients will sometimes want to bypass the normal pipeline at various points, providing explicit values rather than letting the factories generate them.  No matter where the client code patches in, the framework should be able to distinguish between static and dynamic behavior.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-19 23:16:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=121127#c12">comment #12</a>)
<span class="quote">&gt; Both static and dynamic clients will sometimes want to bypass the normal
&gt; pipeline at various points, providing explicit values rather than letting the
&gt; factories generate them.  No matter where the client code patches in, the
&gt; framework should be able to distinguish between static and dynamic behavior.</span >

These echo my thoughts.  My previous data binding frameworks were purely dynamic.  I've come to apprciate the static way.  However, the current framework does not maintain enough metadata in order to efficiently infer types through multiple levels of bindings.

Consider the classic:

Customers --&gt;&gt; Orders --&gt; Line items

Assuming a table supporting in-place editing, this can be modelled with 3 tables: one for customers, another for orders, and the last for line items.

Yet, the current framework has no way to infer the type of the Orders object from the binding of the Customers table.  Similarly, we can't currently infer the data type of the LineItem object from the binding information of the Orders table.  We just have no (current) way to walk the binding chain up to the parent binding.

If we're going to have bindings or observables register themselves using setData() on SWT controls, maybe we can recycle this information to be able to do better type inference up binding chains?

Being able to perform type inference in this way would provide nearly all the API convenience of the dynamically typed approach, yet with the bind-time safety afforded by a statically-typed binding mechanism.
</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 09:06:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">I think we're talking about different problems.  What you describe is dynamic in the sense that the types used for creating BindSpecs are looked up at runtime (specifically, bind-time), but it is still static in the sense that the RTTI of target values do not affect the behavior of the system.  Extending your example, imagine a type hierarchy like this:

         Line Item
        /         \
Product Item     Freight Item

The SWT Table that contains Line Items actually holds objects with polymorphic types.  Product Items and Freight Items might have different validators or converters.  The current framework would have to bind to the common supertype, which may not expose all of the desired properties.  A bind-time BindSpec would have to act on the whole hierarchy using instanceof tests, casts, and the big-ugly-switch approach.  The Java dispatch mechanism would be preferable.

I understand from comments elsewhere that this polymorphic form of dynamic behavior was consciously excluded from the design.  What was the rationale?  Perhaps I'm simply overlooking a compensating advantage.  This decision will definitely cause problems for some types of applications, though.  (Personally, I think I can make do with the BUS solution for now.)

To address Dave's concerns... the current framework is (almost) sufficient to resolve the types properly at bind-time.  Description objects usually identify a slot of some kind, which has its own static type (e.g. the return type of a JavaBean accessor, the data type for SWT selections, etc.)  The descriptions should be smart enough to look up the type of the slot, regardless of whether it contains data.  No type inference would be necessary -- just reflection.  Custom IObservables would have to provide type information explicitly or bypass the normal Binding pipeline.

In fact, you absolutely do not want to infer the type from the current value.  For example, you wouldn't want to infer Freight Item for a JavaBean property that might contain arbitrary Line Items.  Any such inference mechanism would plant virtual land mines that future data model changes might trip inadvertently.  The behavior is either fully static, fully dynamic, or broken.  :-P</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 09:20:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">I just realized that the Java type system wrecks the idea of reflecting on JavaBean property types.  Even with generics, the compiler erases type variables to their upper bound.  In the case of collections, the upper bound is always Object, which is useless.  There's no way to avoid some kind of explicit type specifier if you want to have type-safe static/bind-time behavior for collections.  Your choices appear to be:

1. Create BindSpecs using explicitly specified types.
2. Create different BindSpecs using the type of each target value, dynamically.
3. Create BindSpecs using the type of the target value at bind-time, if one exists, and hope/pray that all values conform to that type.</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 09:28:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">There's another possibility:

4. Lookup the type automatically for IObservables/descriptions that are backed with useful static types, and fall back on option 1 or 3 for everything else.

The problem with 4 is that the framework can't know until bind-time which IObservables have useful static types, so there's no way to statically enforce that they are provided when necessary.</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 11:08:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">To complicate matters even further, here is another detail of the current design: getValueType() etc. returns a java.lang.Object, not a java.lang.Class. The reason for this is that we wanted to allow for clients who have their own (richer than Java) type system.  This also enables model-driven binding, i.e. the lookup of converters and validators based on annotations of some sort on the model side.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 14:18:41 EDT
        </span>

      </div>




<pre class="bz_comment_text"><a href="show_bug.cgi?id=121127#c17">Comment #17</a> shouldn't be a problem.  The IObservables and the factories have to use matching metadata.  If client code wants to supply factories that work with different metadata, it also needs to supply IObservables (or descriptions and IObservableFactories) that produce the metadata, and vice versa.  This is true regardless of when the framework creates the BindSpec.

I was mistaken in my comment above about generic type erasure.  Type parameters for declarations are still available at runtime, so you can extract reliable static types for collection members at bind-time.  Ironically, the type parameters for object instances are lost, however.  Regardless, this will still be a problem for 1.4 JVMs and for client code that does not use generics in 5+.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 23:18:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=121127#c16">comment #16</a>)
<span class="quote">&gt; There's another possibility:
&gt; 
&gt; 4. Lookup the type automatically for IObservables/descriptions that are backed
&gt; with useful static types, and fall back on option 1 or 3 for everything else.
&gt; 
&gt; The problem with 4 is that the framework can't know until bind-time which
&gt; IObservables have useful static types, so there's no way to statically enforce
&gt; that they are provided when necessary.</span >

This is the option I was proposing.

You can't always use slot data types for more reasons than the ones you listed: 

1) Nested Observables don't have a parent slot data type more specific than java.lang.Object since they are normally bound to the Selection of some SWT control, which itself does not have a data type.

2) Complicating matters further, sometimes it is useful to instantiate a WritableValue or a WritableList as a plumbing placeholder.  In an ideal world, you shouldn't have to specify the data type of the WritableValue or WritableList unless the object needs polymorphic behavior like you described; it should infer its own type when it is bound to its parent in the data flow graph (or when its parent is eventually bound to something with a static type).

The result would be kind of a lazy binding where the actual binding doesn't occur until enough type information can be inferred that everybody knows what his (or her?) data type is.
</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-20 23:50:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">Actually, looking at the previous comments, I'm pretty sure I still won't have communicated.  :-(  Let's try again.  :-)  Let's look the Customers --&gt; Orders --&gt; LineItems bindings again, with nearly everything in the data flow graph spelled out.

The following represents all bindings that are created starting from the model side and progressing through the full data flow pipeline to the target side (working from memory, but hopefully it's exact enough to make my point).

&lt;&lt;Model&gt;&gt;________________________---&gt;&gt;&gt;___________________________________________________________&lt;&lt;Target&gt;&gt;

[List&lt;Customer&gt;]-[ObservableMapping]-[ListBinding]-[ObservableList]-[CustomerTable.content]

[CustomerTable.selection]-[ObservableValue]-[ValueBinding]-[NestedObservableValue]-[ListBinding&lt;orders&gt;]-[OrdersTable.content]

[OrdersTable.selection]-[ObservableValue]-[ValueBinding]-[NestedObservableValue]-[ListBinding&lt;lineItems&gt;]-[LineItemsTable.content]


Please notice the following:

- There are three data binding chains here, but each chain is completely independent of the others.  To say the same thing another way, the binding to a table's selection at the beginning of a row does not know about the existence of, much less the data type of the table's content binding at the end of the previous row.

- These same selection attributes are untyped.

- As a result, the ObservableValue that gets bound to a widget's selection has no idea of its type unless it's told in the Description object.  (This is the current API.)

- But (and this was my observation): If these three data binding chains were *not* independent, the selection binding could continue traversing backwards to the content binding of the same table (the end of the previous row) to find out the table's data type.  It could then infer its own data type from this information.


This implies two requirements.

1) That we can lazily propogate data types through the data flow graph as it is being constructed.

2) That the programmer is only required to specify data types in cases where there are polymorphic data types.

Peter, you are right that this might lead to switch/case statements in converters or validators.  (I think one could probably use a strategy pattern in a parent converter to delegate to a correct child converter for the actual data type.)  In any case, you are right that this complicates converters and validators a bit.

But you also asked what the benefit of this architecture is.  The primary one is that it keeps you from creating bindings that cannot possibly work since the framework can do static type checking.  (Boris and I are both closet Haskell fans. :-)  The secondary benefit is that when the framework knows the data types of everything, it can supply better error messages when things go wrong.

In theory, this should make it possible to create an API that is more accessible to newbies because the framework could do more to help them when things go wrong.

The problem so far in practice has been that this has resulted in an API that is harder to use than we would prefer, especially for newbies, because we haven't gotten the type inference part right yet.  :-)

</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-21 09:16:33 EDT
        </span>

      </div>




<pre class="bz_comment_text"><a href="show_bug.cgi?id=121127#c20">Comment #20</a> is very helpful in clarifying your points -- thanks.

Propagating type information from one Binding to another would be a nice feature, indeed.  That is an orthogonal problem to what I described, though.  It's important to note that pushing types from one Binding to another does not imply any form of type inference.  In your example, the framework is responsible for pushing data from List&lt;Customer&gt; to CustomerTable.content.  Since it knows that there is a (true, compiler-checked) static guarantee that all content instanceof Customer, it also has a static guarantee that the Viewer selection will be instanceof Customer.  (If this is a Binding directly to an SWT Table, all bets are off -- the TableItems will reduce everything to String.)

I wish (again) that the JFace API could use type parameters.  With a generics-enabled API, the framework could have genuine static guarantees.  What you describe as &quot;static checking&quot; is really just best-effort, fail-fast runtime checking.  That is a critical distinction, because the Java 5 generics implementation erases instance type parameters at runtime, so it's impossible to be as safe as with true static checking.

My point from #14 is that the Java type system, even when enforced by the compiler, would not guarantee that Customer.class.equals(CustomerTable.selection.getClass()).  It only guarantees that Customer.class.isAssignableFrom(CustomerTable.selection.getClass()).  All Java types are polymorphic by nature, so all Bindings would fit into Dave's requirement 2.

Consider my example to see the harm of type inference based on instances, rather than slot declarations.  If LineItemsTable.content initially contains only Product Items, the framework would create a BindSpec based on ProductItem.  At some later point, a FreightItem is added to the list.  BANG.

Worse yet, what if some future extension adds a new ServiceChargeItem (extends LineItem) to the mix?  How would such an extension integrate with the existing converters and validators?  The BUS approach does not scale well.

What if there is one BindSupportFactory that responds to all LineItems (to handle a table containing mixed subclasses) and another that responds specifically to ProductItems (to handle a properties pane)?  Client code would need to use different factory lists or combine the two factories somehow.  Ugly.

I'm facing these problems already in my own app, so they're not just a theoretical exercise.  Maintaining multiple factory lists is a real pain, and it breaks encapsulation in a bad way.  I expect future extensions of this nature (perhaps even this precise example), which will be out of my control.  I currently have to invent my own protocol (which re-implements parts of the Java type system) to get graceful behavior.

IMHO, a typed functional language would not try to fight the type system as you are currently doing.  In Lisp, for example, you could implement the conversion and validation routines as typed methods and let the runtime call the appropriate overloads based on the RTTI.  If a conversion routine is not available for a specific type, behavior would gracefully degrade to supertype behavior.  If a more-specific conversion routine is added by an extension, it would override the supertype behavior automatically.  In a weakly typed language like SmallTalk, Objective-C, or Python, anything but the fully-dynamic approach would be ludicrous.  The current BindSpec pipeline is implementing type semantics different from anything I've encountered before.

P.S.  I'm also a big fan of functional style languages.  You should check out Scala, if you haven't already.  It runs on the JVM.  I &lt;3 type-safe mixins.  :-)</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 01:02:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=121127#c21">comment #21</a>)
<span class="quote">&gt; <a href="show_bug.cgi?id=121127#c20">Comment #20</a> is very helpful in clarifying your points -- thanks.</span >

And this has been a very useful conversation. :-)

<span class="quote">&gt; Propagating type information from one Binding to another would be a nice
&gt; feature, indeed.  That is an orthogonal problem to what I described, though. 
&gt; It's important to note that pushing types from one Binding to another does not
&gt; imply any form of type inference.  In your example, the framework is
&gt; responsible for pushing data from List&lt;Customer&gt; to CustomerTable.content. 
&gt; Since it knows that there is a (true, compiler-checked) static guarantee that
&gt; all content instanceof Customer, it also has a static guarantee that the Viewer
&gt; selection will be instanceof Customer.</span >

Yes.

<span class="quote">&gt;  (If this is a Binding directly to an
&gt; SWT Table, all bets are off -- the TableItems will reduce everything to
&gt; String.)</span >

Maybe I wasn't clear.  If the selection binding knows about the parent binding (the content binding), it can get the Customer type from the content binding since that binding knows this information.  You're right that the SWT control loses this information.

<span class="quote">&gt; I wish (again) that the JFace API could use type parameters.  With a
&gt; generics-enabled API, the framework could have genuine static guarantees.  </span >

I've wished for this too, but I believe that Platform has to be 1.4 compatible.  Is this correct Boris?

<span class="quote">&gt; What
&gt; you describe as &quot;static checking&quot; is really just best-effort, fail-fast 
&gt; runtime
&gt; checking.  That is a critical distinction, because the Java 5 generics
&gt; implementation erases instance type parameters at runtime, so it's impossible
&gt; to be as safe as with true static checking.</span >

Right.  You still have to manually specify collection element data types no matter what.  Using my recommendation, you just wouldn't have to specify them twice: once for the collection binding itself and *again* when binding to the selection.  :-)

<span class="quote">&gt; My point from #14 is that the Java type system, even when enforced by the
&gt; compiler, would not guarantee that
&gt; Customer.class.equals(CustomerTable.selection.getClass()).  It only guarantees
&gt; that Customer.class.isAssignableFrom(CustomerTable.selection.getClass()).  All
&gt; Java types are polymorphic by nature, so all Bindings would fit into Dave's
&gt; requirement 2.</span >

In theory yes.  In practice, I have not seen this happen very often.  In my experience, maybe 20% of table bindings need polymorphic behavior.

<span class="quote">&gt; Consider my example to see the harm of type inference based on instances,
&gt; rather than slot declarations.  If LineItemsTable.content initially contains
&gt; only Product Items, the framework would create a BindSpec based on 
&gt; ProductItem.
&gt;  At some later point, a FreightItem is added to the list.  BANG.</span >

I'm not sure I follow this.  You may or may not get an error.  If you are only editing fields that are common to ProductItem and FreightItem, then everything should continue to work exactly as before.  The fields don't change their type just because some subclass was added.

If you have converters that convert an entire ProductItem into something else and back, yes, this would need to be handled.  But you would need to handle this anyway, right?

Am I missing something here?

<span class="quote">&gt; Worse yet, what if some future extension adds a new ServiceChargeItem (extends
&gt; LineItem) to the mix?  How would such an extension integrate with the existing
&gt; converters and validators?  The BUS approach does not scale well.</span >

Again, this assumes that the ServiceChargeItem object itself needs to be round-trip marshalled and unmarshalled to some other neutral data type.

<span class="quote">&gt; What if there is one BindSupportFactory that responds to all LineItems (to
&gt; handle a table containing mixed subclasses) and another that responds
&gt; specifically to ProductItems (to handle a properties pane)?  Client code would
&gt; need to use different factory lists or combine the two factories somehow. 
&gt; Ugly.</span >

I'd use nested factories.

Have the standard data binding factory look up converters for the abstract class.  The converters for the abstract class then looks up specific converters for whatever concrete type it happens to receive.  It then delegates the actual type conversion to the inner converter that it looked up.

<span class="quote">&gt; I'm facing these problems already in my own app, so they're not just a
&gt; theoretical exercise.  Maintaining multiple factory lists is a real pain, and
&gt; it breaks encapsulation in a bad way.  I expect future extensions of this
&gt; nature (perhaps even this precise example), which will be out of my control.  I
&gt; currently have to invent my own protocol (which re-implements parts of the Java
&gt; type system) to get graceful behavior.
&gt; 
&gt; IMHO, a typed functional language would not try to fight the type system as you
&gt; are currently doing.  In Lisp, for example, you could implement the conversion
&gt; and validation routines as typed methods and let the runtime call the
&gt; appropriate overloads based on the RTTI.  If a conversion routine is not
&gt; available for a specific type, behavior would gracefully degrade to supertype
&gt; behavior.  If a more-specific conversion routine is added by an extension, it
&gt; would override the supertype behavior automatically.  In a weakly typed
&gt; language like SmallTalk, Objective-C, or Python, anything but the fully-dynamic
&gt; approach would be ludicrous.  The current BindSpec pipeline is implementing
&gt; type semantics different from anything I've encountered before.</span >

Now you've got me curious. :-)

It seems to me that there are two choices:

- Match types at bind time.  (Like what a Haskell RTL does.)

- Don't worry about types at all, just match method signatures when you've got actual objects in hand.  (The Smalltalk type system.)

Is there a third option we've overlooked (assuming Java 1.4)?

<span class="quote">&gt; P.S.  I'm also a big fan of functional style languages.  You should check out
&gt; Scala, if you haven't already.  It runs on the JVM.  I &lt;3 type-safe mixins. 
&gt; :-)</span >

I really like Scala from what I've read of it.  My current work needs something that is interpreted dynamically, not compiled statically to bytecode, so I've been working with pnuts, which is pretty nice too.


Thanks again for your thoughts!
</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 01:07:43 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt;- Match types at bind time.  (Like what a Haskell RTL does.)</span >

(Technically not the RTL, but the compiler or interpreter as in the case of HUGS.)</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 11:39:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=121127#c22">comment #22</a>)
<span class="quote">&gt; Maybe I wasn't clear.  If the selection binding knows about the parent binding
&gt; (the content binding), it can get the Customer type from the content binding
&gt; since that binding knows this information.  You're right that the SWT control
&gt; loses this information.</span >

My point is that an SWT Table binding acts as a filter on the data content, not just the type information.  It does no good to propagate the type information if there's no path for the actual data.  :-)  To get behavior like you describe, you'd have to ensure that the binding pipeline preserves the complete data from both endpoints at each link.  For example, UIs don't often display database keys, but this data is required to recover the endpoint object.  Since JFace Viewers maintain references in the endpoint type, this isn't a problem.  SWT widgets know only about the Strings being displayed.

<span class="quote">&gt; Right.  You still have to manually specify collection element data types no
&gt; matter what.  Using my recommendation, you just wouldn't have to specify them
&gt; twice: once for the collection binding itself and *again* when binding to the
&gt; selection.  :-)</span >

If generic types are specified, you could do better.  This is just icing on the cake, though.

<span class="quote">&gt; In theory yes.  In practice, I have not seen this happen very often.  In my
&gt; experience, maybe 20% of table bindings need polymorphic behavior.</span >

I don't think you should dismiss this requirement so easily.  You'd be ruling out a whole class of UIs that make use of dynamic behavior and/or plug-in extensibility.  Any application with a context-sensitive properties pane would suffer, including mine.  ;-)

<span class="quote">&gt; &gt;  At some later point, a FreightItem is added to the list.  BANG.
&gt; 
&gt; I'm not sure I follow this.  You may or may not get an error.  If you are only
&gt; editing fields that are common to ProductItem and FreightItem, then everything
&gt; should continue to work exactly as before.  The fields don't change their type
&gt; just because some subclass was added.</span >

Keep in mind, we're talking about two different questions related to types: 1. Does the framework infer types at bind-time at all, or use the RTTI of specific values as they change?  Bind-time types cannot be truly polymorphic, because obviously there's just one type, no matter what it is.  2. If the framework fixes the types at bind-time, does the framework use the slot's type or the current value's type?  IMHO, it is a mistake to use the current value type.  The slot type determines the real type constraint, so using a different constraint would violate type safety.

E.g. if the framework infers ProductItem, it will make calls like this:  createDomainValidator(ProductItem.class).  If the DBC contains a factory that responds to ProductItem specifically, e.g. to support a subtype-specific property editor pane, it might produce an IConverter that assumes it will only recieve ProductItems.  Although the compiler doesn't guarantee this, the framework is essentially making a runtime promise.  If that IConverter is passed a FrieghtItem, it won't know what to do with it.  One way or another, it will fail, perhaps with a ClassCastException or an IllegalArgumentException.

If the framework calls createDomainValidator(LineItem.class) -- with the true type constraint -- the ProductItem-specific BindSupportFactory would not respond.  A lower-priority factory that acts on LineItems would respond instead.  All is well.

<span class="quote">&gt; If you have converters that convert an entire ProductItem into something else
&gt; and back, yes, this would need to be handled.  But you would need to handle
&gt; this anyway, right?</span >

Isn't that the whole point of a converter?  As I said in #20, you can work around the problem by maintaining different lists of factories -- one list that has the specific subclass-only factories and another for the general case.  This is awkward in practice, because it forces the client to maintain these separate lists and keep track of which one should be used in which circumstance.  The declarative, centralized nature of the bindings framework is lost.

Actually, I'm not sure about this workaround, since you'd have two bindings against the same JFace Viewer in different DBCs (one for content and one for selection).  Obviously, this goes against the idea of a centralized binding-network manager.  I might need to bypass the whole factory mechanism.

<span class="quote">&gt; &gt; Worse yet, what if some future extension adds a new ServiceChargeItem (extends
&gt; &gt; LineItem) to the mix?  How would such an extension integrate with the existing
&gt; &gt; converters and validators?  The BUS approach does not scale well.
&gt; 
&gt; Again, this assumes that the ServiceChargeItem object itself needs to be
&gt; round-trip marshalled and unmarshalled to some other neutral data type.</span >

Not necessarily.  It just assumes that ServiceChargeItems need both subclass/specific and superclass/general behavior anywhere within the purview of the DBC.

<span class="quote">&gt; I'd use nested factories. ...</span >

This is exactly what I meant by &quot;re-implements parts of the Java
type system.&quot;  If I have to create my own factory system, I've just bypassed a big chunk of the framework.  I'd rather that the framework handled this, even if I have to write it myself and contribute it.  :-)

<span class="quote">&gt; It seems to me that there are two choices:
&gt; 
&gt; - Match types at bind time.  (Like what a Haskell RTL does.)</span >

This is reasonable, as long as the matching algorithm has similar semantics to the Java dispatch mechanism.  It should be possible to override the binding behavior for specific subclasses without removing the more general behavior for superclasses.  Preferably, client code should not need to manage the priority list explicitly, since the type system contains sufficient information.

This option interacts with the usage of arbitrary static metadata, which implies an arbitrary priority system.  I don't know how the framework could possibly &quot;match types&quot; if the metadata defines a non-standard type system.

<span class="quote">&gt; - Don't worry about types at all, just match method signatures when you've got
&gt; actual objects in hand.  (The Smalltalk type system.)</span >

The Smalltalk analogy breaks down when the behavior does not actually belong to the object being called, but to a third object (e.g. a converter).  I think you're referring more to the Smalltalk style conventions, not the type system.  Smalltalk (and Obj-C, Python, etc.) encourage you to make calls on statically-untyped objects and let the runtime do dynamic dispatch based on RTTI.  In this case, we're talking about dispatch to third-party converters, etc, but it's a very similar process.  I think this is also a very reasonable solution for bindings.  Again, I would want the dispatch mechanism to mirror the Java type system.

<span class="quote">&gt; Is there a third option we've overlooked (assuming Java 1.4)?</span >

Of course.  :-)  This is an example of the general mixin problem.  The software engineering and computer science literature is full of interesting options.

I think an apt analogy is the Lisp method-dispatch mechanism.  Lisp methods are first-class objects that are called by name, without reference to a callee type or instance.  The runtime does pattern matching based on the argument types, similar to Java method overload matching.  Java semantics can be simulated by placing the callee as the first argument of the method.  We would need a simplified version of this mechanism that acts on 1 or 2 arguments.  It would occupy the space in the framework where factory lists are now.  Option 1 above would accept type constraints as arguments at bind-time.  Option 2 would accept value instances and use their RTTI.
</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-22 12:00:10 EDT
        </span>

      </div>




<pre class="bz_comment_text">Oh, I should say explicitly, I don't think that option 1 and 2 are mutually-exclusive.  I see no reason why both kinds of bindings couldn't co-exist in the same DBC.  The API would need only minimal change to support this (e.g. allow null return values from getValueType() etc., maintain a &quot;dynamic&quot; flag on Binding).

If you must choose only one, option 2 would be preferable.  Option 1 does provide some nice fail-fast error checking and a small performance improvement, but it prevents basic functionality for a whole class of applications.  That doesn't seem like a good trade-off.</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-23 00:28:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=121127#c24">comment #24</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=121127#c22">comment #22</a>)
&gt; My point is that an SWT Table binding acts as a filter on the data content, not
&gt; just the type information.  It does no good to propagate the type information
&gt; if there's no path for the actual data.  :-)  To get behavior like you
&gt; describe, you'd have to ensure that the binding pipeline preserves the complete
&gt; data from both endpoints at each link.  For example, UIs don't often display
&gt; database keys, but this data is required to recover the endpoint object.  Since
&gt; JFace Viewers maintain references in the endpoint type, this isn't a problem. 
&gt; SWT widgets know only about the Strings being displayed.</span >

Yes.

<span class="quote">&gt; &gt; Right.  You still have to manually specify collection element data types no
&gt; &gt; matter what.  Using my recommendation, you just wouldn't have to specify them
&gt; &gt; twice: once for the collection binding itself and *again* when binding to the
&gt; &gt; selection.  :-)
&gt; 
&gt; If generic types are specified, you could do better.  This is just icing on the
&gt; cake, though.</span >

Point taken.

<span class="quote">&gt; &gt; In theory yes.  In practice, I have not seen this happen very often.  In my
&gt; &gt; experience, maybe 20% of table bindings need polymorphic behavior.
&gt; 
&gt; I don't think you should dismiss this requirement so easily.  You'd be ruling
&gt; out a whole class of UIs that make use of dynamic behavior and/or plug-in
&gt; extensibility.  Any application with a context-sensitive properties pane would
&gt; suffer, including mine.  ;-)</span >

Point taken again.  I'm actually intending to use data binding in exactly this way on another app I'm working on right now, so the point is timely as well. :-)

<span class="quote">&gt; &gt; &gt;  At some later point, a FreightItem is added to the list.  BANG.
&gt; &gt; 
&gt; &gt; I'm not sure I follow this.  You may or may not get an error.  If you are only
&gt; &gt; editing fields that are common to ProductItem and FreightItem, then everything
&gt; &gt; should continue to work exactly as before.  The fields don't change their type
&gt; &gt; just because some subclass was added.
&gt; 
&gt; Keep in mind, we're talking about two different questions related to types: 1.
&gt; Does the framework infer types at bind-time at all, or use the RTTI of specific
&gt; values as they change?  Bind-time types cannot be truly polymorphic, because
&gt; obviously there's just one type, no matter what it is.  2. If the framework
&gt; fixes the types at bind-time, does the framework use the slot's type or the
&gt; current value's type?  IMHO, it is a mistake to use the current value type. 
&gt; The slot type determines the real type constraint, so using a different
&gt; constraint would violate type safety.
&gt; 
&gt; E.g. if the framework infers ProductItem, it will make calls like this: 
&gt; createDomainValidator(ProductItem.class).  If the DBC contains a factory that
&gt; responds to ProductItem specifically, e.g. to support a subtype-specific
&gt; property editor pane, it might produce an IConverter that assumes it will only
&gt; recieve ProductItems.  Although the compiler doesn't guarantee this, the
&gt; framework is essentially making a runtime promise.  If that IConverter is
&gt; passed a FrieghtItem, it won't know what to do with it.  One way or another, it
&gt; will fail, perhaps with a ClassCastException or an IllegalArgumentException.
&gt; 
&gt; If the framework calls createDomainValidator(LineItem.class) -- with the true
&gt; type constraint -- the ProductItem-specific BindSupportFactory would not
&gt; respond.  A lower-priority factory that acts on LineItems would respond
&gt; instead.  All is well.</span >

Right.  Point taken.

My point was although you're right that our current bindings aren't polymorphic, there's no reason why the converters and validators themselves couldn't be.

All the same, I think you've made a strong case for implementing a fully dynamic type system a la Smalltalk's.

<span class="quote">&gt; &gt; If you have converters that convert an entire ProductItem into something else
&gt; &gt; and back, yes, this would need to be handled.  But you would need to handle
&gt; &gt; this anyway, right?
&gt; 
&gt; Isn't that the whole point of a converter?  As I said in #20, you can work
&gt; around the problem by maintaining different lists of factories -- one list that
&gt; has the specific subclass-only factories and another for the general case. 
&gt; This is awkward in practice, because it forces the client to maintain these
&gt; separate lists and keep track of which one should be used in which
&gt; circumstance.  The declarative, centralized nature of the bindings framework is
&gt; lost.
&gt; 
&gt; Actually, I'm not sure about this workaround, since you'd have two bindings
&gt; against the same JFace Viewer in different DBCs (one for content and one for
&gt; selection).  Obviously, this goes against the idea of a centralized
&gt; binding-network manager.  I might need to bypass the whole factory mechanism.</span >

I agree that this isn't ideal.  I still like the idea of making the converters themselves polymorphic.  ie: have a LineItemToStringConverter that maintains a registry of converters for each subclass of LineItem that might need converting and uses the right one based on the instanceof the current object.

Actually PolymorphicConverter could easily be written generically, take as a constructor parameter the abstract type whose hierarchy it's supposed to manage, and perform the instanceof lookup itself.

Hmmmm....  Maybe this is the right way to implement dynamic behavior in the current system to begin with--have a DynamicConverter and a DynamicValidator.  They advertise themselves as being able to handle anything related to java.lang.Object.  If they are specified, they provide the dynamic converter/validator lookup behavior.

I'll have to look into this way of implementing what you're asking for.

<span class="quote">&gt; &gt; &gt; Worse yet, what if some future extension adds a new ServiceChargeItem (extends
&gt; &gt; &gt; LineItem) to the mix?  How would such an extension integrate with the existing
&gt; &gt; &gt; converters and validators?  The BUS approach does not scale well.
&gt; &gt; 
&gt; &gt; Again, this assumes that the ServiceChargeItem object itself needs to be
&gt; &gt; round-trip marshalled and unmarshalled to some other neutral data type.
&gt; 
&gt; Not necessarily.  It just assumes that ServiceChargeItems need both
&gt; subclass/specific and superclass/general behavior anywhere within the purview
&gt; of the DBC.</span >

If you're thinking of how the same object may need to represent itself in a toString() fashion and a slot-by-slot fashion in a property editor, I think I can see where you're coming from.

Is that what you're driving at?

<span class="quote">&gt; &gt; I'd use nested factories. ...
&gt; 
&gt; This is exactly what I meant by &quot;re-implements parts of the Java
&gt; type system.&quot;  If I have to create my own factory system, I've just bypassed a
&gt; big chunk of the framework.  I'd rather that the framework handled this, even
&gt; if I have to write it myself and contribute it.  :-)</span >

I'm thinking this wouldn't be such a big deal to plug into the framework the way it's written right now.  You can either supply a PolymorphicConverter / PolymorphicValidator pair in the BindSpec if you need it piecemeal or you can write a different BindSupportFactory that always uses the Polymorphic[Converter|Validator].

I'd love to see this included in the framework.

<span class="quote">&gt; &gt; It seems to me that there are two choices:
&gt; &gt; 
&gt; &gt; - Match types at bind time.  (Like what a Haskell RTL does.)
&gt; 
&gt; This is reasonable, as long as the matching algorithm has similar semantics to
&gt; the Java dispatch mechanism.  It should be possible to override the binding
&gt; behavior for specific subclasses without removing the more general behavior for
&gt; superclasses.  Preferably, client code should not need to manage the priority
&gt; list explicitly, since the type system contains sufficient information.
&gt; 
&gt; This option interacts with the usage of arbitrary static metadata, which
&gt; implies an arbitrary priority system.  I don't know how the framework could
&gt; possibly &quot;match types&quot; if the metadata defines a non-standard type system.</span >

Good point.

<span class="quote">&gt; &gt; - Don't worry about types at all, just match method signatures when you've got
&gt; &gt; actual objects in hand.  (The Smalltalk type system.)
&gt; 
&gt; The Smalltalk analogy breaks down when the behavior does not actually belong to
&gt; the object being called, but to a third object (e.g. a converter).  I think
&gt; you're referring more to the Smalltalk style conventions, not the type system. 
&gt; Smalltalk (and Obj-C, Python, etc.) encourage you to make calls on
&gt; statically-untyped objects and let the runtime do dynamic dispatch based on
&gt; RTTI.  In this case, we're talking about dispatch to third-party converters,
&gt; etc, but it's a very similar process.  I think this is also a very reasonable
&gt; solution for bindings.  Again, I would want the dispatch mechanism to mirror
&gt; the Java type system.</span >

Yes of course. :-)

<span class="quote">&gt; &gt; Is there a third option we've overlooked (assuming Java 1.4)?
&gt; 
&gt; Of course.  :-)  This is an example of the general mixin problem.  The software
&gt; engineering and computer science literature is full of interesting options.
&gt; 
&gt; I think an apt analogy is the Lisp method-dispatch mechanism.  Lisp methods are
&gt; first-class objects that are called by name, without reference to a callee type
&gt; or instance.  The runtime does pattern matching based on the argument types,
&gt; similar to Java method overload matching.  Java semantics can be simulated by
&gt; placing the callee as the first argument of the method.  We would need a
&gt; simplified version of this mechanism that acts on 1 or 2 arguments.  It would
&gt; occupy the space in the framework where factory lists are now.  Option 1 above
&gt; would accept type constraints as arguments at bind-time.  Option 2 would accept
&gt; value instances and use their RTTI.</span >

So basically you're saying we should have both options.

I think that Boris and I agree on this in theory.  The catch has always been to find the simplest possible implementation of this idea that could work. :-)

But you've got me thinking and I'm going to pursue this idea of having an alternate BindSupportFactory that generates polymorphic converters and validators all the time.  I'm interested to see if this approach leads to a simple implementation of the dynamic type system using our existing infrastructure.

Or to say the same thing another way, I'm pretty sure that this approach is on the right track: starting with a stricter type system and weakening it rather than starting with a relaxed type system and trying to strengthen it.

(And you've helped a lot through this discussion. :-)</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-23 16:53:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [DataBinding] Bind-time Type Checking is Inflexible"
   href="show_bug.cgi?id=116349">Bug 116349</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-26 14:07:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">What should we do with this bug?</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Peter Centgraf</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=peter&#64;centgraf.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=peter&#64;centgraf.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-29 14:54:55 EDT
        </span>

      </div>




<pre class="bz_comment_text">It depends on what happens to the automatic converters and validators.  In essence, the whole factory mechanism was removed from scope for 3.3 API, so this discussion isn't relevant.  All Bindings must have their converters and validators specified explicitly in client code, except for a small handful of primitives and final classes (e.g. String).  I've been generally happy with the change, since it greatly simplified the API, and I reworked most of this functionality myself anyway.  (I've even created custom converters for some of the primitive types.)

However, if 3.4 re-introduces a kind of central repository/factory for converters and validators, this will be relevant again.  Personally, I'm not eager to see more plumbing for this.  Like undo support, it's fraught with application-level design tradeoffs.  If I can instantiate the existing converters and validators with public API, and if those implementations are made a bit more configurable, I'll be happy.  (I've submitted requests for these changes already.)  I can configure my UI behavior better than you can, frankly.

Sooo.... I guess I'm voting for CLOSED/WONTFIX here.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dave Orme</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=djo&#64;coconut-palm-software.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=djo&#64;coconut-palm-software.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-29 16:55:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">+1.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=121127#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Boris Bokowski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=bokowski&#64;google.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=bokowski&#64;google.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-29 22:21:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">There you are. :)</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=121127">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=121127">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=121127">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=121127&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=121127" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>