<!DOCTYPE html>
<html lang="en">
  <head>
    <title>157852 &ndash; ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "157852 – ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser",
                             "show_bug.cgi?id=157852" );
        document.title = "157852 – ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "157852 – ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_z_Archived
                 bz_component_ATF
                 bz_bug_157852 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;157852</span>

        <span id="subtitle" class="subheader">ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser</span>

        <span id="information" class="header_addl_info">Last modified: 2020-05-07 10:51:27 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=157852&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=157852" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2020-05-07 10:51:27">
  <input type="hidden" name="id" value="157852">
  <input type="hidden" name="token" value="1629868222-eU9oKIREQqlZgflYZ8fUZMAT-HxXdRPPRBGzTnwhfp4">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=157852"><b>Bug&nbsp;157852</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span><span title="ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser">ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla...
        </span>
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'ATF bundles package org.eclipse.swt.browser in plugin org.eclipse.atf.mozilla.swt.browser' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >z_Archived

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Foundation

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=z_Archived"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >ATF

  (<a href="buglist.cgi?component=ATF&amp;product=z_Archived&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>unspecified &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Linux
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       critical<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=157852#vote_157852">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Javier Pedemonte</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pedemont&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pedemont&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'nobody\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (1)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - SWT version dependancy match too restrictive"
   href="show_bug.cgi?id=156517">156517</a> 
      </span>
      (<a href="buglist.cgi?bug_id=156517">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2006-09-19 11:48 EDT by <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2020-05-07 10:51 EDT
      (<a href="show_activity.cgi?id=157852">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>0 
          users
        <div id="cc_edit_area">
          <br>
        </div>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=51693"
               title="View the content of the attachment">
          <b>AbstractMozillaBrowser.java.diff</b></a>

          <span class="bz_attach_extra_info">
              (421 bytes,
                patch)

            <br>
            <a href="#attach_51693"
               title="Go to the comment associated with the attachment">2006-10-10 10:44 EDT</a>,

            <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=51693&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=51693&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=51694"
               title="View the content of the attachment">
          <b>MozillaBrowser.java.diff</b></a>

          <span class="bz_attach_extra_info">
              (1.14 KB,
                patch)

            <br>
            <a href="#attach_51694"
               title="Go to the comment associated with the attachment">2006-10-10 10:45 EDT</a>,

            <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=51694&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=51694&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a id="view_all" href="attachment.cgi?bugid=157852&amp;action=viewall">View All</a>
        </span>
        <a href="attachment.cgi?bugid=157852&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=157852&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 11:48:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">Short:

In trying to run ATF on Linux 64bit I've never managed to get it going.  I found some time today to debug the problem and think I found it.

The plugin org.eclipse.atf.mozilla.swt.browser ships with all the compiled class in the the package org.eclipse.swt.browser.

However the Platform base SWT bundle for Linux ships org.eclipse.swt.gtk.linux.x86_64_3.2.1.v3235.jar which also contains one or more classes in the package org.eclipse.swt.browser.

I think that the ATF plugin org.eclipse.atf.mozilla.swt.browser is volating general namespace rules and think that all the code should be refactored and exported in the package org.eclipse.atf.mozilla.swt.browser.


Long:

$ jar -tvf /opt/eclipse/plugins/org.eclipse.swt.gtk.linux.x86_64_3.2.1.v3235.jar  | grep &quot;browser/[MNO]&quot;
   248 Tue Sep 12 17:58:26 BST 2006 org/eclipse/swt/browser/OpenWindowListener.class

This demonstrate the class org/eclipse/swt/browser/MozillaCloseWindowListener is not shipped with the Eclipse base Platform bundled SWT.


However the ATF project attempts to provide it here:

$ jar -tvf ~dlm/.eclipseextension/eclipse/plugins/org.eclipse.atf.mozilla.swt.browser_1.0.1/mozilla_swt.jar
     0 Tue Sep 12 13:33:44 BST 2006 META-INF/
   106 Tue Sep 12 13:33:42 BST 2006 META-INF/MANIFEST.MF
     0 Tue Sep 12 13:33:42 BST 2006 org/
     0 Tue Sep 12 13:33:42 BST 2006 org/eclipse/
     0 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/
     0 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/
  1284 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/AbstractMozillaBrowser$1.class
   716 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/AbstractMozillaBrowser$2.class
   716 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/AbstractMozillaBrowser$3.class
 27603 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/AbstractMozillaBrowser.class
  3703 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/EmbeddingSiteWindow.class
  1788 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaBrowser.class
   272 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaCloseWindowListener.class
  1223 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaDownload$1.class
  8318 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaDownload.class
  1046 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaDownloadFactory.class
  2264 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaHelperAppLauncherDialog.class
  1136 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaHelperAppLauncherDialogFactory.class
   269 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaOpenWindowListener.class
  1387 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaPromptDialog$1.class
  1605 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaPromptDialog$2.class
  1759 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaPromptDialog$3.class
  6019 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaPromptDialog.class
  6773 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaPromptService.class
  1076 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaPromptServiceFactory.class
   679 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaVisibilityWindowAdapter.class
   296 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaVisibilityWindowListener.class
  1420 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaWindowCreator$1.class
   923 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaWindowCreator$2.class
  3758 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaWindowCreator.class
   744 Tue Sep 12 13:33:42 BST 2006 org/eclipse/swt/browser/MozillaWindowEvent.class



It seems that BOTH a component of ATF and a component of Eclipse base Platform SWT use the same package name org.eclipse.swt.browser.  The Java class loader *does not* perform an exhaustive search for all memebers of a package, once it find the first JAR file (or classes/ directory) that matches it consider that the only authoritative location for all the classes that make up that package.


I am thinking that the package name is a typo in the CVS file:

eclipse_cvs/atf/components/plugins/org.eclipse.atf.mozilla.swt.browser/META-INF/MANIFEST.MF
Export-Package: org.eclipse.swt.browser

I think it should read:

Export-Package: org.eclipse.atf.mozilla.swt.browser


Then everything within ATF that uses it need to be refactored.


Maybe Win32 version of SWT does not ship with the package org.eclipse.swt.browser and this is why developers have not been aware of this problem before.  But marking this as critical as ATF has never worked for me and I would like is anyone has ATF running on any version 32bit/64bit of linux and if so that other plugins do they have installed ?</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 12:58:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">

I have found some OSGi options to enable with &quot;-debug $HOME/.options&quot; to give a more verbose output of the class finding process (the following information I have extracted in the order they appear that I think it relevant and related to this problem) :

BundleData created: org.eclipse.swt_3.2.1.v3235a
BundleData created: org.eclipse.swt.gtk.linux.x86_64_3.2.1.v3235
BundleData created: org.eclipse.atf.mozilla.swt.browser_1.0.1

[ *** AT this point here I switch to Mozilla perspective and attempt to load the URL <a href="http://www.eclipse.org/atf/">http://www.eclipse.org/atf/</a> ]

BundleClassLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadClass(org.eclipse.swt.browser.ProgressListener)
BundleLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadBundleClass(org.eclipse.swt.browser.ProgressListener)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].findLocalClass(org.eclipse.swt.browser.ProgressListener)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.ProgressListener)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.ProgressListener)
  about to read 269 bytes from org/eclipse/swt/browser/ProgressListener.class
  read 269 bytes from org/eclipse/swt/browser/ProgressListener.class
  defining class org.eclipse.swt.browser.ProgressListener
BundleLoader[org.eclipse.swt_3.2.1.v3235a] found local class org.eclipse.swt.browser.ProgressListener
BundleClassLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadClass(org.eclipse.swt.browser.StatusTextListener)
BundleLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadBundleClass(org.eclipse.swt.browser.StatusTextListener)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].findLocalClass(org.eclipse.swt.browser.StatusTextListener)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.StatusTextListener)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.StatusTextListener)
  about to read 255 bytes from org/eclipse/swt/browser/StatusTextListener.class
  read 255 bytes from org/eclipse/swt/browser/StatusTextListener.class
  defining class org.eclipse.swt.browser.StatusTextListener
BundleLoader[org.eclipse.swt_3.2.1.v3235a] found local class org.eclipse.swt.browser.StatusTextListener
BundleClassLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadBundleClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].findLocalClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].findLocalClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleClassLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].findClass(org.eclipse.swt.browser.MozillaCloseWindowListener)
BundleClassLoader[org.eclipse.atf.mozilla.ide.ui_1.0.1].loadClass(org.eclipse.swt.browser.MozillaCloseWindowListener) failed.
java.lang.ClassNotFoundException: org.eclipse.swt.browser.MozillaCloseWindowListener
        at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:402)
        at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:347)
        at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
        at java.lang.Class.getDeclaredConstructors0(Native Method)
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)
        at java.lang.Class.getConstructor0(Class.java:2671)
        at java.lang.Class.newInstance0(Class.java:321)
        at java.lang.Class.newInstance(Class.java:303)
        at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:157)



From what I can see above the bundle org.eclipse.atf.mozilla.swt.browser_1.0.1 is not searched for the class at all.  But the org.eclipse.swt_3.2.1.v3235a bundle is (because it contains one or more files in the package we are locating)



$HOME/.options file:

# Turn on general debugging for org.eclipse.osgi
org.eclipse.osgi/debug=true
# Prints out class loading debug information
org.eclipse.osgi/debug/loader=true
# Prints out event (FrameworkEvent/BundleEvent/ServiceEvent) and listener debug information
org.eclipse.osgi/debug/events=true
# Prints out OSGi service debug information (registration/getting/ungetting etc.)
org.eclipse.osgi/debug/services=true
# Prints out bundle manifest parsing debug information
org.eclipse.osgi/debug/manifest=true
</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 13:47:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just to update this, I have tested with multiple JVMs (for 64bit to 32bit changeover I reinstalled Eclipse from ZIP files starting with a 32bit base and loaded all mu plugins back in).

There was no change at all between JVMs exactly the same CNFE occurs in the OSGi diagnostic output.

The JVMs I tried:

Sun JVM jdk1.5.0_08_x86_64 (64bit, what I normally use)
IBM JVM IBMJava2-amd64-142 (64bit)

Sun JVM jdk1.5.0_08 (32bit)
Sun JVM j2sdk1.4.2_12 (32bit)

There is no Sun JVM 1.4 64bit version for Linux (Mu installation, like most 64bit Linux installation supports dual 32/64 bit runtimes natively, however this isn't prefered usage as system DSO/DLL footprint increases whenever you run any 32bit applications).

I am now going to strip down my Eclipse install so find out which plugin package(s) make a difference to it working or not.  As <a href="mailto:pedemont&#64;us.ibm.com">pedemont&#64;us.ibm.com</a> reported that ATF does indeed work for him based on a minimal base install + ATF.</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 14:24:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Try an eclipse without the Visual Editor (org.eclipse.ve). I think the code they added to support a SWT Container is causing the problem. </pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 14:56:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">As a work around go into &lt;eclipse_install_dir&gt;/plugins/org.eclipse.atf.mozilla.swt.browser_1.0.1/META-INF directory and edit file MANIFEST.MF. Change the line

Fragment-Host: org.eclipse.swt;bundle-version=&quot;3.1.0&quot;

to 

Fragment-Host: org.eclipse.swt;bundle-version=&quot;[3.1.0,4.0.0)&quot;

Please notice the [ and ) in the line. The Visual editor code for its SWT Container is not process this line correctly.Please tell me if this fixes your problem?</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 16:36:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">Robert your suggestions make no difference to the situation.  The &quot;[3.1.0,4.0.0)&quot; comes from my other similar/related bug report <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - SWT version dependancy match too restrictive"
   href="show_bug.cgi?id=156517">bug #156517</a> ?

This problem does not seem to be affected by:
 * 32bit Linux vs 64bit Linux
 * The JVM implementation (Sun/JVM), (5.0, 1.4)
 * or other parts of callisto that are installed.

I do have a few other plugins being picked up (which are not part of callisto).  Maybe I will just to be sure remove those.

The problem is more fundimental failure, it would help if you could quote me the exact ZIP files you installed on a Linux box to get a working version first time.

It would also help to know if you are actually using a released version not a CVS version (or version built from Eclipse project files).

This way I can try to work out what the difference between our configurations is that is causing the difference.
</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 16:46:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">The version of eclipse and WTP I'm using is <a href="http://www.eclipse.org/downloads/download.php?file=/webtools/downloads/drops/R1.5/R-1.5.0-200606281455/wtp-all-in-one-sdk-R-1.5.0-200606281455-linux-gtk.tar.gz">http://www.eclipse.org/downloads/download.php?file=/webtools/downloads/drops/R1.5/R-1.5.0-200606281455/wtp-all-in-one-sdk-R-1.5.0-200606281455-linux-gtk.tar.gz</a>. 

This has WTP and Eclispe package as one. </pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 17:08:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm also using the ATF build atf-linux-sdk-0.1-20060912-1300.zip on linux. Using the instructions on the site. </pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 17:34:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">I think I may be able to duplicate the problem. Let me try to resolve it.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 17:54:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">I can definitely duplicated this problem. We are looking at it.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 18:19:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">Yes with the all in one WTP install it works for me too, using Sun 32bit 1.5.0_08 JVM, a clean -configuration, a clean -data (workspace) and no extra plugins installed except ATF.

This is the first time I have seen ATF working :)

I am about to wind versions forward one thing at a time to see what causes the problem for me.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 23:17:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">I thought when I tried ATF on a different Linux machine I was able to reproduce the problem, but I forgot to restart eclipse with using the -clean flag ( i.e. eclipse -clean ). When I did that the problem went away. We will also look at adding in the other features in Callisto and see if we run into problems.
</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-19 23:27:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just in case you didn't noticed in the instructions, Eclipse has to be restarted with the -clean option after ATF is installed. Since you stated that you were able to get it to run, I expect that you restarted eclipse with the -clean option. I just thought I mention it just to make sure.
</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-20 09:24:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">Just to confirm I have been using -clean (almost always during this testing).  I think this makes OSGi rebuild its configuration.

With a brand new install of 64bit Eclipse+WTP, in a empty/clean -configuration space, in a empty/clean -data workspace.  I get the new user help screen on bootup, I can clear that and to go install ATF from Local Archive/Local Site.

After that ATF install, eclipse is then restarted and at this point on 32bit I have ATF working.  On 64bit I have some new error which I've added to a recent newsgroup posting under &quot;Linux AMD64/64bit with ATF not working, possible solution included&quot;, the newsgroup is probably better at getting to the bottom of the situation outlined in the posting.

I shall continue today to wind forward my configuration and plugin versions (now I have a starting point that works for me).</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-22 12:31:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">I have clean room procedure:

* rm -rf /opt/eclipse
* rm -rf /home/dlm/.eclipse/org.eclipse.platform_3.2.0/empty/
* rm -rf /home/dlm/workspace_clean/
* Setup ~/.gre.d/ based on if I am testing 32bit or 64bit runtime
* Setup $JAVA_HOME (and other enviromment) for 32bit or 64bit runtime
* cd /opt
* UNZIP all the archives (Platform+WTF, not ATF)
* /opt/eclipse/eclipse -clean -configuration file:///home/dlm/.eclipse/org.eclipse.platform_3.2.0/empty/ -debug /home/dlm/.options -data /home/dlm/workspace_clean &gt;/home/dlm/eclipse_runtime.log 2&gt;&amp;1 &amp;
* This will bootup eclipse to Welcome view, close the welcome view
* Select Software Updates, configure New Archived Site, for ATF .zip
* Install ATF


I must have tried over 120 combinations of plugins trying to recreate the problem and find a pattern.  25% were 32bit based, 75% were 64bit based.  I tried doing Update Manager driven updates for TPTP, Birt and other items which I have installed to look for any contributing effects and found none.  I have upgraded base platform and WTP to recent development I-build and again ATF work with 32bit.

In not one case was I able recreate the OSGi error message problem, about org.eclipse.swt.browser Require-Build being invalid.  The 32bit setups worked out of the box.  None of the 64bit setups worked at all (When I say they dont work, this always means In the Mozilla perspective, I press the open URL button, put in a url and get a Mozilla tab drawn, but the contents are transparent, i.e. no redraw is done inside the tab and none of the browser widgets appear).

So my conclusion is that there is a corruption in the configuration data that was causing org.eclipse.atf.mozilla.swt.browser to be rejected by OSGi and not able to get into &quot;RESOLVED&quot; state.


So I went back to trying to find a reason why 64bit doesn't work.

I have checked into all sorts of other possibilities, like the fact that my Linux 64bit uses GCC4 and this stdc++.so.6 using a different ABI to applications complied with GCC3 (stdc++.so.5).  So I recompiled my xulrunner using (gcc32, g++32, which I have installed) and check everything is using/linked with GCC3 ABI.  This made no difference to the problem.

I have chased down the erronous ClassNotFoundException's coming of OSGi when it tries to load classes in javaxpcom.jar.  But there is a specialist ClassLoader in url and the classes are really found, as the exception must have been generated inside OSGi resolution.  Maybe OSGi could be taught about this specilist classloader situationt hat ATF presents so the errors are quashed.


I then looked at the output during startup of an ATF embeded browser tab.  I have found the point where the startup procedure changes between the working 32bit and the non-working 64bit.  However I do not know the code well enoough to be able to know where in the code to look, as the output comes in the form of OSGi class loading logging.

The change in behavor is just after org.mozilla.xpcom.nsIBaseWindow is loaded.


The Working 32bit does this:

BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIWebBrowser
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIURIContentListener)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIURIContentListener)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIURIContentListener)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIURIContentListener
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIWebBrowserChrome)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIWebBrowserChrome)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIWebBrowserChrome)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIWebBrowserChrome
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].loadClass(org.mozilla.xpcom.nsIWebBrowser)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].loadBundleClass(org.mozilla.xpcom.nsIWebBrowser)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIWebBrowser)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIWebBrowser
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIBaseWindow)
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].findClass(org.mozilla.xpcom.nsIBaseWindow)
  about to read 980 bytes from org/mozilla/xpcom/nsIBaseWindow.class
  read 980 bytes from org/mozilla/xpcom/nsIBaseWindow.class
  defining class org.mozilla.xpcom.nsIBaseWindow
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIBaseWindow
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].loadClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].loadBundleClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIBaseWindow
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(java.util.ArrayList)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(java.util.ArrayList)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].loadClass(org.eclipse.swt.browser.AbstractMozillaBrowser$1)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].loadBundleClass(org.eclipse.swt.browser.AbstractMozillaBrowser$1)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].findLocalClass(org.eclipse.swt.browser.AbstractMozillaBrowser$1)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.AbstractMozillaBrowser$1)
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].findClass(org.eclipse.swt.browser.AbstractMozillaBrowser$1)
  about to read 1284 bytes from org/eclipse/swt/browser/AbstractMozillaBrowser$1.class
  read 1284 bytes from org/eclipse/swt/browser/AbstractMozillaBrowser$1.class
  defining class org.eclipse.swt.browser.AbstractMozillaBrowser$1



The Non-working 64bit does this:

BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIWebBrowser
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIURIContentListener)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIURIContentListener)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIURIContentListener)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIURIContentListener
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIWebBrowserChrome)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIWebBrowserChrome)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIWebBrowserChrome)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIWebBrowserChrome
BundleClassLoader[org.eclipse.swt_3.2.0.v3232o].loadClass(org.mozilla.xpcom.nsIWebBrowser)
BundleLoader[org.eclipse.swt_3.2.0.v3232o].loadBundleClass(org.mozilla.xpcom.nsIWebBrowser)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIWebBrowser)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIWebBrowser
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIBaseWindow)
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].findClass(org.mozilla.xpcom.nsIBaseWindow)
  about to read 980 bytes from org/mozilla/xpcom/nsIBaseWindow.class
  read 980 bytes from org/mozilla/xpcom/nsIBaseWindow.class
  defining class org.mozilla.xpcom.nsIBaseWindow
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIBaseWindow
BundleClassLoader[org.eclipse.swt_3.2.0.v3232o].loadClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.eclipse.swt_3.2.0.v3232o].loadBundleClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIBaseWindow
***** CHANGES FROM HERE, WE EXPECT TO LOAD org.eclipse.swt.browser.AbstractMozillaBrowser$1 AT THIS POINT, BUT WE DONT *****
BundleClassLoader[org.eclipse.core.runtime_3.2.0.v20060603].loadClass(org.eclipse.core.internal.runtime.Log)
BundleLoader[org.eclipse.core.runtime_3.2.0.v20060603].loadBundleClass(org.eclipse.core.internal.runtime.Log)
BundleLoader[org.eclipse.equinox.common_3.2.0.v20060603].findLocalClass(org.eclipse.core.internal.runtime.Log)
BundleClassLoader[org.eclipse.equinox.common_3.2.0.v20060603].findClass(org.eclipse.core.internal.runtime.Log)
BundleLoader[org.eclipse.core.runtime_3.2.0.v20060603].findLocalClass(org.eclipse.core.internal.runtime.Log)
BundleClassLoader[org.eclipse.core.runtime_3.2.0.v20060603].findClass(org.eclipse.core.internal.runtime.Log)
  about to read 2161 bytes from org/eclipse/core/internal/runtime/Log.class
  read 2161 bytes from org/eclipse/core/internal/runtime/Log.class
  defining class org.eclipse.core.internal.runtime.Log
</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-22 15:54:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">Shortly after posting the last comment I was able to get a new error in ~dlm/workspace_clean64/.metadata/.log:

!ENTRY org.eclipse.ui 4 4 2006-09-22 17:44:17.090
!MESSAGE Unhandled event loop exception

!ENTRY org.eclipse.ui 4 0 2006-09-22 17:44:17.091
!MESSAGE handle
!STACK 0
java.lang.NoSuchFieldError: handle
        at org.eclipse.swt.browser.MozillaBrowser.getHandle(MozillaBrowser.java:16)
        at org.eclipse.swt.browser.AbstractMozillaBrowser.&lt;init&gt;(AbstractMozillaBrowser.java:232)
        at org.eclipse.swt.browser.MozillaBrowser.&lt;init&gt;(MozillaBrowser.java:12)
        at org.eclipse.atf.mozilla.ide.ui.browser.MozBrowserEditor.createPartControl(MozBrowserEditor.java:245)
        at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:596)
        at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:372)
        at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)



So I got to work on this and found in eclipse_cvs/atf/components/plugins/org.eclipse.atf.mozilla.swt.browser/gtk_linux_src/org/eclipse/swt/browser/MozillaBrowser.java at line 32:
  OS.gtk_container_add(handle, embedHandle);

accesses a field called &quot;handle&quot;.  I sound that was an inheritied field from class o.e.swt.widget.Widget, MozillaBrowser -&gt; AbstractMozillaBrowser -&gt; Composite -&gt; Scrollable -&gt; Control -&gt; Widget (has &quot;public int /*long*/ handle&quot;)

So I decompiled (with javap) the SWT Widget.class for the 32bit and 64bit builds of SWT and found:

32bit SWT: public abstract class org.eclipse.swt.widgets.Widget extends java.lang.Object{ public int handle; ...}

64bit SWT: public abstract class org.eclipse.swt.widgets.Widget extends java.lang.Object{ public long handle; ...}

So therefore a field lookup for a field called &quot;handle&quot; of int type, will throw a NoSuchFieldError on 64bit and this is the cause of the current problem.


I think I have an idea to be able to have one common build for linux/win32 on 32 and 64bit, so the ATF download page just has a single thing to download.  I also think that the build server on any platform can be used to build that common distribution, so long as it has a copy of the relevent JARs for each of the platforms available in the compilation classpath.

So in the comming days I shall try to attach a patch or zip for the org.eclipse.atf.mozilla.swt.browser to rework the build process and demonstrate that it is possible to build it from any host platform for all targets (because there is no Native code in use).



Just for reference I am now getting past that stage of bootup but getting a JVM crash, so some progress is being made:

BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIBaseWindow)
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].findClass(org.mozilla.xpcom.nsIBaseWindow)
  about to read 980 bytes from org/mozilla/xpcom/nsIBaseWindow.class
  read 980 bytes from org/mozilla/xpcom/nsIBaseWindow.class
  defining class org.mozilla.xpcom.nsIBaseWindow
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIBaseWindow
BundleClassLoader[org.eclipse.swt_3.2.1.v3235a].loadClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.eclipse.swt_3.2.1.v3235a].loadBundleClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4].findLocalClass(org.mozilla.xpcom.nsIBaseWindow)
BundleLoader[org.mozilla.xpcom_1.8.0.4] found local class org.mozilla.xpcom.nsIBaseWindow
[ *** THIS IS THE POINT WE GOT TO BEFORE *** NOW WE GET THE NEXT 2 LINE LIKE THE 32BIT GOOD STARTUP, THEN THE CRASH ]
BundleClassLoader[org.mozilla.xpcom_1.8.0.4].loadClass(java.util.ArrayList)
BundleLoader[org.mozilla.xpcom_1.8.0.4].loadBundleClass(java.util.ArrayList)
#
# An unexpected error has been detected by HotSpot Virtual Machine:
#
#  SIGSEGV (0xb) at pc=0x00002aaac5b9abf0, pid=14726, tid=47829001240512
#
# Java VM: Java HotSpot(TM) 64-Bit Server VM (1.5.0_08-b03 mixed mode)
# Problematic frame:
# C  [libxul.so+0xbbbbf0]
#
# An error report file with more information is saved as hs_err_pid14726.log
#
# If you would like to submit a bug report, please visit:
#   <a href="http://java.sun.com/webapps/bugreport/crash.jsp">http://java.sun.com/webapps/bugreport/crash.jsp</a>
#
Type Manifest File: /data/src/xulrunner_1.8.0.4/dist/bin/components/xpti.dat
************************************************************
* Call to xpconnect wrapped JSObject produced this error:  *
[Exception... &quot;Component returned failure code: 0x80570016 (NS_ERROR_XPC_GS_RETURNED_FAILURE) [nsIJSCID.getService]&quot;  nsresult: &quot;0x80570016 (NS_ERROR_XPC_GS_RETURNED_FAILURE)&quot;  locati
on: &quot;JS frame :: file:///data/src/xulrunner_1.8.0.4/dist/bin/components/nsExtensionManager.js :: ExtensionManager :: line 2085&quot;  data: no]
************************************************************
************************************************************
* Call to xpconnect wrapped JSObject produced this error:  *
[Exception... &quot;Component returned failure code: 0x80570016 (NS_ERROR_XPC_GS_RETURNED_FAILURE) [nsIJSCID.getService]&quot;  nsresult: &quot;0x80570016 (NS_ERROR_XPC_GS_RETURNED_FAILURE)&quot;  locati
on: &quot;JS frame :: file:///data/src/xulrunner_1.8.0.4/dist/bin/components/nsUpdateService.js :: UpdateService :: line 812&quot;  data: no]
************************************************************
GFX: dpi=96 t2p=0.0666667 p2t=15 depth=24
++WEBSHELL == 1
++DOMWINDOW == 1
Start VM: /opt/jdk1.5.0_08_x86_64/bin/java


</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philippe Ombredanne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pombredanne&#64;nexb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pombredanne&#64;nexb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-25 20:14:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">As dicussed on IRC, I think the right way could be to have a 64 bits fragment.... yet based on our chats and your logs, I think this is more an issue to have the gethandle return a long, in which case It may call for both a 64 fragment and bringing pieces of AbstractMozillaBrowser down in a platform fragment so we can get a long or an int for 64 or 32 bits.
the handle is NOT an SWT api, afaik.
</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-07 11:58:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">I am happy to report I have got ATF working on 64bit Linux today.  I think my remaining issue was related to GCC3/GCC4 ABI differences as my host builds for GCC4 by default.

To confirm what I have working:


I built my own Xulrunner 1.8.1 using CSV tag MOZILLA_1_8_BRANCH.  Using the options 'CC=&quot;gcc32&quot; CXX=&quot;g++32&quot; make -f client.mk MOZ_CO_PROJECT=xulrunner' this results in an ABI compatible version of xulrunner using GCC3/stdc++.so.5.

I installed this weeks ATF atf-linux-sdk-0.1-20061004-2300.zip

I build my own version of plugins/org.eclipse.atf.mozilla.swt.browser_1.0.1 which uses long return type for 64bit in AbstractMozillaBrowser and MozillaBrowser classes.

Then I fired up Eclipse and I am able to browse :)  So from this standpoint I'm happy to close this bug as the original goal has been achieved, that is to see ATF working on 64bit Linux.

There are followup items already being worked on to unify the download.


Now I noticed in the CSS view the error &quot;Required Xulrunner classes not found. Full CSS tooling only supported with XULRunner version 1.8.1 or later&quot; so I track this down to lack of org.mozilla.xpcom.inIDOMUtils class in org.mozilla.xpcom_1.8.0.4 but it is in the MozillaInterfaces.jar of 1.8.1.

So I tried to build my own version of plugins/org.mozilla.xpcom_1.8.1 out of the 1.8.0.4 version with the MANIFEST updated and the JAR replace from my 1.8.1 xulrunner build.


However now I get this error:

java.lang.NoSuchMethodError: org.mozilla.xpcom.nsIAppShell.create([J[Ljava/lang/String;)V


And looking at the java stub _javagen/default/org/mozilla/xpcom/nsIAppShell.java:

  void create(int[] argc, String[] argv);


dist/idl/nsIAppShell.idl:

  void Create(inout int argc, inout string argv);


Now in 1.8.0.4 the &quot;argc&quot; argument is of type &quot;long&quot; (if I decompile the .class file) which is what the &quot;J&quot; in &quot;([J[Ljava/lang/String;)V&quot;.  The nsIAppShell.idl file on both version uses type &quot;int&quot;.

It looks like the &quot;idl&quot; to java compiler fixed to use an int type when appropiate.

When I fixed my customer build of org.eclipse.atf.mozilla.swt.browser to call with &quot;int []&quot; I can confirm ATF is working on 1.8.1 for 64bit Linux as well.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Javier Pedemonte</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pedemont&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pedemont&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-07 13:35:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=157852#c17">comment #17</a>)
<span class="quote">&gt; I am happy to report I have got ATF working on 64bit Linux today.</span >

Great.  Thanks for working on this.

<span class="quote">&gt; I build my own version of plugins/org.eclipse.atf.mozilla.swt.browser_1.0.1
&gt; which uses long return type for 64bit in AbstractMozillaBrowser and
&gt; MozillaBrowser classes.</span >

I assume you only had to change the methods dealing with the SWT 'handle', correct?  Could you attach a patch of the changes you made?

<span class="quote">&gt; Now I noticed in the CSS view the error &quot;Required Xulrunner classes not found.
&gt; Full CSS tooling only supported with XULRunner version 1.8.1 or later&quot; so I
&gt; track this down to lack of org.mozilla.xpcom.inIDOMUtils class in
&gt; org.mozilla.xpcom_1.8.0.4 but it is in the MozillaInterfaces.jar of 1.8.1.</span >

The 20061004 weekly build of ATF now points to org.mozilla.xpcom_1.8.0.90, which  is basically the 1.8.1 release (just didn't want to name it ..._1.8.1 since it is not final).  You can get it directly from <a href="ftp://ftp.mozilla.org/pub/mozilla.org/xulrunner/eclipse/plugins/org.mozilla.xpcom_1.8.0.90.jar">ftp://ftp.mozilla.org/pub/mozilla.org/xulrunner/eclipse/plugins/org.mozilla.xpcom_1.8.0.90.jar</a>.</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-10 10:44:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=51693&amp;action=diff" name="attach_51693" title="AbstractMozillaBrowser.java.diff">attachment 51693</a> <a href="attachment.cgi?id=51693&amp;action=edit" title="AbstractMozillaBrowser.java.diff">[details]</a></span>
AbstractMozillaBrowser.java.diff</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-10 10:45:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=51694&amp;action=diff" name="attach_51694" title="MozillaBrowser.java.diff">attachment 51694</a> <a href="attachment.cgi?id=51694&amp;action=edit" title="MozillaBrowser.java.diff">[details]</a></span>
MozillaBrowser.java.diff</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-02-28 17:54:29 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - SWT version dependancy match too restrictive"
   href="show_bug.cgi?id=156517">Bug 156517</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=157852#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Robert Goodman</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=goodmanr&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=goodmanr&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-02-28 18:00:15 EST
        </span>

      </div>




<pre class="bz_comment_text">The latest weekly build (0.2.1-v200702271030) has Linux 64 bit platform specific fragment that has the SWT handle as a long instead of int.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=157852">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=157852">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=157852">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=157852&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=157852" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>