<!DOCTYPE html>
<html lang="en">
  <head>
    <title>120709 &ndash; Publish failed</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "120709 – Publish failed",
                             "show_bug.cgi?id=120709" );
        document.title = "120709 – Publish failed";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "120709 – Publish failed", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_CLOSED
                 bz_product_WTP_ServerTools
                 bz_component_wst.server
                 bz_bug_120709 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;120709</span>

        <span id="subtitle" class="subheader">Publish failed</span>

        <span id="information" class="header_addl_info">Last modified: 2007-01-12 09:29:25 EST</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=120709&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=120709" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2007-01-12 09:29:25">
  <input type="hidden" name="id" value="120709">
  <input type="hidden" name="token" value="1629852140-WiWrdsND1aMspbuUNaPtzfxlNvkVIG8GgRw_BFWL6hQ">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=120709"><b>Bug&nbsp;120709</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">Publish failed</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>Publish failed
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'Publish failed' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">CLOSED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >WTP ServerTools

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >WebTools

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=WTP ServerTools"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >wst.server

  (<a href="buglist.cgi?component=wst.server&amp;product=WTP%20ServerTools&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>1.0 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       major<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=120709#vote_120709">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>1.5.1 M151 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'wst.server-inbox\x40eclipse.org',
        'eyuen7\x40gmail.com');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (1)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Can't create buttom up web service when &quot;Run modules directly from workspace&quot; is unchecked"
   href="show_bug.cgi?id=123908">123908</a> 
      </span>
      (<a href="buglist.cgi?bug_id=123908">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2005-12-13 15:18 EST by <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2007-01-12 09:29 EST
      (<a href="show_activity.cgi?id=120709">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="cbrealey">cbrealey</option>
                <option value="chilydev">chilydev</option>
                <option value="darryl">darryl</option>
                <option value="gunnar">gunnar</option>
                <option value="thomas.raddatz">thomas.raddatz</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=33648"
               title="View the content of the attachment">
          <b>Patched org.eclipse.jst.server.core plugin</b></a>

          <span class="bz_attach_extra_info">
              (66.62 KB,
                application/octet-stream)

            <br>
            <a href="#attach_33648"
               title="Go to the comment associated with the attachment">2006-01-26 10:09 EST</a>,

            <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=33648&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a id="view_all" href="attachment.cgi?bugid=120709&amp;action=viewall">View All</a>
        </span>
        <a href="attachment.cgi?bugid=120709&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=120709&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-13 15:18:47 EST
        </span>

      </div>




<pre class="bz_comment_text">Driver:  WTP RC4

When going through a Web service client scenario with URL:

<a href="http://www.xmethods.net/sd/2001/CurrencyExchangeService.wsdl">http://www.xmethods.net/sd/2001/CurrencyExchangeService.wsdl</a> 

on a started Tomcat 4.1 server.

I got the error:

Publishing failed
  Error copying file to C:\Documents and Settings\chng1me.T40-92U-V46\workspace_RAD7_1213a\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\ClientWsil\WEB-INF\classes\com\themindelectric\www\wsdl\net_xmethods_services_stockquote_StockQuote\NetXmethodsServicesStockquoteStockQuoteBindingStub.class: Error renaming C:\Documents and Settings\chng1me.T40-92U-V46\workspace_RAD7_1213a\.metadata\.plugins\org.eclipse.jst.server.core\tmp36005.class to C:\Documents and Settings\chng1me.T40-92U-V46\workspace_RAD7_1213a\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\ClientWsil\WEB-INF\classes\com\themindelectric\www\wsdl\net_xmethods_services_stockquote_StockQuote\NetXmethodsServicesStockquoteStockQuoteBindingStub.class</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-13 15:28:48 EST
        </span>

      </div>




<pre class="bz_comment_text">When re-running the scenario on a different Web project, I got the error:

Publishing failed
  Error copying file to C:\Documents and Settings\chng1me.T40-92U-V46\workspace_RAD7_1213a\.metadata\.plugins\org.eclipse.wst.server.core\tmp2\webapps\Client41\WEB-INF\lib\axis.jar: Error deleting C:\Documents and Settings\chng1me.T40-92U-V46\workspace_RAD7_1213a\.metadata\.plugins\org.eclipse.wst.server.core\tmp2\webapps\Client41\WEB-INF\lib\axis.jar
      java.lang.Exception: Error deleting C:\Documents and Settings\chng1me.T40-92U-V46\workspace_RAD7_1213a\.metadata\.plugins\org.eclipse.wst.server.core\tmp2\webapps\Client41\WEB-INF\lib\axis.jar
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:123)
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:314)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:285)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:299)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:299)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir(PublishOperation2.java:79)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.java:50)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDelegate.java:787)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:576)
      at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:799)
      at org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)
      at org.eclipse.jst.ws.internal.consumption.ui.command.StartServerCommand$1.run(StartServerCommand.java:185)
      at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-13 15:59:21 EST
        </span>

      </div>




<pre class="bz_comment_text">Hi Kathy,
Odds look high that you're hitting the Windows path length problem on the JRE that you're using, and the path being &gt; 256 chars is the problem. Did you recently switch JREs or start using longer paths for your workspace, application, or classname? The quick test would be to try a smaller example or switch to c:\work as your workspace and see if that solves it.</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-16 13:24:32 EST
        </span>

      </div>




<pre class="bz_comment_text">I hit this problem again with RC5.  This time, I've used a much shorter name for workspace.  Here's the publish error:

Publishing failed
  Error copying file to d:\rad\rad7_1213_workspace1216b\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc40\WEB-INF\lib\wsdl4j-1.5.1.jar: Error deleting d:\rad\rad7_1213_workspace1216b\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc40\WEB-INF\lib\wsdl4j-1.5.1.jar

It does not look like it's hitting the 256 character limit.</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-16 23:16:42 EST
        </span>

      </div>




<pre class="bz_comment_text">If you stop the runtime between each publish operation, does the problem go away.

I'm thinking WIN32 jar locking is the issue here.  Between M9 and RC1 publishing changed and additional error checking for failed delete was added (which was not in there before).

The method works perfectly on a unix based system but I can't vouch for its effects on WIN32 system.  If platform specific behaviour is needed maybe I can help work something out for WIN32.


The reason why I ask about JAR locking is that TC 5.5 has special workarounds that can be enabled (with side effects, see TC documentation):

&lt;Context ... antiJARLocking=&quot;true&quot; antiResourceLocking=&quot;true&quot; ...&gt;

which may help.  AFAIK neither TC 4.x or TC 5.0.x support this, I'm not sure if this is because it needs a JDK5 feature to support it or just that no one has back-ported the functionality into the older TC releases.
</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-19 00:07:46 EST
        </span>

      </div>




<pre class="bz_comment_text">Given that it is not the path limit problem I think Darryl is probably correct that the server is already using the jar (causing the file to be locked) and that's why publishing failed. Please try Darryl's suggesting and see if the problem still occurs when stopping or restarting the server before this test, which would unlock the file.

Any chance that the jar is changing between the first publish and the one that is now failing? The other oddity is that publishing is normally incremental, so this jar would not be publishing unless it has changed since the previous publish.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-12-21 11:22:01 EST
        </span>

      </div>




<pre class="bz_comment_text">No.  The Axis JARs are not changing during different Web services runs.  Actually, when we detects that the JARs are present, we do not attempt to copy the JARs again.

Unfortunately, since this problem is intermitten, I'll try the workaround suggested if I run into this problem again.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Bernagou</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=lordblackwings&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=lordblackwings&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-05 10:17:02 EST
        </span>

      </div>




<pre class="bz_comment_text">Same problem here once with unittest.jar, once with web.xml, failed to copy then delete...

The Publish process is very very slow and take about 100Mo of memory. The CPU usage is 99% and make my PC freeze.

I migrate from 0.7 to 1.0 and delete previous project and recreate from sources to match with need directories structure. I recreate Runtime for Tomcat 5.0 and try to publish... without success if I try to publish more than one webapp at the same time.</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Bernagou</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=lordblackwings&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=lordblackwings&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-06 04:11:13 EST
        </span>

      </div>




<pre class="bz_comment_text">Just for info, the WTP 1.0 blocked me for a day, then I rollback to WTP 0.7 and I don't have problem anymore.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-17 20:16:25 EST
        </span>

      </div>




<pre class="bz_comment_text">Still having the &quot;Publish failed&quot; problem, detail:

Publishing failed
  Error copying file to D:\eclipse311\eclipse\runtime-workspace_selfhost0117b\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\dClient\WEB-INF\classes\wtp\Converter.class: Error deleting D:\eclipse311\eclipse\runtime-workspace_selfhost0117b\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\dClient\WEB-INF\classes\wtp\Converter.class

This happens on a stopped server with the Web module already added to Tomcat 5.0 server when running the Web service bottom-up scenario.

The Converter.class has not change and is not being generated by Axis.

When I tried the scenario with a stopped server again, I got the error:

Publishing failed
  Error copying file to D:\eclipse311\eclipse\runtime-workspace_selfhost0117b\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\dClient\sampleConverterProxy\Result.jsp: Error renaming D:\eclipse311\eclipse\runtime-workspace_selfhost0117b\.metadata\.plugins\org.eclipse.jst.server.core\tmp53061.jsp to D:\eclipse311\eclipse\runtime-workspace_selfhost0117b\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\dClient\sampleConverterProxy\Result.jsp

Since I was not using Tomcat 5.5, I could not use the workaround suggested.

Please take a look to see if you can recreate the problem.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-25 14:23:58 EST
        </span>

      </div>




<pre class="bz_comment_text">Hi Kathy,
I assume you were using the M-build from last week? That build included the fix for your other publishing bug, which I would have thought was a dup. Is this also a new app, or one that had been published previously.
Can you provide a set of steps for me to reproduce?</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-25 16:25:23 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm getting this problem with the 01240256 M build.  The scenario is:

- Create bottom-up Web service (checking &quot;generate proxy&quot; and &quot;test Web service&quot;) on Tomcat 4.1 (i.e. Web project added to server, server started).
- Exit workbench.  
- Re-enter workbench with &quot;-clean&quot;.
- Create bottom-up Web service on the same bean on the same Tomcat 4.1 server (i.e. Web project already added to server, Java classes already exist, server stopped).

Here's the stack trace:


!MESSAGE Error copying file to D:\wtp\M0124_0254\eclipse\workspace\.metadata\.plugins\org.eclipse.ws
t.server.core\tmp0\webapps\tc41Client\WEB-INF\classes\stockquote\StockQuoteServiceServiceLocator.cla
ss: Error renaming D:\wtp\M0124_0254\eclipse\workspace\.metadata\.plugins\org.eclipse.jst.server.cor
e\tmp10702.class to D:\wtp\M0124_0254\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.co
re\tmp0\webapps\tc41Client\WEB-INF\classes\stockquote\StockQuoteServiceServiceLocator.class
!STACK 0
java.lang.Exception: Error renaming D:\wtp\M0124_0254\eclipse\workspace\.metadata\.plugins\org.eclip
se.jst.server.core\tmp10702.class to D:\wtp\M0124_0254\eclipse\workspace\.metadata\.plugins\org.ecli
pse.wst.server.core\tmp0\webapps\tc41Client\WEB-INF\classes\stockquote\StockQuoteServiceServiceLocat
or.class
        at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)
        at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:327)
        at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:296)
        at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:310)
        at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:310)
        at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:310)
        at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir(PublishOperation
2.java:79)
        at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.j
ava:51)
        at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDel
egate.java:797)
        at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate
.java:586)
        at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:801)
        at org.eclipse.wst.server.core.internal.Server.publish(Server.java:789)
        at org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)
        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)

When I check the .metadata directory, the tmp10702.class file is there and the file D:\wtp\M0124_0254\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.co
re\tmp0\webapps\tc41Client\WEB-INF\classes\stockquote\StockQuoteServiceServiceLocator.class exist and can be deleted manually. 

Please note that this problem is intermitten and cannot be reproduced every time.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-26 10:09:17 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=33648" name="attach_33648" title="Patched org.eclipse.jst.server.core plugin">attachment 33648</a> <a href="attachment.cgi?id=33648&amp;action=edit" title="Patched org.eclipse.jst.server.core plugin">[details]</a></span>
Patched org.eclipse.jst.server.core plugin

Hi Kathy,
Thanks for stopping by yesterday. I'm still perplexed how basic java.io commands could be failing like this.
I've attached a copy of the org.eclipse.jst.server.core plugin with additional tracing to this bug. Can you please replace your current org.eclipse.jst.server.core plugin with this copy, run with -consolelog, and send me the last 10-20 lines from the console the next time you see this problem?</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-01-26 13:34:12 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm also getting this problem on the I200601251349 driver while doing smoke test.  I was jsut creating bottom-up scenario the first time in a new workspace deploying to Tomcat 5.0.  Here's the error:

Publishing failed
  Error copying file to D:\wtp\I0125_1349\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc50Client\WEB-INF\classes\wtp\ConverterService.class: Error deleting D:\wtp\I0125_1349\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc50Client\WEB-INF\classes\wtp\ConverterService.class
      java.lang.Exception: Error deleting D:\wtp\I0125_1349\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc50Client\WEB-INF\classes\wtp\ConverterService.class
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:123)
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:327)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:296)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:310)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:310)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:310)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir(PublishOperation2.java:79)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.java:51)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDelegate.java:797)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:586)
      at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:801)
      at org.eclipse.wst.server.core.internal.Server.publish(Server.java:789)
      at org.eclipse.jst.ws.internal.consumption.ui.command.StartServerCommand$1.run(StartServerCommand.java:129)
      at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)

After dismissing the error, I have no problem deleting the file in question manually.

I assume the patched org.eclipse.jst.server.core plugin is for the M101 stream, not the HEAD stream.  I'll use it the next time I run through any Web service scenario on the M 101 driver.
</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-06 16:16:43 EST
        </span>

      </div>




<pre class="bz_comment_text">I tried again with M0201 using the patched org.eclipse.jst.server.core.  Here's what I got:

Publishing failed
  Error copying file to D:\eclipse311\eclipse\runtime-workspace_selfhost0206a\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc55Client\sampleAddressBookProxy\Result.jsp: Error renaming D:\eclipse311\eclipse\runtime-workspace_selfhost0206a\.metadata\.plugins\org.eclipse.jst.server.core\tmp45692.jsp to D:\eclipse311\eclipse\runtime-workspace_selfhost0206a\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc55Client\sampleAddressBookProxy\Result.jsp

Console Log:

file: true truefile: true truefile: true truefile: true trueProcessing file D:\eclipse311\eclipse\runtime-workspace_selfhost0206a\tc55\WebContent\WEB-INF\AddressBookService\webservice\addressbook\deploy.wsdd
file: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: true truefile: false truefile: true true 5 true true

Hope this is helpful in isolating the problem.
</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">chily</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=chilydev&#64;gmx.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=chilydev&#64;gmx.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-09 14:15:54 EST
        </span>

      </div>




<pre class="bz_comment_text">Maintenance Build of 07/02/06 (M200602071839):

I've deleted a few folders and files from the webapp source folder of a project and refreshed the eclipse workspace (and restarted eclipse).

Since then, publishing (and starting the server) doesn't work at all anymore, due to the error:
&quot;Publishing failed.    Resource ... does not exist&quot; (pointing to one of the deleted files)
</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-14 13:50:33 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm still getting Publishing failed error with the M101 20060214_1429 driver.  All I did in a new workspace is defined Tomcat 4.1, 5.0 and 5.5 server runtime.  Then created a Web project, copy a Java file into source directory and tried to create bottom-up Web service from the Java file (selecting &quot;generate proxy&quot;, &quot;monitor&quot; and &quot;test&quot;).  The error is:

Publishing failed
  Error copying file to D:\wtp\M0214_1429\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc50Client\WEB-INF\classes\wtp\ConverterSoapBindingStub.class: Error deleting D:\wtp\M0214_1429\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc50Client\WEB-INF\classes\wtp\ConverterSoapBindingStub.class
      java.lang.Exception: Error deleting D:\wtp\M0214_1429\eclipse\workspace\.metadata\.plugins\org.eclipse.wst.server.core\tmp0\webapps\tc50Client\WEB-INF\classes\wtp\ConverterSoapBindingStub.class
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:334)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:303)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:317)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:317)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:317)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir(PublishOperation2.java:79)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.java:51)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDelegate.java:801)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:590)
      at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:800)
      at org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)
      at org.eclipse.jst.ws.internal.consumption.ui.command.StartServerCommand$1.run(StartServerCommand.java:129)
      at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)
</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-15 16:58:07 EST
        </span>

      </div>




<pre class="bz_comment_text">Refering to <a href="show_bug.cgi?id=120709#c16">comment #16</a>, using the 0214 M101 driver, here's what the Web services scenario does when the problem occured:

- generate files to source and WebContent folder of Web project &quot;tc50&quot;
- add Web project &quot;tc50&quot; to server, publish/start/restart if necessary 
- create Web project &quot;tc50Client&quot;
- generate files to source folder of &quot;tc50Client&quot;, 
- add Web project &quot;tc50Client&quot; to server, publish/start/restart if necessary 
- generate JSPs into WebContent of &quot;tc50Client&quot;, publish/start/restart if necessary 

The code that checks for if publish/start/restart is necessary or not is in the StartServerCommand.  It calls publish if shouldPublish returns true, then checks the server state.  If server state is stopped, it starts the server.  If server state is started, it restart server if shouldRestart returns true.

Note that in the second publish after the JSPs are generated, the Java code in the source directory of &quot;tc50Client&quot; would not have changed.  So, I'm not sure why the publish code would try to publish ConverterSoapBindingStub.class
again.

Also, you indicated that the problem is during the second publish when  deleting returns OK, but the file still exist.  Could you just replace the content of the file with the newly file content if delete returns OK?  That is, bypass the exist() check?  Are you just doing Java file I/O at that point?

You also suspect the problem might be Tomcat is still holding on the file during the first publish when the second publish is being called.  That's why the first delete did not complete.  So, would this be some sort of timing problem the server tooling code needs to handle?</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-17 02:32:45 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm told on the Tomcat developer list that 4.1.32 of Tomcat will support the antiJARLocking=&quot;true&quot; &lt;Context ..&gt; attribute, but no support for antiResourceLocking=&quot;true&quot;.  I dont think 4.1.32 has been released yet.

There are no plans underway to backport from 5.5.x the same functions into 5.0.x but such a patch would be acceptable.  No new development has been done on 5.0.x in sometime.



My suggestion would be to implement for WIN32 Eclipse an automatic (hidden) retry stratagy on all failed resources from the last the publish operation after some minimal delay before signalling an error to the user.  I would like to understand if the .class file locking is a momentry problem where the running JVM and Eclipse are both trying to use the same file.


A publish operation is started

Normal publishing takes place, any resources error with unlink() or rename() are put on an error list.  So the original delta change information is retained.
Continue the publish all other resources that would not be affected by previous errors.

Now instead of throwing an error here, we keep the existing publish task inprogress, maybe signal to the user we are &quot;Publishing (2nd pass)&quot; if thats possible, we then throw the error delta list back to publish again.

Now if we make progress with the list this time, i.e. 1 or more resources sucessfully published and was removed from the list, we delay and repeat the process.

Now if we made no progress with the list this time, we signal whats left in it to the user and mark the publish operation into an error state.


Then all we need to do is tweak a few parameters, these parameters could be &quot;mimimumNumberOfPublishAttempts&quot; and &quot;publishRetryDelayMiliseconds&quot;.

This heuristic should only be implemented on the WIN32 platform.  On unix we should collect the error list and not implment any retry stratagy, we show resource failure after the 1st pass.

We just have to accept that Java the platform was implemented by a leading UNIX vendor and so has an inherrant UNIX view on how the computing world words.



First we should establish if the above would be a useable workaround maybe a patched up org.eclipse.jst.server.core could be done that for every failed unlink() or rename() we replaced with a new function that would try 3 times with 1500ms delay between tries.  See if Kathy observes any improvement.



I always use Unix with eclipse the history of the problem and the reasons for the changes circa 1.0RC1 are thus.

(In reply to <a href="show_bug.cgi?id=120709#c17">comment #17</a>)
<span class="quote">&gt; Also, you indicated that the problem is during the second publish when 
&gt; deleting returns OK, but the file still exist.  Could you just replace the
&gt; content of the file with the newly file content if delete returns OK?  That is,
&gt; bypass the exist() check?  Are you just doing Java file I/O at that point?</span >

Blindly replacing the contents is something I dont want on Unix.  Since it will let you (even if the TC-JVM is using the file at the same time) this results in TC-JVM coredumps and crashes, since the data is corrupt (from the TC-JVMs point of view).

TC-JVM opens file
TC-JVM reads part of the file of the file (or in the case of a JAR jumps to the directory info at end of file and reads it)
Eclipse (at this moment) opens same file and truncates it
Eclipse writes out new and different contents for that file
Eclipse closes file
TC-JVM still has open file handle on Unix, since the file was not unlink()ed and by default there is no access locking (your application has to use a file locking API it it wants locking) then the file handle points to the same file instance with now different contents.
TC-JVM seeks to offset (since the contents have changed under it the correct offset could be different, but TC-JVM doesn't know this)
TC-JVM reads data
TC-JVM processes data and crashes (I was getting ~3 a day on unix)

The correct way on UNIX to deal with this is to call unlink() or rename() then the TC-JVM file handle still points to filesys backed file that is unlinked from the file system directory tree.  And the new contents end up in a new file instance and are visible to the next program to call open().  Both applications are happy and if the rename() API is used the changeover is done atomically.

The current situation in Eclipse that now exists (since ~1.0RC1) on Unix is good, we are using unlink() then rename() rather than pure rename() which would be ideal.  The window of time the TC-JVM tries to open() a file that Eclipse hasn't yet called rename() for is minimal.

It would be ideal in eclipse to have in org.eclipse.jst.server.core:

if(EclipsePlatformRuntime.isWIN32())
 unlink(file);

newFile.renameTo(file);



In the case of WIN32 rename() can only rename if the destination file does not exist.  This is not the case on UNIX an implicit unlink() is done on the destination file this is what the whole operation atomic :).

In the case of WIN32 both unlink() and rename() fail if another handle is open on the file and default/standard locking in place.  I'm not sure if root of the problem is WIN32's default locking or if the WIN32 platform just doesn't support the concept of open filehandle to an unlinked file that UNIX does.
</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-17 14:20:35 EST
        </span>

      </div>




<pre class="bz_comment_text">Raising severity ...

I'm seeing the &quot;publish fail&quot; error again on the WTP 101 candidate M200602171228 driver.  This time, I ran through Web services skeleton scenario with Web project &quot;tc55b&quot; on a Tomcat 5.0 server.  So Java files were created in that project, Axis JARs were added to WebContent, Web project added to the server, server publish is called and restarted.  That top-down skeleton Web service works fine by testing with the Web Services Explorer.

Then I select the WSDL file in tc55b and select to create Web service client into Web project &quot;tc55c&quot;.  This resulted in Java files being created, Axis JARs and JSPs added to WebContent directory of tc55c.  Then tc55c is added to the started server, server publish and restart is called (actuall call to server only happens if doPublish and doRestart returns true).  However, I am getting the publish error in tc55b (saaj.jar would not have changed between the last publish of tc55b and this publish).  The error is:

Publishing failed
  Error copying file to D:\wtp\M0217_1228\eclipse\workspace15\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\webapps\tc55b\WEB-INF\lib\saaj.jar: Error deleting D:\wtp\M0217_1228\eclipse\workspace15\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\webapps\tc55b\WEB-INF\lib\saaj.jar
      java.lang.Exception: Error deleting D:\wtp\M0217_1228\eclipse\workspace15\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\webapps\tc55b\WEB-INF\lib\saaj.jar
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)
      at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:334)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:303)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:317)
      at org.eclipse.jst.server.core.PublishUtil.handleDelta(PublishUtil.java:317)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir(PublishOperation2.java:79)
      at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.java:51)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDelegate.java:801)
      at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:590)
      at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:800)
      at org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)
      at org.eclipse.jst.ws.internal.consumption.ui.command.StartServerCommand$1.run(StartServerCommand.java:129)
      at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)


</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-02-18 01:21:06 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=120709#c19">comment #19</a>)
<span class="quote">&gt; Publishing failed
&gt;   Error copying file to
&gt; D:\wtp\M0217_1228\eclipse\workspace15\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\webapps\tc55b\WEB-INF\lib\saaj.jar:
&gt; Error deleting
&gt; D:\wtp\M0217_1228\eclipse\workspace15\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\webapps\tc55b\WEB-INF\lib\saaj.jar
&gt;       java.lang.Exception: Error deleting
&gt; D:\wtp\M0217_1228\eclipse\workspace15\.metadata\.plugins\org.eclipse.wst.server.core\tmp1\webapps\tc55b\WEB-INF\lib\saaj.jar
&gt;       at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)</span >


In this particular project, how is WEB-INF/lib/saaj.jar configured into the project ?  Can you quote the Eclipse project config files that link it in (just trying to get a picture of your project).


* Is it a static JAR copied into the WebContent/WEB-INF/lib directory ?

* Is it a linked JAR and configured in .classpath config file ?

* Is it an exported JAR from another project and that project is configured in .project, .classpath and .settings/.component config files ?

* Does it have a special handler that exports it into the project in some other way (a but like J2EE Utility Projects do) ?


The reason I ask if you mention the Web Service wizards are editing the configuration of projects on behalf of the developer, I'm trying to establish the nature of this re-configuration.

Your comment indicates that an saar.jar should have published cleanly from the previous publish operation.  So maybe some areas to investigate are a modification event propagating from somewhere (altering the resource unecessasily) or jst.server is calculating its publish deltas incorrectly and over publishing files.


Would I be correct in saying you have two TC runtime instances active at the same time ?  Or do you have one TC runtime instance and two web-apps deployed ?  The reason I ask is I can see tmp1 in use in the path.


I think my proposal in my previous comment will address problems on Win32 where WEB-INF/classes/**/*.class and *.jsp files are involved, as I think those problems are momentry clashing with TC access to load those files.  JAR files however maybe caused by persisting system mmap() access leading to locking, this is a form of caching.


Within the TC documentation it is mentioned that Xerces uses getResource() method in such a way to make the JVM attempts to cache the access (and cause locking to occur).  Maybe your Web Services make extensive use of similar mechanisms (that you may not have any control over) and this is why you are being stung more than most.
</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-28 00:21:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">Fix (publishing trying multiple times before failing in case server has the file locked) is provided via <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED FIXED - PublishUtil.createZipFile() has problem deleting file"
   href="show_bug.cgi?id=125524">bug 125524</a>.

*** This bug has been marked as a duplicate of <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED FIXED - PublishUtil.createZipFile() has problem deleting file"
   href="show_bug.cgi?id=125524">125524</a> ***</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-02 13:39:17 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm still seeing similar publish problem with the WTP 1.5 0518 driver.  Here's the error:

Publishing failed
  Error copying file WEB-INF\classes\com\ibm\wsm\samples\retail\ec\EnterpriseCustomer.class: Could not replace with temp file D:\rad7\0530_0247\install\workspaceSUN0602b\.metadata\.plugins\org.eclipse.jst.server.core\tmp38834.class.

This happens in a scenario where the Tomcat 5.5 server had just been newly added and the Web module has just been added to the server.  After I dismiss the error dialog, the Web module has been added to the server successfully.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-06 11:15:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">1) Is this during the first copy of the module to the server, or a subsequent publish?
2) Can you check whether the following file exists within the published webapp:
com\ibm\wsm\samples\retail\ec\EnterpriseCustomer.class?
3) Is this problem reproducable? Can you provide a testcase?

Checking out the error message, it has tried to delete EnterpriseCustomer.class from the published webapp (if it existed) and this appears to have worked. However, it was unable to move the tempfile (containing new contents) into its place.</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-08 17:13:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm getting this problem again with the WTP 1.5 RC4 driver.  It always happens on a subsequent publish to the server.  So the class already exist in the .metadata\org.eclipse.wst.server.core directory.  I can also see the temp file in the org.eclipse.jst.server.core directory.

When I get this error:
Publishing failed
  Error copying file WEB-INF\classes\echo\EchoProxy.class: Could not replace with temp file D:\eclipse32RC3\eclipse\runtimeworkspace_wtp0606a\.metadata\.plugins\org.eclipse.jst.server.core\tmp10349.class.

I was able to find and delte the WEB-INF\classes\echo\EchoProxy.class and replace with \eclipse\runtimeworkspace_wtp0606a\.metadata\.plugins\org.eclipse.jst.server.core\tmp10349.class manually and rename it to EchoProxy.class.

Unfortunately, this problem is not reproducible everytime.  I have seen it a few times in these couple of weeks though.
</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-07-11 14:34:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Can't create buttom up web service when &quot;Run modules directly from workspace&quot; is unchecked"
   href="show_bug.cgi?id=123908">Bug 123908</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-08-18 15:32:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">Can anyone still reproduce this? Given the other fixes and attempts to bend over backwards when the server has files locked, I have not seen or heard of this bug recently. Unless someone can respond with a failure on a recent 1.5.1 build I would like to close this one.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-05 09:40:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">Closing (again) since nobody has responded.

As noted above, unless there is a minor bug in implementation I think we've done all we can and users should not hit this problem anymore. The publishing code catches cases of locked files and tries either switching file handles instead of removing the old file or waiting and trying again. Error messages have been improved and if anyone still hits this it is most likely that the server truly does have the file locked and there is no way to replace it.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kathy Chan</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kathy&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kathy&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-22 10:42:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">Have not seen the problems lately.  Thanks Tim!</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tim deBoer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=deboer&#64;redhat.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=deboer&#64;redhat.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-26 13:03:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">Closing.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Williams</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=david_williams&#64;acm.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=david_williams&#64;acm.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-27 09:06:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">This is part of a &quot;mass update&quot; where bugs showing &quot;fixed&quot; between 7/1/2006 and 9/27/2006 are assumed fixed in WTP 1.5.1. feel free to change the target milestone if you know a more accurate setting. </pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=120709#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wayne Moore</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wayne&#64;kotega.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wayne&#64;kotega.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-01-12 09:29:25 EST
        </span>

      </div>




<pre class="bz_comment_text">I have been experiencing this problem with the Eclipse 3.2.1 + WTP 1.5.2 - After much fiddling, trying multiple versions of various pieces of software I discovered that it was my installed JDK version that was the problem.  Eclipse was running on  1.5.0_5.  The moment I installed 1.5.0_10 all these problems went away.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=120709">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=120709">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=120709">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=120709&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=120709" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>