<!DOCTYPE html>
<html lang="en">
  <head>
    <title>200207 &ndash; [javadoc] Incorrect flagging of &#64;see as malformed javadoc</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "200207 – [javadoc] Incorrect flagging of \x40see as malformed javadoc",
                             "show_bug.cgi?id=200207" );
        document.title = "200207 – [javadoc] Incorrect flagging of \x40see as malformed javadoc";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "200207 – [javadoc] Incorrect flagging of \x40see as malformed javadoc", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_CLOSED
                 bz_product_JDT
                 bz_component_Core
                 bz_bug_200207 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;200207</span>

        <span id="subtitle" class="subheader">[javadoc] Incorrect flagging of &#64;see as malformed javadoc</span>

        <span id="information" class="header_addl_info">Last modified: 2020-02-14 20:31:32 EST</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=200207&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=200207" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2020-02-14 20:31:32">
  <input type="hidden" name="id" value="200207">
  <input type="hidden" name="token" value="1629869851-yOgRzJTug9Xv-IlfOpuhpY05l8Y7NB5MrDHiDApwDcs">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=200207"><b>Bug&nbsp;200207</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[javadoc] Incorrect flagging of &#64;see as malformed javadoc</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[javadoc] Incorrect flagging of &#64;see as malformed javadoc
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[javadoc] Incorrect flagging of \x40see as malformed javadoc' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">CLOSED
          WONTFIX
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >JDT

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=JDT"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Core

  (<a href="buglist.cgi?component=Core&amp;product=JDT&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.3 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=200207#vote_200207">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'jdt-core-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>stalebug  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2007-08-16 11:56 EDT by <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2020-02-14 20:31 EST
      (<a href="show_activity.cgi?id=200207">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="frederic_fusier">frederic_fusier</option>
                <option value="jarthana">jarthana</option>
                <option value="markus.kell.r">markus.kell.r</option>
                <option value="srikanth_sankaran">srikanth_sankaran</option>
                <option value="tjwatson">tjwatson</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=101724"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">[proposed patch + test case] on top v_868</span></b></a>

          <span class="bz_attach_extra_info">
              (5.26 KB,
                patch)

            <br>
            <a href="#attach_101724"
               title="Go to the comment associated with the attachment">2008-05-23 09:13 EDT</a>,

            <span class="vcard"><span class="fn">Eric Jodet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_jodet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_jodet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=101724&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=101724&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=129193"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Proposed patch</span></b></a>

          <span class="bz_attach_extra_info">
              (19.35 KB,
                patch)

            <br>
            <a href="#attach_129193"
               title="Go to the comment associated with the attachment">2009-03-18 07:12 EDT</a>,

            <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=129193&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=129193&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=130273"
               title="View the content of the attachment">
          <b>Proposed patch</b></a>

          <span class="bz_attach_extra_info">
              (8.30 KB,
                patch)

            <br>
            <a href="#attach_130273"
               title="Go to the comment associated with the attachment">2009-03-30 12:44 EDT</a>,

            <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=130273&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=130273&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (2)
            <a id="view_all" href="attachment.cgi?bugid=200207&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=200207&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=200207&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-16 11:56:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">Build: 3.3 final

Set the &quot;Malformed Javadoc&quot; compiler warning to &quot;Error&quot;. Create the following CU:

/**
 * &#64;see &quot;Alice
 *      in Wonderland&quot;
 */
public class A {
}

The &#64;see gets flagged as malformed javadoc, but it is properly formed (see reference in <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Malformed javadoc tags"
   href="show_bug.cgi?id=200202">bug 200202</a>).</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-08-16 12:18:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">Scanner throws an InvalidInpuException for non-terminated strings, so we have to handle this specific test case in AbstractCommentParser.parseReference() method...
</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric Jodet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_jodet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_jodet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-05-23 09:13:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=101724&amp;action=diff" name="attach_101724" title="[proposed patch + test case] on top v_868">attachment 101724</a> <a href="attachment.cgi?id=101724&amp;action=edit" title="[proposed patch + test case] on top v_868">[details]</a></span>
[proposed patch + test case] on top v_868</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-09-12 05:24:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Comment on <span class="bz_obsolete"><a href="attachment.cgi?id=101724&amp;action=diff" name="attach_101724" title="[proposed patch + test case] on top v_868">attachment 101724</a> <a href="attachment.cgi?id=101724&amp;action=edit" title="[proposed patch + test case] on top v_868">[details]</a></span>
[proposed patch + test case] on top v_868

The patch is not 100% complete.

Initial test case is not tested and unfortunately warns about a missing reference!

The following test case:
/**
 * &#64;see &quot;Unterminated
 * &#64;see string&quot;
 */
public class X {
}
shows two different warnings although I would expect only one...</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-18 07:12:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=129193&amp;action=diff" name="attach_129193" title="Proposed patch">attachment 129193</a> <a href="attachment.cgi?id=129193&amp;action=edit" title="Proposed patch">[details]</a></span>
Proposed patch

Also made one change to the test case JavadocBugsTest.testBug207765(). The test expects two different warning messages for the following cases.
/**
 * {&#64;link &quot;<a href="http://www.eclipse.org/">http://www.eclipse.org/</a>}
 * 
 * &#64;see &quot;<a href="http://www.eclipse.org/">http://www.eclipse.org/</a>
 */ 

While the first one gets &quot;Invalid Reference&quot;, the second one gets &quot;Javadoc: Invalid URL reference. Double quote the reference or use the href syntax&quot;. The patch has made the warning message consistent on both scenarios and hence the test case modified accordingly.</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-19 14:24:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=200207#c4">comment #4</a>)
<span class="quote">&gt; Created an attachment (id=129193) [details]
&gt; Proposed patch
&gt; 
&gt; Also made one change to the test case JavadocBugsTest.testBug207765(). The test
&gt; expects two different warning messages for the following cases.
&gt; /**
&gt;  * {&#64;link &quot;<a href="http://www.eclipse.org/">http://www.eclipse.org/</a>}
&gt;  * 
&gt;  * &#64;see &quot;<a href="http://www.eclipse.org/">http://www.eclipse.org/</a>
&gt;  */ 
&gt; 
&gt; While the first one gets &quot;Invalid Reference&quot;, the second one gets &quot;Javadoc:
&gt; Invalid URL reference. Double quote the reference or use the href syntax&quot;. The
&gt; patch has made the warning message consistent on both scenarios and hence the
&gt; test case modified accordingly.
&gt; </span >
Hmm, unfortunately while talking about this patch, I missed the fact that using a specific scanner for the JavadocParser would introduce a different behavior while scanning comment through the comment parsers hierarchy.
1) CompletionJavadocParser has its own CompletionScanner and this hierarchy cannot be changed, hence you would also need to subclasse the CompletionScanner and duplicating code.
2) ASTConverter uses a &quot;pure&quot; Scanner and uses it as the scanner of the DocCommentParser, hence the parse of DOM/AST comment will be slightly different than the compiler...

There's also another annoying point in this patch, I do not think the parser field in the comment scanner was a good idea. This is a design breakage as none of existing scanner knows their parser.
As the parser already points on its scanner it would make a circular reference which is never a good thing to have...

So, I'm afraid that for these two reasons, this patch won't be valid and that the solution should be applied locally in the AbsractCommentParser using a specific readStringLiteral() method...
</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-26 07:54:10 EDT
        </span>

      </div>




<pre class="bz_comment_text">After another look at the problem, there can be more than one approach to solve this problem and I am listing them here and to some extent their benefits and shortcomings.

1. The approach taken in the second patch by me. As Fred mentioned, the fact that CompletionJavadocParser also needs to use the same code is one of the issue. My suggestion to over come that is to add code for parsing the string literal for code and comments in two different methods as follows.

public int scanStringLiteral() {
  // This would be the extraction from the '&quot;' case of Scanner.getNextToken()
}

public int scanJavadocStringLiteral() {
  // The new code to parse string literals in javadoc comments to go here.
  // This will look similar to the code in CommentScanner in the previous patch
}

All the Scanner except the CompletionJavadocParser and AbstractCommentParser will continue to use the scanStringLiteral() method while these two can use scanJavadocStringLiteral with the help of something like this. This 

//this.scanner = new CompletionScanner(ClassFileConstants.JDK1_3);
  this.scanner = new CompletionScanner(ClassFileConstants.JDK1_3) {
	protected int scanString() throws InvalidInputException {
		return scanJavadocStringLiteral();
	}
};

However, the only question is with the DocCommentParser, which gets another instance of Scanner from AstConverter. Now the question is this done for any particular purpose. But what it does is, it makes it impossible for us to use a specific Scanner for DocCommentParser. Unless there is a particular reason, this looks like a design flaw to me.

2. Let the Scanner throw the exception on new line, as it is doing right now and catch the exception in the AbstractCommentParser and handle the specific non exceptional cases. My concern with this is, we will end up allowing an exception and then recovering, while the whole scenario is a valid one. Instead we should be looking at avoiding the exception itself.

3. The AbstractCommentParser can directly implement the functionality(scanJavadocStringLiteral) to completely handle the string literals in itself, of course with some help from the Scanner. This would mean that the the parse itself is taking up some responsibility of scanning from the Scanner. Just like the second approach the parser would be doing something that in first place should be done by the scanner.

Both the last two approaches pose a problem of having to keep the parser and scanner in sync, if we want to use the methods in scanner (such as reading Unicode, handling escape characters etc)

If we have to take the first approach, then it's more than a simple change. The other two appoached will also have some complex code, esp. to keep the scanner in sync with the parser.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-26 12:36:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=200207#c6">comment #6</a>)
<span class="quote">&gt; 1...</span >

IMO, even you'll find a pretty solution to implement this new design, the changes look now too risky at this late stage of the 3.5 development. We can keep your thoughts about this in our mind for the next release. Perhaps open a new bug to track this work?

<span class="quote">&gt; 2. Let the Scanner throw the exception on new line, as it is doing right now
&gt; and catch the exception in the AbstractCommentParser and handle the specific
&gt; non exceptional cases. My concern with this is, we will end up allowing an
&gt; exception and then recovering, while the whole scenario is a valid one. 
&gt; Instead we should be looking at avoiding the exception itself.
&gt; </span >
I agree on this point. Get the exception although this is a correct Javadoc syntax is somehow inefficient and should be fixed while fixing the original issue

<span class="quote">&gt; 3. The AbstractCommentParser can directly implement the
&gt; functionality(scanJavadocStringLiteral) to completely handle the string
&gt; literals in itself, of course with some help from the Scanner. This would mean
&gt; that the the parse itself is taking up some responsibility of scanning from 
&gt; the Scanner. Just like the second approach the parser would be doing 
&gt; something that in first place should be done by the scanner.
&gt; </span >
I disagree on this point. The original design intends to parse the comment character per character as the comment contents is never supposed to be valid Java code, hence should not need to use the scanner which is dedicated to read Java tokens. The use of the scanner was introduced to save time while parsing references as they are supposed to be valid Java single or qualified references. So, I do not think that changing this design is really a good thing to do and even if it would, as I said for 1), it's surely not the time to do this kind of change (a M1 milestone would definitely be better...).

<span class="quote">&gt; Both the last two approaches pose a problem of having to keep the parser and
&gt; scanner in sync, if we want to use the methods in scanner (such as reading
&gt; Unicode, handling escape characters etc)
&gt; </span >
Unicode character is already handled by the parser in the readChar() method. The only additional point to do by the parser is to handle the escape characters...

<span class="quote">&gt; If we have to take the first approach, then it's more than a simple change. 
&gt; The other two apporaches will also have some complex code, esp. to keep the 
&gt; scanner in sync with the parser.</span >
&gt;
I do not think it's true. Keeping the scanner in synch with the parser (and vice-versa) is extremely easy and is already done on several places through the parser hierarchy. It's often enough to make the scanner current position equals to the parser index position (and vice-versa)... I agree that in certain circumstances, there's a little bit more to do (e.g. reset the parser current token type, initialize the scanner start position, etc.) but this is only fields initialization and never exceed two or three lines...
</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-30 12:44:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=130273&amp;action=diff" name="attach_130273" title="Proposed patch">attachment 130273</a> <a href="attachment.cgi?id=130273&amp;action=edit" title="Proposed patch">[details]</a></span>
Proposed patch

This patch contains the fix with approach 3, with all the fix code in AbstractCommentParser.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-31 06:00:49 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=200207#c8">comment #8</a>)
<span class="quote">&gt; Created an attachment (id=130273) [details]
&gt; Proposed patch
&gt; 
&gt; This patch contains the fix with approach 3, with all the fix code in
&gt; AbstractCommentParser.
&gt; </span >
Several points on this patch:

1) I don't think this is a good thing to change the readToken() method in ACP, it would be better to avoid to slow down all callers of this method although this peculiar behavior is only requested while parsing a reference. So, the search for the first character should be done inside parseReference() method, hence, the test for the &#64;see or &#64;link tag would not be necessary. Do not forget that additional work, hence slow down the compiler, should always be done only when necessary...

2) Method scanJavadocString():
a) I don't like the name, this is a parser and all methods start with 'parse' or 'read'. So, readTokenString() seems to be more appropriate
b) I disagree on InvalidInputException usage. This method neither need to throws it (callers do not expect an exception to occur) nor need to throw any (it's inefficient to throw an exception and catch it to make specific things). Catch the exception of the Scanner.scanEscapeCharacters(), continue until the end of the line and return an TerminalTokenERROR should be enough...
c) The algorithm is missing some test cases (see 4-b) below)

3) You forget that this issue also must be fixed while parsing href reference (e.g. &#64;see &lt;a href=&quot;<a href="http://www.eclipse.org">http://www.eclipse.org</a>&quot;&gt;Eclipse&lt;/a&gt;). So, the readTokenString() method should also be called from parseHref() method (do not forget that you also need to consume whitespaces before).

4) There are some points still not addressed with your patch:
a) The string in the DOM/AST node is not correct (you need to install the JDT/UI ASTView from <a href="http://www.eclipse.org/jdt/ui/update-site">http://www.eclipse.org/jdt/ui/update-site</a> to show it...)
b) There are still some test cases where the compiler reports warnings although the Javadoc tool does not:

public interface X06 {

	/**
	 * &#64;see &quot;Example with &quot;quotes&quot; inside quotes&quot;
	 * &#64;see &quot;Example with &quot;&quot;double-quotes&quot;&quot; inside quotes&quot;
	 */
	void foo();
}

public interface X07 {

	/**
	 * &#64;see &quot;Example with &quot;quotes&quot; inside quotes&quot; and text after
	 */
	void foo();
}

public interface X08 {

	/**
	 * &#64;see &quot;Example with &quot;quotes&quot; inside quotes&quot;
	 * and text on line after&quot;
	 */
	void foo();
}

Note that the Javadoc tool also reports an error on X07 but here, this is the compiler message which is not correct: it underline text'quotes&quot; inside quotes&quot; and text after' as unexpected text althouth the Javadoc tool only complain about an unterminated string...

It looks like the javadoc tool behavior is quite simple, when the first character after the &#64;see tag is a quote, then read until the next tag or the end of the javadoc to see if the last character is a quote. Otherwise report an unterminated string error.

For inline tag, it looks for the closing brace instead of next tag or javadoc end...

public interface X09 {

	/**
	 * {&#64;link &quot;Example with &quot;quotes&quot; inside quotes&quot;
	 * and text on line after&quot;}
	 */
	void foo();
}

public interface X09b {

	/**
	 * {&#64;link &quot;Example with &quot;quotes&quot; inside quotes&quot;
	 * and text on line after}
	 */
	void foo();
}

X09 is valid but not X09b which complains for:
warning - Tag &#64;link: no final close quote: &quot;&quot;Example with &quot;quotes&quot; inside quotes&quot;
 and text on line after&quot;

</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-02 03:51:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">Fred,

On Point 3:
Javadoc behaves in a completely different way when it comes to href. Javadoc doesn't really care what goes inside the anchor tag. It only validates the '&lt;'s and '&gt;'s. For e.g. 

	/**
	 * (&#64;link &lt;a href=Hyperlink&quot;&quot;&#64;#{}Invalid
	 * &gt;Invalid&lt;/a&gt;} 
	 *
	 * &#64;see &lt;a href=www.eclipse.org&gt;Eclipse&lt;/a&gt;
	 */ 
public class InlineTags {}

Both the cases(one with multiple quotes and one without any quotes) are accepted by Javadoc. If we are fine with this behavior, then we should change parseHref in such a way that it doesn't look for a StringLiteral token. I was wondering if you are aware of any javadoc bugs reported on this?

On point 4:
There is least one test case (JavadocBugsTest.testBug76324string) that failed inline tag {&#64;link &quot;invalid string&quot;&quot;} and there were also test cases that would allow quote as escape sequence. Putting these together, I guess, our understanding of this particular scenario has been wrong all along. And hence this behavior and the involved test cases will have to be corrected as well.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-02 03:58:02 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=200207#c10">comment #10</a>)
<span class="quote">&gt; Fred,
&gt; 
&gt; On Point 3:
&gt; </span >
By the way, following is the W3C specification on anchor tags and attributes. Though it's recommended to have attribute values (such as href) with single/double quotes, one can also use attributes without quotes as well. So, even if we want to warn the users about missing quotes, we should still allow single quotes. And this means that the current parseHref that looks for TokenNameStringLiteral, which we know will allow only double quotes, will have to be corrected one way or the other.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-02 03:59:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">And here is the link on HTML spec.

<a href="http://www.w3.org/TR/REC-html40/intro/sgmltut.html#h-3.2.2">http://www.w3.org/TR/REC-html40/intro/sgmltut.html#h-3.2.2</a>
</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Frederic Fusier</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=frederic_fusier&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=frederic_fusier&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-02 04:29:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=200207#c10">comment #10</a>)
<span class="quote">&gt; Fred,
&gt; 
&gt; On Point 3:
&gt; Javadoc behaves in a completely different way when it comes to href. Javadoc
&gt; doesn't really care what goes inside the anchor tag. It only validates the '&lt;'s
&gt; and '&gt;'s. For e.g. 
&gt; 
&gt;         /**
&gt;          * (&#64;link &lt;a href=Hyperlink&quot;&quot;&#64;#{}Invalid
&gt;          * &gt;Invalid&lt;/a&gt;} 
&gt;          *
&gt;          * &#64;see &lt;a href=www.eclipse.org&gt;Eclipse&lt;/a&gt;
&gt;          */ 
&gt; public class InlineTags {}
&gt; 
&gt; Both the cases(one with multiple quotes and one without any quotes) are
&gt; accepted by Javadoc. If we are fine with this behavior, then we should change
&gt; parseHref in such a way that it doesn't look for a StringLiteral token. I was
&gt; wondering if you are aware of any javadoc bugs reported on this?
&gt; </span >
No, I'm not aware of bugs around this. I guess this is because this kind of reference is seldom used...

When I implemented this method, I initially thought that it was a good thing to be smarter than the Javadoc tool, but after time I realized that the specification was not enough precise to be sure of what is the best behavior and also that users rarely wants the compiler to report warnings that Javadoc tool does not...

So, the goal now is to behaves the closest as the Javadoc tool does (and not to write an HTML verifier). If its verification is minimal for href references, then I think we need to do the same, otherwise we would need to introduce a new preference to relax the extra verification done for this kind of reference.

However, be careful: it's not because the Javadoc tool does not raise any warning that it generates a valid href link. I agree that the string does not seem to be necessary, hence can be removed from the parseHref() method, but the 'a' tag name, 'href' and '=' sequence is necessary to build a valid link in the generated html page. So, this verification still needs to be done as it could be helpful for users to be warned that the written reference is not correct (confirmed by the fact that nobody complains about the current behavior)...

<span class="quote">&gt; On point 4:
&gt; There is least one test case (JavadocBugsTest.testBug76324string) that failed
&gt; inline tag {&#64;link &quot;invalid string&quot;&quot;} and there were also test cases that would
&gt; allow quote as escape sequence. Putting these together, I guess, our
&gt; understanding of this particular scenario has been wrong all along. And hence
&gt; this behavior and the involved test cases will have to be corrected as well.
&gt; </span >
Yes, I missed this peculiar behavior since day 1. So, all existing test cases using string references surely need to be modified accordingly...
</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jay Arthanareeswaran</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jarthana&#64;in.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jarthana&#64;in.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-02 06:25:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=200207#c7">comment #7</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi?id=200207#c6">comment #6</a>)
&gt; &gt; 1...
&gt; 
&gt; IMO, even you'll find a pretty solution to implement this new design, the
&gt; changes look now too risky at this late stage of the 3.5 development. We can
&gt; keep your thoughts about this in our mind for the next release.</span >

As the ongoing investigation is still uncovering more scenarios and corner cases that need to addressed, I am inclined to agree that it is beginning to look to risky at this stage. Deferring to post 3.5.</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=200207#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2020-02-14 20:31:32 EST
        </span>

      </div>




<pre class="bz_comment_text">This bug hasn't had any activity in quite some time. Maybe the problem got resolved, was a duplicate of something else, or became less pressing for some reason - or maybe it's still relevant but just hasn't been looked at yet. As such, we're closing this bug.

If you have further information on the current state of the bug, please add it and reopen this bug. The information can be, for example, that the problem still occurs, that you still want the feature, that more information is needed, or that the bug is (for whatever reason) no longer relevant.

--
The automated Eclipse Genie.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=200207">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=200207">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=200207">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=200207&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=200207" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>