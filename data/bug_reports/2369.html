<!DOCTYPE html>
<html lang="en">
  <head>
    <title>2369 &ndash; [Workbench] Would like to be able to save workspace without exiting (1GEUMKI)</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "2369 – [Workbench] Would like to be able to save workspace without exiting (1GEUMKI)",
                             "show_bug.cgi?id=2369" );
        document.title = "2369 – [Workbench] Would like to be able to save workspace without exiting (1GEUMKI)";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "2369 – [Workbench] Would like to be able to save workspace without exiting (1GEUMKI)", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_VERIFIED
                 bz_product_Platform
                 bz_component_UI
                 bz_bug_2369 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;2369</span>

        <span id="subtitle" class="subheader">[Workbench] Would like to be able to save workspace without exiting (1GEUMKI)</span>

        <span id="information" class="header_addl_info">Last modified: 2018-11-22 07:39:43 EST</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=2369&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=2369" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2018-11-22 07:39:43">
  <input type="hidden" name="id" value="2369">
  <input type="hidden" name="token" value="1629850996-Dsyamp7zajM9XlcyGl2ldbjYV-pNYMjpxOV7WfGaT7Q">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=2369"><b>Bug&nbsp;2369</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[Workbench] Would like to be able to save workspace without exiting (1GEUMKI)</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[Workbench] Would like to be able to save workspace without exiting (1GEUMKI)
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[Workbench] Would like to be able to save workspace without exiting (1GEUMKI)' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">VERIFIED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >UI

  (<a href="buglist.cgi?component=UI&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>2.0 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">All
        All
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P5
       enhancement<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=2369">31 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=2369#vote_2369">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>4.3 M6 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'Platform-UI-Inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>patch  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >helpwanted

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (11)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paranoid People want File-&gt;Save Workspace -- no matter how little it does"
   href="show_bug.cgi?id=7346">7346</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Workbench] saving state and preferences"
   href="show_bug.cgi?id=27821">27821</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Request a &quot;Save State&quot; button feature"
   href="show_bug.cgi?id=39331">39331</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Workbench] When Eclipse crashes, set of open editors is lost"
   href="show_bug.cgi?id=72079">72079</a> <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - [Workbench] Periodic save of workspace state"
   href="show_bug.cgi?id=128347">128347</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [EditorMgmt] Persist set of open editors when an editor is opened (rather than on Platform Exit)"
   href="show_bug.cgi?id=203220">203220</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Preferences] Save preferences at timed intervals"
   href="show_bug.cgi?id=206364">206364</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse workspace state only saved on successful close of Eclipse"
   href="show_bug.cgi?id=332564">332564</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Workbench] Workbench windows' layout should be persisted for every change (sash resizes, detaching/attaching of views, moving views)"
   href="show_bug.cgi?id=337593">337593</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse UI gets nuked all the time."
   href="show_bug.cgi?id=344360">344360</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - save work place state frequently instead of only shutdown"
   href="show_bug.cgi?id=346229">346229</a> 
      </span>
      (<a href="buglist.cgi?bug_id=7346,27821,39331,72079,128347,203220,206364,332564,337593,344360,346229">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [Doc] Include description of new preference field"
   href="show_bug.cgi?id=400333">400333</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Workbench] must restart to active"
   href="show_bug.cgi?id=400334">400334</a> 
  </td>
  </tr>

    <tr>
      <th>&nbsp;</th>

      <td id="show_dependency_tree_or_graph">
        Show dependency <a href="showdependencytree.cgi?id=2369&amp;hide_resolved=1">tree</a>

      </td>
    </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2001-10-10 22:35 EDT by <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2018-11-22 07:39 EST
      (<a href="show_activity.cgi?id=2369">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>37 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="aegges">aegges</option>
                <option value="akiezun">akiezun</option>
                <option value="beth">beth</option>
                <option value="bflat1">bflat1</option>
                <option value="bugs">bugs</option>
                <option value="contact">contact</option>
                <option value="dak2009">dak2009</option>
                <option value="daniel_megert">daniel_megert</option>
                <option value="darryl">darryl</option>
                <option value="digulla">digulla</option>
                <option value="dperezcar">dperezcar</option>
                <option value="dpgross">dpgross</option>
                <option value="ebekker">ebekker</option>
                <option value="eclipse-bugs">eclipse-bugs</option>
                <option value="eclipse.dserodio">eclipse.dserodio</option>
                <option value="eclipsebugs">eclipsebugs</option>
                <option value="eric.estievenart">eric.estievenart</option>
                <option value="fawad">fawad</option>
                <option value="fillg1">fillg1</option>
                <option value="fwdeible">fwdeible</option>
                <option value="ggb667">ggb667</option>
                <option value="harp">harp</option>
                <option value="jalameda">jalameda</option>
                <option value="jamesblackburn+eclipse">jamesblackburn+eclipse</option>
                <option value="kenny">kenny</option>
                <option value="lmandel">lmandel</option>
                <option value="mark">mark</option>
                <option value="Matthew_Hatem">Matthew_Hatem</option>
                <option value="mccull1">mccull1</option>
                <option value="remy.suen">remy.suen</option>
                <option value="saavyone">saavyone</option>
                <option value="sampo.niskanen">sampo.niskanen</option>
                <option value="steve_leach">steve_leach</option>
                <option value="thiemanu">thiemanu</option>
                <option value="trishume">trishume</option>
                <option value="wayne.beaton">wayne.beaton</option>
                <option value="yuriy">yuriy</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ><ul class="bug_urls">
          <li><img src="//dev.eclipse.org/images/bugs-16x16.png"> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Workbench] Workbench windows' layout should be persisted for every change (sash resizes, detaching/attaching of views, moving views)"
   href="show_bug.cgi?id=337593">337593</a>
          </li>
          <li><img src="//dev.eclipse.org/images/bugs-16x16.png"> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Second Properties View randomly closed"
   href="show_bug.cgi?id=541438">541438</a>
          </li></ul>

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=221668"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch to auto-save the workbench editors and layout every 10 minutes. Prevents crashes from losing workspace state.</span></b></a>

          <span class="bz_attach_extra_info">
              (7.16 KB,
                patch)

            <br>
            <a href="#attach_221668"
               title="Go to the comment associated with the attachment">2012-09-28 14:20 EDT</a>,

            <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=221668&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=221668&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=221669"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">mylyn/context/zip</span></b></a>

          <span class="bz_attach_extra_info">
              (257.54 KB,
                application/octet-stream)

            <br>
            <a href="#attach_221669"
               title="Go to the comment associated with the attachment">2012-09-28 14:20 EDT</a>,

            <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=221669&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=224930"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Updated patch to auto-save workbench.</span></b></a>

          <span class="bz_attach_extra_info">
              (109.32 KB,
                patch)

            <br>
            <a href="#attach_224930"
               title="Go to the comment associated with the attachment">2012-12-19 15:31 EST</a>,

            <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=224930&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=224930&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=226537"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Pull request as patch</span></b></a>

          <span class="bz_attach_extra_info">
              (107.45 KB,
                patch)

            <br>
            <a href="#attach_226537"
               title="Go to the comment associated with the attachment">2013-02-04 15:35 EST</a>,

            <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=226537&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=226537&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=226711"
               title="View the content of the attachment">
          <b>Clean up and save the workbench model</b></a>

          <span class="bz_attach_extra_info">
              (47.17 KB,
                patch)

            <br>
            <a href="#attach_226711"
               title="Go to the comment associated with the attachment">2013-02-07 11:14 EST</a>,

            <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=226711&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=226711&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (4)
            <a id="view_all" href="attachment.cgi?bugid=2369&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=2369&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=2369&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2001-10-10 22:35:04 EDT
        </span>

      </div>




<pre class="bz_comment_text">Currently, there is no way to perform a full save of the workspace without exiting and restarting, which can take a while.
I would like a menu option allowing to perform a full save action when I feel it necessary. Then I can zip the corresponding
folder manually. Ideally a save-as would be even better.

NOTES:</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">DJ Houghton</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dj.houghton&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dj.houghton&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2001-10-29 18:23:20 EST
        </span>

      </div>




<pre class="bz_comment_text">PRODUCT VERSION:
SDK 119

</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Haaland</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Kevin_Haaland&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Kevin_Haaland&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2002-02-12 07:05:00 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Paranoid People want File-&gt;Save Workspace -- no matter how little it does"
   href="show_bug.cgi?id=7346">Bug 7346</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Haaland</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Kevin_Haaland&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Kevin_Haaland&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2002-02-12 07:06:26 EST
        </span>

      </div>




<pre class="bz_comment_text">This is an interesting feature request. Defer until time and resources are 
available to implement and verify usability. </pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Randy Giffen</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Randy_Giffen&#64;oti.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Randy_Giffen&#64;oti.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2002-08-08 10:56:19 EDT
        </span>

      </div>




<pre class="bz_comment_text">Reopen for investigation</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kevin Haaland</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Kevin_Haaland&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Kevin_Haaland&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2002-09-03 12:50:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">Need to revisit this. Perceived startup performance would be better if less 
state was persisted. Users also get confused about what &quot;exactly&quot; gets saved in 
their workspace and when it happens. (eg. perspective customization, preference 
changes etc).

Be sure to consider case where user does not exit cleanly out of eclipse. 

Core snapshots. </pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Kenny MacLeod</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=kenny&#64;chasmcity.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=kenny&#64;chasmcity.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-02-28 04:09:23 EST
        </span>

      </div>




<pre class="bz_comment_text">I would like to see this implemented because I'm cursed with a rather unstable NT
system which blue-screens regularly.  It's not uncommon for Eclipse to get itself
into a real mess when restarted after the crash, because its workspace snapshot
is completely out of date.  So manual save-workspace would be a considerable 
time-saver.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Daniel Serodio</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel&#64;checkforte.com.br" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel&#64;checkforte.com.br" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-03-10 19:37:01 EST
        </span>

      </div>




<pre class="bz_comment_text">I would also like to see this implemented because Eclipse &quot;freezes&quot; lots of
times, and I have to restart it, sometimes several times a day.
In my case, I'm running Eclipse milestone builds on Linux with GTK 2.2.1.</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-06-25 12:41:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Request a &quot;Save State&quot; button feature"
   href="show_bug.cgi?id=39331">Bug 39331</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gabriele Garuglieri</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=gabriele.garuglieri&#64;infoblu.it" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=gabriele.garuglieri&#64;infoblu.it" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-02 05:34:50 EDT
        </span>

      </div>




<pre class="bz_comment_text">Add my vote too for this.
Any hope to have it in 3.0 final?
By the way, what is &quot;Workspace save interval&quot; option in workbench preference
page meant for, if, after any crash, eclipse restarts with the state it had at the
last clean exit?</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Van Meekeren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=michaelvanmeekeren&#64;yahoo.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=michaelvanmeekeren&#64;yahoo.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-04-14 10:09:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">The following bug does not add a menu in the workbench, but it does provide API
to do this for applications wishing to save state, does this help?

<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [RCP] Missing save/restore capabilities of workbench state"
   href="show_bug.cgi?id=85373">bug 85373</a></pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Van Meekeren</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=michaelvanmeekeren&#64;yahoo.ca" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=michaelvanmeekeren&#64;yahoo.ca" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2005-09-09 08:18:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Workbench] saving state and preferences"
   href="show_bug.cgi?id=27821">Bug 27821</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-13 15:10:44 EDT
        </span>

      </div>




<pre class="bz_comment_text">We currently have an auto save option (which is on by default).</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Kiezun</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=akiezun&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=akiezun&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-13 15:22:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">Tod, where is that option located?
AFAICT it is not the Window &gt; Peeferences &gt; General &gt; Workspace &gt; Workspace save interval because that one is a 'core shaphot'.

There seems to be no way to save the UI setup in particular. If your eclipse crashes, then after restart you need to reset everything anew (reopen editors, reposition views etc).

</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Kiezun</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=akiezun&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=akiezun&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-13 15:27:55 EDT
        </span>

      </div>




<pre class="bz_comment_text">see also (sort of related) <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [Preferences] [WorkingSets] [Import/Export] Save perspective layouts in preferences"
   href="show_bug.cgi?id=76850">bug 76850</a> - you can't even export the UI layout</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-13 15:32:53 EDT
        </span>

      </div>




<pre class="bz_comment_text">Adam there is no way to do it for the whole workbench - you have to assume that views are keeping thier state when they change (which is frequently an incorrect assumption)</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Adam Kiezun</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=akiezun&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=akiezun&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-13 15:36:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Tod, But as far as I understand it's the platform that controls and knows the views'/editors locations/visibility.
It's the locations I talk about here, not the internal state of a view - that is understandably outside of the platform's control.</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-14 22:07:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Workbench] When Eclipse crashes, set of open editors is lost"
   href="show_bug.cgi?id=72079">Bug 72079</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-04-15 15:27:04 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - [Workbench] Periodic save of workspace state"
   href="show_bug.cgi?id=128347">Bug 128347</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-05-12 00:01:26 EDT
        </span>

      </div>




<pre class="bz_comment_text">This feature gets my vote.  But I have throughts more over on where this would be leading.

I regularly have Eclipse open permanently on my virtual desktop under Linux/KDE.  The only reason I restart it is when it crashes or locks up.  Currently I am happy with the reliability as my Eclipse will crash maybe once a week, however as you can imagine the state that gets opened is what I was working on the last time I cleanly shutdown (at least a week old).

To make things really cool it would be nice if there is a clean/dirty exit flag in the state info.  So eclipse can detect if it crashed, by marking it as dirty while Eclipse is started and only the File -&gt; Exit function during shutdown marks it clean.

Then maybe as a feature on from this there was an automatic mode which detected it crashed before (when you next start it) and it offers to:

* Restore all state info

* Restore all state info (except editor views)

* Restore default state, ignores all state info and will clobber it next time state info is saved, at next exit/explict save (maybe this is not needed, or maybe this is like -clean, but the purpose of this function is a get out of jail option for the possibility of a corrupted state file from causing other bugs to get triggered that make Eclipse die during startup.  Maybe that clean/dirty flag should be tri-state to also record if Eclipse was still booting up at the time it last crashed out.


Then my next feature request would be automatic periodic intelligent background state storing, at least automatic updating of current open editors list.  As <a href="show_bug.cgi?id=2369#c9">Comment #9</a> points out there is some form of value in platform perferences, which I have set to 5 mins, but it doesn't work as I would expect.

The current situation is a PITA at worst.
</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-21 15:35:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">The question for me is if we should save the workbench or the workspace only.

Saving the workspace is pretty painless (most of you already do it every 5 minutes by default - see the Workspace preference page) but saving the workbench requires us shutting down and restarting the workbench windows so that any state plug-ins save on shutdown is saved (like when you change the positioning of the editor tabs).

The question for is it better to save more by restarting the workbench or to be less &quot;in your face&quot; but quietly saving the workspace in the background?

Personally I find the latter more interesting but you are the ones voting so please let me know your preference here before I proceed.

</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2007-06-13 16:37:13 EDT
        </span>

      </div>




<pre class="bz_comment_text">There are currently no plans to work on this but I would be happy to look at a contribution.</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mike Saavedra</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=saavyone&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=saavyone&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2008-07-11 11:41:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">I vote for this bug as well. I love eclipse, but it does crash... for any number of reasons. I rarely restart on my own, so when it does crash, I get an old workbench. I would love for it do auto-save the workbench as well as the workspace every n minutes in the background. It would also be nice to have a menu item to manually save the workbench. When I start it up I want everything just as it was, editors, perspectives, undo history, as much as possible. I apologize for making such requests with no real intention of contributing myself. I really appreciate you contributors who are reading this, especially the one(s) who will eventually implement this.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Yuriy</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=yuriy&#64;metaweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=yuriy&#64;metaweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-02-10 14:04:01 EST
        </span>

      </div>




<pre class="bz_comment_text">+1 vote
the button for saving what is already saved every 5 minutes or so would NOT be much of a benefit.
eclipse of the whole computer crashing is the issue - then having to reopen the files etc. adds more pain</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-02-12 11:26:08 EST
        </span>

      </div>




<pre class="bz_comment_text">I don't want it to save files (like as per the File -&gt; Save action).  That is for the developer/user to make their choice as to when that occurs.

But I would like it to save a versioned Local History of a file periodically in the background.  This would mean producing an MD5/SHA1 or other checksum of the starting file (when it was first opened and each time it was saved with File -&gt; Save action).  This provides an absolute starting point to be able to trace history back to the original file.

Then keep the latest copy of open file data in some sort of private workspace/project area.  This is what would be periodically saved as per user preference we are talking about, 5 mins, 1 min, etc...  This is a bit like Microsoft Word temp files that are created when you open any document, in that file is also the redo/undo history of the changes that were made, this is allows MS Word to do &quot;automatic recovery of documents after a crash&quot;.

I would also appreciate that the list of currently opened editors also be updated through this mechanism.  This can be ontained by virtue of the files that are registered with local history via this mechanism.


When eclipse restarts or opens the file again it should check to see if a copy of that file has an entry in the Local History and offer solutions to that situation:

 * Open the file that was saved (ignore the history and throw the local history away).
 * Open the file that was saved and replace the editor contents with the more recent data from local history (this marks the file as edited but not yet saved with the &quot;*&quot; next to the file name).
 * If the copy on disc is newer and/or not the exact original copy the Local History started with then explain the findings to the user and offer to open both into 2 different editors, with the copy from local history not having any filename assigned to it but offering a default filename to Save As dialogs which would replace the original file.


I can not stress how important it is for all this stuff to happen asynchronously in the background, editing a file in eclipse and switching editors and opening a new file and saving a file already take long enough in eclipse that it can be painful at times and none of the above here needs to be done synchronously (i.e. don't hold up the GUI while doing it).
</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Axel Mueller</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=aegges&#64;web.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=aegges&#64;web.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-08-26 03:50:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">I would like this feature, too. I suspend my machine every day i.e. Eclipse is running for days/weeks w/o any shutdown/restart. Unfortunately, sometimes my computer crashes (when someone pulls the plug :) ). Then, Eclipse is in an old state after restart:
- opened editors I have worked on several days ago
- deleted bookmarks and user-defined tasks reappear (that is very annoying!)
- old error messages reappear
</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-08-26 08:15:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">We will consider contributions for this bug: <a href="http://wiki.eclipse.org/Platform_UI/How_to_Contribute">http://wiki.eclipse.org/Platform_UI/How_to_Contribute</a>

PW
</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Fran Deible</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=fwdeible&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=fwdeible&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-12-17 10:01:02 EST
        </span>

      </div>




<pre class="bz_comment_text">I am also working on a somewhat unstable OS installation and RAD installation that I cannot do anything about, the ability to save the workspace configuration manually would save me a great deal of time.  I am personally looking at saving the currently open files and set breakpoints, which are both lost upon crash.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sampo Niskanen</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sampo.niskanen&#64;iki.fi" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sampo.niskanen&#64;iki.fi" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-22 08:58:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">This is the most irritating missing feature in Eclipse for me.  Both at home and at work I never close Eclipse, and every time Eclipse or the system itself crashes the entire state is lost.  This really breaks the flow of programming.  I assume a very large number of developers never close it either.

When working on my laptop I just suspend it and remember what I was doing in Eclipse when I open it the next day.  If the battery happens to run out I always have a hard time getting back up to speed on whatever I was working on because the state has been lost.

This bug has been open almost nine years(!), can't anything be done for it?  I assume the workspace saving is separated from the exit action, so all that is needed it an option to have it run regularly (or alternatively an option that the existing &quot;Workspace save interval&quot; does a full save instead of the current snapshot).</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-22 10:13:31 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c28">comment #28</a>)
<span class="quote">&gt; This bug has been open almost nine years(!), can't anything be done for it?</span >

Yes, we will consider contributions for this bug:
<a href="http://wiki.eclipse.org/Platform_UI/How_to_Contribute">http://wiki.eclipse.org/Platform_UI/How_to_Contribute</a>

Now's the time to get in patches to be considered for 3.7

PW</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">thiemanu <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=thiemanu&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=thiemanu&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-07-05 22:17:30 EDT
        </span>

      </div>




<pre class="bz_comment_text">The manual workspace save or an expanded (complete) auto-save would be highly appreciated. It is really annoying having to go back the next time to change things all over again, when Eclipse abnormally ended.</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-14 14:26:58 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse workspace state only saved on successful close of Eclipse"
   href="show_bug.cgi?id=332564">Bug 332564</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Remy Suen</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=remy.suen&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=remy.suen&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-14 14:38:52 EST
        </span>

      </div>




<pre class="bz_comment_text">Also see <a class="bz_bug_link 
          bz_status_ASSIGNED "
   title="ASSIGNED - [WorkbenchParts] Make saving/restoring of workbench state public API"
   href="show_bug.cgi?id=151801">bug 151801</a> and <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - [Workbench] Allow Workbench UI state to save/restore to user-provided Input/Output Streams"
   href="show_bug.cgi?id=214974">bug 214974</a>.

Someone wrote a plug-in to save the workbench's layout a few years ago, it might still work, I'm not sure.
<a href="http://eclipsenuggets.blogspot.com/2007/09/how-to-save-eclipse-ui-workbench-state_6644.html">http://eclipsenuggets.blogspot.com/2007/09/how-to-save-eclipse-ui-workbench-state_6644.html</a></pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Beth Tibbitts</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=beth&#64;tibweb.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=beth&#64;tibweb.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-15 09:25:16 EST
        </span>

      </div>




<pre class="bz_comment_text">This is a big frustration for new users getting the workbench set up.  If there are glitches or network problems they have to start over and are confused over why, for instance, the perspective keeps reverting back to the default.  Please add a &quot;save workspace&quot; option!</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Remy Suen</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=remy.suen&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=remy.suen&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-12-15 12:47:50 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [EditorMgmt] Persist set of open editors when an editor is opened (rather than on Platform Exit)"
   href="show_bug.cgi?id=203220">Bug 203220</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Greg Bishop</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ggb667&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ggb667&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-10 11:22:31 EST
        </span>

      </div>




<pre class="bz_comment_text">This is more than a request to save the latest state.  This is to save a historic state.  What was open at a point in time.  Say I am working on <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED FIXED - Usability issue with external editors (1GE6IRL)"
   href="show_bug.cgi?id=1">bug #1</a>.  But #2 comes up.  I want to save the state, close everything and then start working on a <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Opening repository resources doesn't honor type (1GE6I1Q)"
   href="show_bug.cgi?id=2">bug #2</a>.  Once that's done I want to re-open the files I had open for <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED FIXED - Usability issue with external editors (1GE6IRL)"
   href="show_bug.cgi?id=1">bug #1</a>.</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-10 11:24:01 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c35">comment #35</a>)
<span class="quote">&gt; This is more than a request to save the latest state.  This is to save a
&gt; historic state.  What was open at a point in time.  Say I am working on <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED FIXED - Usability issue with external editors (1GE6IRL)"
   href="show_bug.cgi?id=1">bug #1</a>.
&gt;  But #2 comes up.  I want to save the state, close everything and then start
&gt; working on a <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Opening repository resources doesn't honor type (1GE6I1Q)"
   href="show_bug.cgi?id=2">bug #2</a>.  Once that's done I want to re-open the files I had open
&gt; for <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED FIXED - Usability issue with external editors (1GE6IRL)"
   href="show_bug.cgi?id=1">bug #1</a>.</span >

You would want to open a new bug for that, but I believe you want the functionality of the Mylyn project: <a href="http://www.eclipse.org/mylyn/">http://www.eclipse.org/mylyn/</a>

PW</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Alfe</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipsebugs&#64;alfe.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipsebugs&#64;alfe.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-21 05:36:58 EST
        </span>

      </div>




<pre class="bz_comment_text">Very strange that this hasn't been addressed much earlier.  I'd also very much appreciate a solution.  Shutting down takes its time, I guess because it does what I want, so I expect the 'save workspace' button will also take as long.  But at least I would not need to start Eclipse anew which also takes its time.

We all know that often the solution of a bug is finding the correct place to change.  I very often use bookmarks to be able to find a place again after a long search for it.  Bookmarks regularly are forgotten after a crash, so currently, after adding a bookmark, I always shut down Eclipse and restart it :-/

Alfe</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-25 08:56:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Preferences] Save preferences at timed intervals"
   href="show_bug.cgi?id=206364">Bug 206364</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-25 08:56:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - save work place state frequently instead of only shutdown"
   href="show_bug.cgi?id=346229">Bug 346229</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Prakash Rangaraj</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=prakash&#64;cypal.in" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=prakash&#64;cypal.in" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-31 07:26:40 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse UI gets nuked all the time."
   href="show_bug.cgi?id=344360">Bug 344360</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-09-02 09:20:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">I've attached a plugin to <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Workbench] Workbench windows' layout should be persisted for every change (sash resizes, detaching/attaching of views, moving views)"
   href="show_bug.cgi?id=337593">bug 337593</a> which saves the workspace layout / open editors after every change.</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-09-02 09:23:15 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Workbench] Workbench windows' layout should be persisted for every change (sash resizes, detaching/attaching of views, moving views)"
   href="show_bug.cgi?id=337593">Bug 337593</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">David Gross</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dpgross&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dpgross&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-11 13:01:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">I vote for this one too. The RD/z (Rational Developer for system z) product
needs a way to recover from a scrambled workspace caused by a crash.  
The crash is sometimes caused on purpose, by the customer.  The RD/z 
hangs with the mouse appearing as an hour-glass.  The only thing to do
is ctrl-alt-del and end the whole task.  Now the customer has corrupted workspace.</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-12 07:20:12 EDT
        </span>

      </div>




<pre class="bz_comment_text">Yes, we will consider contributions for this bug:
<a href="http://wiki.eclipse.org/Platform_UI/How_to_Contribute">http://wiki.eclipse.org/Platform_UI/How_to_Contribute</a>


PW</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Aaron Digulla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=digulla&#64;hepe.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=digulla&#64;hepe.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-04-13 04:48:12 EDT
        </span>

      </div>




<pre class="bz_comment_text">FWIW, I have collected the steps to restore a corrupted workspace without loosing too much data in my blog: <a href="http://blog.pdark.de/2011/09/02/restoring-a-corrupted-workspace-in-eclipse/">http://blog.pdark.de/2011/09/02/restoring-a-corrupted-workspace-in-eclipse/</a></pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-09-27 15:49:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">I am interested in contributing a fix for this.

I have a created a method to save all the state into the EMF model and I am currently working on ensuring the model is saved to the XMI file.

Currently it will save the workbench state into the model by calling the Workbench persist() method I have added periodically using a WorkbenchJob.
However the data won't actually be restored if I kill Eclipse because the model has not been persisted to the disk.</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-09-28 14:20:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=221668&amp;action=diff" name="attach_221668" title="Patch to auto-save the workbench editors and layout every 10 minutes. Prevents crashes from losing workspace state.">attachment 221668</a> <a href="attachment.cgi?id=221668&amp;action=edit" title="Patch to auto-save the workbench editors and layout every 10 minutes. Prevents crashes from losing workspace state.">[details]</a></span>
Patch to auto-save the workbench editors and layout every 10 minutes. Prevents crashes from losing workspace state.

I have implemented a fix for this that I would like to contribute. During testing it reliably saved the open editors and views as well as their state.

It adds a persist() method to Workbench that is based off of code in busyClose(). The persist method is now used in busyClose as well as being run every 10 minutes in a WorkbenchJob.

The persist method updates the model and then saves the model to &quot;workbench.xmi&quot;. I had to pass the E4Application object into the Workbench constructor so that I could access the e4app.saveModel() method in the persist method. Is this okay?</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-09-28 14:20:48 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=221669" name="attach_221669" title="mylyn/context/zip">attachment 221669</a> <a href="attachment.cgi?id=221669&amp;action=edit" title="mylyn/context/zip">[details]</a></span>
mylyn/context/zip</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-06 15:33:13 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c47">comment #47</a>)
<span class="quote">&gt; Created <span class="bz_obsolete"><a href="attachment.cgi?id=221668&amp;action=diff" name="attach_221668" title="Patch to auto-save the workbench editors and layout every 10 minutes. Prevents crashes from losing workspace state.">attachment 221668</a> <a href="attachment.cgi?id=221668&amp;action=edit" title="Patch to auto-save the workbench editors and layout every 10 minutes. Prevents crashes from losing workspace state.">[details]</a></span>
&gt; Patch to auto-save the workbench editors and layout every 10 minutes.
&gt; Prevents crashes from losing workspace state.</span >

Thanks for the patch.

<a href="show_bug.cgi?id=2369#c1">Comment 1</a>:

I wouldn't pass in the E4Application.  Instead in org.eclipse.e4.ui.internal.workbench.swt.E4Application.loadApplicationModel(IApplicationContext, IEclipseContext) when the IModelResourceHandler is instantiated you can put it in the IEclipseContext.

Your workbench method can consume it from there, since the E4Application saveModel is basically a call to IModelResourceHandler save.


<a href="show_bug.cgi?id=2369#c2">Comment 2</a>:

I would put the IModelResourceHandler in a safe runnable as well.

<a href="show_bug.cgi?id=2369#c3">comment 3</a>:

Your job should use the progress monitor to set the task name and mark when done() at a minimum.

<a href="show_bug.cgi?id=2369#c4">comment 4</a>:

While I'm not a big fan of adding preferences, I think that this is such a change that there should be one, even if we make the default 10 minutes in 4.3.  Setting it to 0 should disable this feature (if we run into trouble in the field).  I'd suggest adding it to the org.eclipse.ui.internal.ide.dialogs.IDEWorkbenchPreferencePage page (and adding the workbench keyword to that preference page definition).

You could make it similar to the workspace save interval from org.eclipse.ui.internal.ide.dialogs.IDEWorkspacePreferencePage



PW</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-06 15:44:11 EST
        </span>

      </div>




<pre class="bz_comment_text">Thanks for the feedback!

I'll work on these changes and submit a new patch.

I wrote the fix with very little knowledge of Eclipse architecture so I definitely appreciate the help with identifying what mistakes I made.</pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-07 13:52:13 EST
        </span>

      </div>




<pre class="bz_comment_text">I have implemented the first comment but while I was doing so I noticed a bug that causes menu items and some toolbar items (specifically a third party plugin) to show 3 times, which I assume is the number of times it auto-saved while I was last testing it (with a debug time of 40s).

I will work on fixing this then work on the other suggestions. Does anyone have any idea what could be causing this?</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-07 14:16:49 EST
        </span>

      </div>




<pre class="bz_comment_text">The problem is that normally when saving the model on shutdown some commands and categories are removed first.

Wayne Beaton and I thought of copying the model and then removing them from the copy and then saving it. This would also enable the saving to be done in a non-UI thread. Right now everything is done in the UI thread which might cause performance problems.</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-08 10:09:10 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c52">comment #52</a>)
<span class="quote">&gt; The problem is that normally when saving the model on shutdown some commands
&gt; and categories are removed first.
&gt; 
&gt; Wayne Beaton and I thought of copying the model and then removing them from
&gt; the copy and then saving it. </span >

That's the first thing that occurs to me as well ... you'd have to replicate the remove-on-shutdown logic and apply it to your copy before you write it out.

PW</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-08 15:29:22 EST
        </span>

      </div>




<pre class="bz_comment_text">Interestingly, the code I thought removed extra commands actually doesn't do anything (the list of commands to remove is empty in all cases).

I have implemented copying but it does not fix the problem.

I am looking in the workbench.xmi file but so far I have found no evidence of multiple copies of each command even though they show up in the IDE. However, I am sure that the number of duplicates is equal to the number of times that it has autosaved and then been closed abruptly.

Steps to reproduce:
- Change the WORKBENCH_AUTO_SAVE_INTERVAL_MS constant in Workbench to something shorter like 40,000
- Launch eclipse in the debugger
- Wait for WORKBENCH_AUTO_SAVE_INTERVAL_MS multiplied by how many duplicates you want.
- Press the stop button in the parent Eclipse to stop the child abruptly, simulating a crash.
- Next time you launch Eclipse there will be multiple copies of each menu item.</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-09 14:15:43 EST
        </span>

      </div>




<pre class="bz_comment_text">The problem seems to be that at least for the menus, the menuContributions and menu elements are being saved to the workbench.xmi file even though normally only the command elements are.

The number of duplicate items can be modeled like so:
  numDups(crashes) = 1 + crashes + (if crashes &gt; 1 then numDups(crashes-1) else 0)

The constant 1 is the command element, for every crash a menuContribution block is added that adds another duplicate, and for every crash the menu child has all its elements duplicated.

At the moment I have not found where the menuContribution and menu child items are removed from the model before saving. Paul Webster or some other committer could you possibly give me any pointers?</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-09 14:23:40 EST
        </span>

      </div>




<pre class="bz_comment_text">They're removed in org.eclipse.ui.internal.menus.MenuPersistence.dispose()

As neer as I can tell, during close it calls org.eclipse.ui.internal.Workbench.shutdown().  Disposing the serviceLocator causes the WorkbenchMenuService from org.eclipse.ui.internal.Workbench.initializeDefaultServices() to be disposed, and that's what owns MenuPersistence.

PW</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-09 14:49:32 EST
        </span>

      </div>




<pre class="bz_comment_text">Thanks!

I'm going to try and figure out how to apply that cleanup code to my copy of the model. I will have to figure out how to get access to the cleanup lists in the WorkbenchMenuService so that I can remove the right things instead of everything.

Also what about the code at line 1517 of hardclose() in WorkbenchWindow. The WorkbenchMenuService is responsible for cleaning up the menus but I have a feeling that code is responsible for cleaning up the menu children.</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-09 15:15:15 EST
        </span>

      </div>




<pre class="bz_comment_text">I implemented the removing of contributions and that fixes one part of the problem. There are still duplicates but not as many.

I still have the problem of the &lt;children xsi:type=&quot;menu:Menu&quot;&gt; elements. I will take a look at the code mentioned in the previous comment to see if that is the cause.</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-12 13:35:29 EST
        </span>

      </div>




<pre class="bz_comment_text">The code I thought disposed of the menu children is not the actual culprit.

I am having trouble finding where the menu children of the window model are removed before shutdown so they are not saved in the model. As far as I can tell it is not done in the menu service.

Paul Webster do you have any ideas where the disposal of the menu children of the window model occurs?</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-12 14:39:58 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok I found the code that removed menu items and replicated it on the copy during auto-save. Now menu items are never duplicated.

Now the only thing that is still being duplicated is a toolbar item that is added by a third party plugin. I'm not sure if the problem is:
1. the way workbench persistence handles plugin toolbar items
2. a problem that only occurs when toolbar items are created the way that plugin (Vrapper) creates them
3. or an architectural problem where plugins are responsible for removing their own toolbar items from the model on shutdown.

Any ideas? I'm going to go back to digging in the code.</pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-13 07:50:52 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c60">comment #60</a>)
<span class="quote">&gt; 2. a problem that only occurs when toolbar items are created the way that
&gt; plugin (Vrapper) creates them</span >


Do you know off hand how they create their toolbar item and/or toolbar?

PW</pre>
    </div>

    <div id="c62" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-13 13:31:03 EST
        </span>

      </div>




<pre class="bz_comment_text">I downloaded the vrapper source code and it appears to use a menu contribution in plugin.xml. Here is the relevant part of plugin.xml:

    &lt;menuContribution
            locationURI=&quot;toolbar:org.eclipse.ui.main.toolbar?after=additions&quot;&gt;
         &lt;toolbar
               id=&quot;net.sourceforge.vrapper.toolbar&quot;&gt;
            &lt;command
                  commandId=&quot;net.sourceforge.vrapper.eclipse.commands.toggle&quot;
                  icon=&quot;icons/icon.png&quot;
                  style=&quot;toggle&quot;&gt;
            &lt;/command&gt;
            &lt;separator
                  name=&quot;additions&quot;
                  visible=&quot;false&quot;&gt;
            &lt;/separator&gt;
         &lt;/toolbar&gt;
    &lt;/menuContribution&gt;

And here is the code it leaves in the workbench.xmi on auto-save that causes the duplicates:

    &lt;children xsi:type=&quot;menu:ToolBar&quot; xmi:id=&quot;_WeIjVC1CEeKObpaCvvb8AQ&quot; elementId=&quot;net.sourceforge.vrapper.toolbar&quot;&gt;
        &lt;tags&gt;Draggable&lt;/tags&gt;
        &lt;children xsi:type=&quot;menu:HandledToolItem&quot; xmi:id=&quot;_WeIjVS1CEeKObpaCvvb8AQ&quot; elementId=&quot;net.sourceforge.vrapper.eclipse.commands.toggle&quot; iconURI=&quot;platform:/plugin/net.sourceforge.vrapper.eclipse/icons/icon.png&quot; selected=&quot;true&quot; type=&quot;Check&quot; command=&quot;_WxVL8S1CEeKObpaCvvb8AQ&quot;/&gt;
        &lt;children xsi:type=&quot;menu:HandledToolItem&quot; xmi:id=&quot;_WeIjVi1CEeKObpaCvvb8AQ&quot; elementId=&quot;net.sourceforge.vrapper.eclipse.commands.toggle&quot; iconURI=&quot;platform:/plugin/net.sourceforge.vrapper.eclipse/icons/icon.png&quot; selected=&quot;true&quot; type=&quot;Check&quot; command=&quot;_WxVL8S1CEeKObpaCvvb8AQ&quot;/&gt;
        &lt;children xsi:type=&quot;menu:HandledToolItem&quot; xmi:id=&quot;_WeIjVy1CEeKObpaCvvb8AQ&quot; elementId=&quot;net.sourceforge.vrapper.eclipse.commands.toggle&quot; iconURI=&quot;platform:/plugin/net.sourceforge.vrapper.eclipse/icons/icon.png&quot; selected=&quot;true&quot; type=&quot;Check&quot; command=&quot;_WxVL8S1CEeKObpaCvvb8AQ&quot;/&gt;
        &lt;children xsi:type=&quot;menu:ToolBarSeparator&quot; xmi:id=&quot;_Ww5HEy1CEeKObpaCvvb8AQ&quot; elementId=&quot;additions&quot; toBeRendered=&quot;false&quot;&gt;
          &lt;tags&gt;org.eclipse.jface.action.GroupMarker.GroupMarker(String)&lt;/tags&gt;
        &lt;/children&gt;
      &lt;/children&gt;</pre>
    </div>

    <div id="c63" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-13 13:54:44 EST
        </span>

      </div>




<pre class="bz_comment_text">It appears that certain built in commands such as the evaluate selected text toolbar items also get duplicated, however I can't display them because when I try to customize the perspective to show them it gives the error &quot;this item can not be made visible because all of its children are in unavailable command groups: null&quot;</pre>
    </div>

    <div id="c64" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-15 14:34:43 EST
        </span>

      </div>




<pre class="bz_comment_text">After a ton of debugging I discovered that on auto-save certain trimBars toolbars are not disposed and they are on shutdown.

Before the save at shutdown the number of toolbars in application-&gt;children[0](window)-&gt;trimBars[0](top bar) is reduced to 4. When Eclipse is running normally the number is around 20.

I have traced the removal of some of the toolbars to org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeRemoveGui(MUIElement) called from the rendering engine stop() call in Workbench.busyClose() and I'm having trouble finding where the other ones are removed.

The Vrapper toolbar that gets duplicated is removed in safeRemoveGui() so I am going to try and replicate that on the model copy.

Any tips/extra info would be appreciated, I am having a lot of trouble tracking down where and why these specific toolbars are removed from the model.</pre>
    </div>

    <div id="c65" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-15 14:47:08 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c64">comment #64</a>)
<span class="quote">&gt; 
&gt; Any tips/extra info would be appreciated, I am having a lot of trouble
&gt; tracking down where and why these specific toolbars are removed from the
&gt; model.</span >

You're doing great, Tristan.  I empathize that it's hard to track some of this stuff down.

In org.eclipse.e4.ui.workbench.renderers.swt.MenuManagerRenderer.createWidget(MUIElement, Object) we add a dispose listener to the Menu widget, and call org.eclipse.e4.ui.workbench.renderers.swt.MenuManagerRenderer.cleanUp(MMenu) on the matching model element when the widget is disposed.

That removes all of the org.eclipse.e4.ui.workbench.renderers.swt.ContributionRecord that were generated when it was rendered.  I believe that anything that comes in through org.eclipse.ui.menus becomes a ContributionRecord when it's instantiated by way of MMenuContribution processing (all in or around MenuManagerRenderer).

PW</pre>
    </div>

    <div id="c66" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-15 15:20:18 EST
        </span>

      </div>




<pre class="bz_comment_text">Thanks!

Does the MenuManagerRenderer deal with toolbars as well? Right now my problem has to do with where toolbars get removed. The toolbars I am referring to are in the trim bar MTrimmedWindow-&gt;getTrimBars()-&gt;MTrimBar-&gt;getChildren().

The names that include Menu confuse me. Is this actually the code that deals with toolbars? I'm pretty sure I have solved all problems with menu items not being removed.</pre>
    </div>

    <div id="c67" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-15 16:08:54 EST
        </span>

      </div>




<pre class="bz_comment_text">Ooops, sorry about that.  It's the exact same pattern but starting in ToolBarManagerRenderer,  and using MToolBarContribution and org.eclipse.e4.ui.workbench.renderers.swt.ToolBarManagerRenderer.cleanUp(MToolBar)

PW</pre>
    </div>

    <div id="c68" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-19 13:34:49 EST
        </span>

      </div>




<pre class="bz_comment_text">Thanks!

I'm currently investigating the behaviour and how I can replicate it.

The main problem I have to solve is what is the criteria for which toolbars get removed and how I can replicate that selectivity on my copy of the model. So far I have no idea what the criteria for which toolbars are removed before shutdown is but based on your tip I believe it probably is any toolbar that is created with a contribution is removed.

Do you have any idea what the criteria for removal is? It would save me a lot of digging and I could just write code to replicate it.</pre>
    </div>

    <div id="c69" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-19 14:09:22 EST
        </span>

      </div>




<pre class="bz_comment_text">Unfortunately, the method you pointed me to may remove some toolbar items but it does not remove the toolbar to itself.

The good news is the relation of that method to contributions lead me to discover that the workbench.xmi when saved with auto-save contains menuContributions, toolBarContributions and trimContributions elements that are not there when saved properly.

I also discovered that as I suspected the toolbars without toolBarContributions elements are the ones that are not removed on shutdown.

Now I can theoretically fix this without tracking down where they are removed, although that would still help. I just have to figure out where contributions are stored in the model and remove any toolbars and possible menus and trimbars that are associated with the contributions.</pre>
    </div>

    <div id="c70" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wayne Beaton</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=wayne.beaton&#64;eclipse-foundation.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=wayne.beaton&#64;eclipse-foundation.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-19 14:30:19 EST
        </span>

      </div>




<pre class="bz_comment_text">More-or-less completely uninformed thought/suggestion: Does it make sense to make the toolbar and other similar aspects of the model transient properties in the ecore?</pre>
    </div>

    <div id="c71" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-11 15:14:34 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok a few weeks ago my computer conked out and then I started working on something else but now I am back. 

I have remade my progress from memory and pushed to a Github fork this time so I will not lose my progress again: <a href="https://github.com/trishume/eclipse.platform.ui">https://github.com/trishume/eclipse.platform.ui</a>

While I was doing this I made a list of the steps necessary to implement this fix. I have used a + for the ones I have done:

+ Add methods to ResourceHandler to create new resource with MApplication
+ Access the ResourceHandler from Workbench (store it in the context)
+ Copy MApplication in persist() (using ECoreUtil.copy)
+ Use the ResourceHandler method to create a resource and then save it.
+ Remove menu,toolbar and trim contributions.
- Remove trimBar (and possibly menu) window children for those with contributions.

Now I can start making progress again and maybe fix this 11 year old bug!</pre>
    </div>

    <div id="c72" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-12 13:26:00 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c71">comment #71</a>)
<span class="quote">&gt; Ok a few weeks ago my computer conked out and then I started working on
&gt; something else but now I am back. </span >

Thanks for continuing to investigate this, Tristan.

PW</pre>
    </div>

    <div id="c73" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-13 14:30:43 EST
        </span>

      </div>




<pre class="bz_comment_text">It seems the code that actually cleans up the trimBar model is in TrimBarRenderer.cleanUp(MTrimBar) and it uses this fancy data structure called pendingCleanup.

In order to replicate this I have to find some way to access all the TrimBarRenderers from the Workbench object and tell them to clean up my copy of the model.

I will have to make a separate method or rewrite the current cleanUp method because it is currently destructive and based on object sameness which won't work on my copy.</pre>
    </div>

    <div id="c74" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-14 14:58:33 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok I have an idea of how to fix this.

First I need to extract the view model walk in PartRenderingEngine#removeGUI(element) into a visitor class that is overriden using an anonymous class in removeGUI()

I can then use that visitor to walk the tree looking for TrimBarRenderers and then call a method I add to remove the correct stuff from the given model.</pre>
    </div>

    <div id="c75" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-18 14:05:05 EST
        </span>

      </div>




<pre class="bz_comment_text">I thought of a solution that I think is much cleaner that I need a second opinion on.

The TrimBarRenderer class currently keeps a list of which toolbars need to be removed from specific MTrimBars. The type is HashMap&lt;MTrimBar, ArrayList&lt;ArrayList&lt;MTrimElement&gt;&gt;&gt;, yuck.

I'm thinking of distributing the list of what needs to be cleaned up into the model as a *transient* attribute. MTrimBar would have an attribute named pendingCleanup of type List&lt;MTrimElement&gt; that would contain references to all the trim elements that need to be cleaned up.

This way when I copy the model it would preserve the references and I wouldn't need to access the renderer. It would also make doing the work in a background thread easier since I wouldn't need to access anything but the model copy.

Part of the problem I have right now is that the pendingCleanup hash map is based on object sameness which doesn't hold when I copy the model so I would have to use index-based similarity which would complicate the process significantly.

Paul Webster what do you think? Is this a good thing to move to the model?</pre>
    </div>

    <div id="c76" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-18 14:10:09 EST
        </span>

      </div>




<pre class="bz_comment_text">Also, if I do the above do you think I should store it in the existing transientData hash or should I edit the model definition to include another attribute on MTrimBar and then regenerate the code?</pre>
    </div>

    <div id="c77" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-19 14:46:57 EST
        </span>

      </div>




<pre class="bz_comment_text">By adding the pendingCleanup attribute to the model I have successfully eliminated all duplicate toolbar items.

There is still one behaviour I need to fix. The first time restarting after a crash many menu items will be duplicated. These duplicates dissapear once Eclipse is restarted properly.

Once I fix this I will add the proper job handlers, add a time preference and run the job in a background thread.</pre>
    </div>

    <div id="c78" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-12-19 15:31:07 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=224930&amp;action=diff" name="attach_224930" title="Updated patch to auto-save workbench.">attachment 224930</a> <a href="attachment.cgi?id=224930&amp;action=edit" title="Updated patch to auto-save workbench.">[details]</a></span>
Updated patch to auto-save workbench.

I have attached an updated patch with my current progress. It shouldn't be reviewed yet as I still have to implement some of Paul's suggestions like adding a preference. Feel free to take a look at my changes.

I fixed that menu bar issue by marking the mainMenu attribute of MWindow as transient.

There are still some very tiny differences between an auto-saved workbench file and a properly saved one but they don't seem to affect anything.

I'll start working on Paul's original suggestions now.</pre>
    </div>

    <div id="c79" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-07 08:29:39 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c78">comment #78</a>)
<span class="quote">&gt; Created <span class="bz_obsolete"><a href="attachment.cgi?id=224930&amp;action=diff" name="attach_224930" title="Updated patch to auto-save workbench.">attachment 224930</a> <a href="attachment.cgi?id=224930&amp;action=edit" title="Updated patch to auto-save workbench.">[details]</a></span>
&gt; Updated patch to auto-save workbench.
&gt; 
&gt; I fixed that menu bar issue by marking the mainMenu attribute of MWindow as
&gt; transient.</span >

Hi Tristan, thank you again for the patch update.

I haven't had time to review it yet, but 2 things come to mind.

1) I noticed the pending trim cleanup, although I didn't get to deep into it.  We've been keeping information like that in the renderer instead of the model (as it doesn't seem to make sense to have it in the model, where it could be saved out).  What's the main reason to have it there?  Is it just that's a good location for it to be looked up?

2) I don't believe the main menu attribute can be labeled transient.  While we add and remove it all the time in the 4.x Workbench, proper Eclipse4 RCP apps don't, it's part of the model that they load from the xmi file.

PW</pre>
    </div>

    <div id="c80" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-07 13:26:23 EST
        </span>

      </div>




<pre class="bz_comment_text">The reason I put the pendingCleanup in the model is so that I could access it from the Workbench object where I have to clean it up. The other reason is that when I do the copy of the model, the references in the copy point to the copied trimBars and not the original.

If I kept the pendingCleanup info in the renderer not only would I have to do a tree walk to access the renderer, I would have to use some kind of hack to compare the copied trimBars with the references to the originals, since the normal cleanup compares based on sameness.

Putting it in the model is a simple and clean and I have marked the property as transient so it is not saved.

In terms of the mainMenu I will unmark it as transient and programmatically clean it up instead.

Thanks for the help!</pre>
    </div>

    <div id="c81" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-07 14:06:36 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok I have fixed the mainMenu transience and added basic monitor management to the job.

Have I done the monitor management right? Is there a better way to do it? It shows up in the progress panel when you set it to show system jobs.

You can see the commits here:
<a href="https://github.com/trishume/eclipse.platform.ui/commits/master">https://github.com/trishume/eclipse.platform.ui/commits/master</a></pre>
    </div>

    <div id="c82" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c82">Comment 82</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-07 14:39:40 EST
        </span>

      </div>




<pre class="bz_comment_text">Also, for the save interval preference, should it be in IDEWorkbenchPreferencePage or WorkbenchPreferencePage?

The code is in the Workbench object so it should affect the workbench wether it is in an IDE or not.</pre>
    </div>

    <div id="c83" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c83">Comment 83</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-08 13:07:09 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c80">comment #80</a>)
<span class="quote">&gt; 
&gt; Putting it in the model is a simple and clean and I have marked the property
&gt; as transient so it is not saved.
&gt; 
&gt; In terms of the mainMenu I will unmark it as transient and programmatically
&gt; clean it up instead.</span >

Tristan, the problem we were trying to overcome was that if we save out the entire trim and main menu then on startup we end up with duplicates because the WorkbenchWindow recreates a lot of stuff, right?  That's why marking the main menu attribute as transient (so it wasn't saved) worked.

What if you simply delete the main menu and trim bars or their contents from your model copy before you write it out?

That would remove some of the more complicated clean up code, and the main menu and trim bars would be recreated by the WorkbenchWindow code in a recovery situation.

Does that sound reasonable from what you've seen?

PW</pre>
    </div>

    <div id="c84" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c84">Comment 84</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-08 13:17:59 EST
        </span>

      </div>




<pre class="bz_comment_text">That is exactly what my code does. My new code simply removes the mainMenu from the model before writing it out.

The pitfall with the trim bars is that only *some* trim items can be removed without causing problems. The trim items that are created through contributions need to be removed but other ones can't be.

That is why I need access to the pendingCleanup list, which keeps track of which trim items are created through contributions so I know which ones to remove from the model before writing it out. I can't directly reference the contributions to determine which items should be removed without some hacky comparison based on identifier strings.

I also remove the contributions themselves from the model before writing it.

See the method cleanUpCopy for all the things I remove and how I remove them:
<a href="https://github.com/trishume/eclipse.platform.ui/blob/1da0e980b5f9df24574fdb0d3cf9edc4d338d8a5/bundles/org.eclipse.ui.workbench/Eclipse%20UI/org/eclipse/ui/internal/Workbench.java#L1178">https://github.com/trishume/eclipse.platform.ui/blob/1da0e980b5f9df24574fdb0d3cf9edc4d338d8a5/bundles/org.eclipse.ui.workbench/Eclipse%20UI/org/eclipse/ui/internal/Workbench.java#L1178</a></pre>
    </div>

    <div id="c85" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c85">Comment 85</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-08 15:38:20 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok I added a preference for auto-save interval in the workbench preference page.

If you set the interval to 0 it disables the auto-save.

My only question is you said something about adding the workbench keyword to the page. How would I do that?

Here is the commit:
<a href="https://github.com/trishume/eclipse.platform.ui/commit/7eab725101e5a4f7376e1c26cdbc917133574eda">https://github.com/trishume/eclipse.platform.ui/commit/7eab725101e5a4f7376e1c26cdbc917133574eda</a></pre>
    </div>

    <div id="c86" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c86">Comment 86</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-09 02:48:42 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c85">comment #85</a>)
<span class="quote">&gt; Ok I added a preference for auto-save interval in the workbench preference
&gt; page.
&gt; 
&gt; If you set the interval to 0 it disables the auto-save.
&gt; 
&gt; My only question is you said something about adding the workbench keyword to
&gt; the page. How would I do that?
&gt; 
&gt; Here is the commit:
&gt; <a href="https://github.com/trishume/eclipse.platform.ui/commit/">https://github.com/trishume/eclipse.platform.ui/commit/</a>
&gt; 7eab725101e5a4f7376e1c26cdbc917133574eda</span >

I didn't follow all the comments or look at the patch but I expect the default to be off (0).</pre>
    </div>

    <div id="c87" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c87">Comment 87</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-10 13:37:02 EST
        </span>

      </div>




<pre class="bz_comment_text">Dani why should the default be off?

I agknowledge that there should be an off setting in case there is a bug in the auto-saving code but that doesn't mean it should be off by default.

Unless Eclipse crashes the auto-save code has no effect, on shutdown the state is still persisted normally. The auto-saving also has little performance penalty, it takes a few milliseconds every 10 minutes by default.

However, when Eclipse does crash it prevents the very annoying behaviour of losing all your workbench configuration and open files. If the default is off the majority of users won't turn it on until they encounter the problem multiple times, get annoyed and Google it.

On another note, the only thing I have left to do is put the clean up and file system save into a background job so it doesn't tie up the UI thread.</pre>
    </div>

    <div id="c88" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c88">Comment 88</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-11 02:56:14 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c87">comment #87</a>)
<span class="quote">&gt; Dani why should the default be off?
&gt; 
&gt; I agknowledge that there should be an off setting in case there is a bug in
&gt; the auto-saving code but that doesn't mean it should be off by default.
&gt; 
&gt; Unless Eclipse crashes the auto-save code has no effect, 
&gt; on shutdown the
&gt; state is still persisted normally. The auto-saving also has little
&gt; performance penalty, it takes a few milliseconds every 10 minutes by default.</span >

You'll have to lock the UI while taking the snapshot in order to avoid inconsistent state being saved. This might freeze the UI for a short period, no? Also, if the snapshot interval is 10 minutes then this gives a false impression of safety (this is a different topic, not related to whether the feature is on or off by default). I would probably reduce that number if I'd decide to use the feature.


<span class="quote">&gt; However, when Eclipse does crash it prevents the very annoying behaviour of
&gt; losing all your workbench configuration and open files. If the default is
&gt; off the majority of users won't turn it on until they encounter the problem
&gt; multiple times, get annoyed and Google it.</span >

I fear that the restore code makes more damage trying to restore something, but maybe I'm wrong. So far, when my Eclipse crashed I worried about loosing open editors or some settings. The real pain is that it rebuilds my workspace which takes very long.


If the feature turns out to be non-disruptive and that restore indeed works correctly, then I'm also fine to have it enabled by default but probably with a shorter interval.</pre>
    </div>

    <div id="c89" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c89">Comment 89</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-11 13:14:10 EST
        </span>

      </div>




<pre class="bz_comment_text">Sounds good, thanks for clarifying.

Right now the code copies the model and then does cleanup and saving all in the UI thread, in order to minimize the time it locks I am moving the cleanup and saving to a background job.

After that I will insert some timing code and test how long it freezes the UI thread, it should be only a few milliseconds.

In terms of safety, I am diligently comparing my auto-save output to the output of proper shutdown save. Right now there is only around 5 lines of difference, all of which are invisible separator menu elements and things that have no effect on the actual workbench. I will work on ironing those out so that I can achieve 100% sameness.</pre>
    </div>

    <div id="c90" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c90">Comment 90</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-11 13:27:37 EST
        </span>

      </div>




<pre class="bz_comment_text">Timing results are in:

The model copy, which is the only thing I will end up locking the UI for when I implement the background job (hopefully today) takes only 0.2 seconds.

Keep in mind this is also while running in a debugger, on a ~5 year old computer with tons of plugins installed (PYDev, Aptana, PDE, CDT, Vrapper, Mylyn, etc...) so it should be even faster.

So I don't think that the UI thread locking time will be a real issue, it will only take the blink of an eye:
<a href="http://www.wolframalpha.com/input/?i=260169743+nanoseconds+in+seconds">http://www.wolframalpha.com/input/?i=260169743+nanoseconds+in+seconds</a>

Right now the whole process including cleaning and saving takes around 2 seconds. But that will mostly be file IO running in a background thread once I move it to a background job.</pre>
    </div>

    <div id="c91" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c91">Comment 91</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Darryl Miles</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=darryl&#64;netbauds.net" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=darryl&#64;netbauds.net" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-11 14:29:11 EST
        </span>

      </div>




<pre class="bz_comment_text">Do you inhibit the auto-save timer from firing during a real shutdown ?

Or... possibly ensure the same code-paths are used to save the state which is better for testing and building up trust in the new feature.

I've not looked at the patch as I would not know what I am looking at.</pre>
    </div>

    <div id="c92" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c92">Comment 92</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-11 14:42:52 EST
        </span>

      </div>




<pre class="bz_comment_text">I just added code yesterday to inhibit the Job during shutdown so that a conflict can be avoided. :)

I use mostly the same code to clean up the model as is used in shutdown.

I originally wanted to use the same code paths but those code paths are the shutdown code paths. Tons of code would have to be abstracted out into separate paths in order to reuse them. I totally agree that is the better solution, I just don't have the large amount of time and understanding required to do it.

For a sense of scope: I spent 1 week of 3 hrs/day (= 15 hours) tracing these code paths to the point where the stuff is actually removed from the model, through dispose listeners, renderer chains and recursive treewalks. There are a LOT of layers of abstraction.</pre>
    </div>

    <div id="c93" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c93">Comment 93</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-11 14:45:37 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c92">comment #92</a>)
<span class="quote">&gt; For a sense of scope: I spent 1 week of 3 hrs/day (= 15 hours) tracing these
&gt; code paths to the point where the stuff is actually removed from the model,
&gt; through dispose listeners, renderer chains and recursive treewalks. There
&gt; are a LOT of layers of abstraction.</span >

Which I imagine is the reason that this bug has not been touched in 11 years by anyone that knew what they would be getting into. :P</pre>
    </div>

    <div id="c94" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c94">Comment 94</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-14 15:37:27 EST
        </span>

      </div>




<pre class="bz_comment_text">Now that I have tested, benchmarked and implemented multithreading I think I am ready to resubmit my patch for consideration.

According to Dani's suggestion I have changed the default auto-save timer to 5 minutes.

Aggregation of changes since first patch submission:
- Added a preference for changing auto-save interval, can be disabled with 0.
- Added naming and monitor marking to saving jobs.
- Put most of the work in a background job so that the auto-save only takes 0.2 seconds, even on a crappy computer.
- Fixed all bugs involving improperly cleaned model causing duplicate items by cleaning up a copy of the model.
- Removed improper usage of the E4Application object.

Should I upload a patch file or could I submit a pull request on Github?
The Github patch viewing interface is nice and would be easier since it is already a Github repository. However, proper procedure might require a patch file to be uploaded.</pre>
    </div>

    <div id="c95" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c95">Comment 95</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-14 15:58:41 EST
        </span>

      </div>




<pre class="bz_comment_text">You can request we pull from a public git repo (like github). Here are the guidelines with steps you need to follow: <a href="http://wiki.eclipse.org/Development_Resources/Handling_Git_Contributions">http://wiki.eclipse.org/Development_Resources/Handling_Git_Contributions</a>

PW</pre>
    </div>

    <div id="c96" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c96">Comment 96</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-15 13:21:21 EST
        </span>

      </div>




<pre class="bz_comment_text">I have submitted a pull request on Github:
<a href="https://github.com/eclipse/eclipse.platform.ui/pull/3">https://github.com/eclipse/eclipse.platform.ui/pull/3</a>

I assert that I authored 100% the code and have the right to donate it. I contribute this code under the EPL.

Thank you Paul for all your help.</pre>
    </div>

    <div id="c97" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c97">Comment 97</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-17 05:43:36 EST
        </span>

      </div>




<pre class="bz_comment_text">I wonder whether we really need a new preference for the save interval. We already have one for the workspace snapshot:
General &gt; Workspace: Workspace save interval (5 minutes by default)

I guess users would use the same interval value for both.</pre>
    </div>

    <div id="c98" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c98">Comment 98</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-17 13:12:18 EST
        </span>

      </div>




<pre class="bz_comment_text">The preference could probably be removed or merged eventually. For now there needs to be some way to disable it or make it infrequent if it causes problems in the field.

The only reason I can think of not to merge it is that saving the workspace is more important since losing that means losing n minutes of actual project configuration whereas losing the workbench only means losing n minutes open editors. Some users might want to save their workspace more often than their workbench.

I think that is a small case though and if no problems are encountered during regular use the preference could probably be merged.</pre>
    </div>

    <div id="c99" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c99">Comment 99</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-01-18 02:49:38 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c98">comment #98</a>)
<span class="quote">&gt; The preference could probably be removed or merged eventually. For now there
&gt; needs to be some way to disable it or make it infrequent if it causes
&gt; problems in the field.</span >

Good point!</pre>
    </div>

    <div id="c100" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c100">Comment 100</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-04 15:35:49 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=226537&amp;action=diff" name="attach_226537" title="Pull request as patch">attachment 226537</a> <a href="attachment.cgi?id=226537&amp;action=edit" title="Pull request as patch">[details]</a></span>
Pull request as patch

I've rebased your pull request and I've attached it as a patch.  I'll review it tomorrow, as we have to open any CQs for Kepler this week.

Thanks again Tristan.

PW</pre>
    </div>

    <div id="c101" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c101">Comment 101</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-05 12:43:05 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c100">comment #100</a>)
<span class="quote">&gt; Created <span class="bz_obsolete"><a href="attachment.cgi?id=226537&amp;action=diff" name="attach_226537" title="Pull request as patch">attachment 226537</a> <a href="attachment.cgi?id=226537&amp;action=edit" title="Pull request as patch">[details]</a></span>
&gt; Pull request as patch</span >

Hi Tristan, this looks pretty good.  I've added some comments to be addressed directly in the pull request.

Would you be able to address them soon? I have to open a CQ by Friday to get this included in Kepler.  The other option if you don't have time is I open the CQ and commit this patch, and we address the other (admittedly minor) issues as smaller contributions.

PW</pre>
    </div>

    <div id="c102" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c102">Comment 102</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-06 08:17:48 EST
        </span>

      </div>




<pre class="bz_comment_text">Hi,

I'll try and make your suggested changes today.

The only one I see being any trouble is the line I commented out in E4Application. On my work computer that produced a compile error and Eclipse would not run without commenting it out. I suspect this is caused by incompatible plugin versions.

I may have to test every change except that one and then commit that change without testing it.</pre>
    </div>

    <div id="c103" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c103">Comment 103</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-06 08:28:50 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=2369#c102">comment #102</a>)
<span class="quote">&gt; Hi,
&gt; 
&gt; I'll try and make your suggested changes today.
&gt; 
&gt; The only one I see being any trouble is the line I commented out in
&gt; E4Application. On my work computer that produced a compile error and Eclipse
&gt; would not run without commenting it out. I suspect this is caused by
&gt; incompatible plugin versions.</span >

If that's the case then just ignore that one change.  I can make it before submitting your fix.

PW</pre>
    </div>

    <div id="c104" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c104">Comment 104</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tristan Hume</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=trishume&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=trishume&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-06 16:51:40 EST
        </span>

      </div>




<pre class="bz_comment_text">Ok I made the changes you suggested and added them to the pull request.
I tested things out and they still work, also tested them on a Mac this time.

I have replied to a couple of your comments on Github as well.</pre>
    </div>

    <div id="c105" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c105">Comment 105</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-07 11:14:38 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=226711&amp;action=diff" name="attach_226711" title="Clean up and save the workbench model">attachment 226711</a> <a href="attachment.cgi?id=226711&amp;action=edit" title="Clean up and save the workbench model">[details]</a></span>
Clean up and save the workbench model

The pull request as a patch.

Thanks Tristan, this looks good.

PW</pre>
    </div>

    <div id="c106" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c106">Comment 106</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-07 11:26:31 EST
        </span>

      </div>




<pre class="bz_comment_text">Opened CQ 7070 <a href="https://dev.eclipse.org/ipzilla/show_bug.cgi?id=7070">https://dev.eclipse.org/ipzilla/show_bug.cgi?id=7070</a>

PW</pre>
    </div>

    <div id="c107" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c107">Comment 107</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-08 11:40:54 EST
        </span>

      </div>




<pre class="bz_comment_text">CQ was approved, released as <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=5996d971b066df1e44667a78d815e81dd312c54c">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=5996d971b066df1e44667a78d815e81dd312c54c</a>

Thanks Tristan, you did a great job.

I opened <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [Doc] Include description of new preference field"
   href="show_bug.cgi?id=400333">Bug 400333</a> to update the doc and <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - [Workbench] must restart to active"
   href="show_bug.cgi?id=400334">Bug 400334</a> to reactivate the functionality.

PW</pre>
    </div>

    <div id="c108" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c108">Comment 108</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-12 11:25:00 EST
        </span>

      </div>




<pre class="bz_comment_text">I've polished the preference label with <a href="http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=8d3547e0f10e14ed2e915125d786e1e96c359f67">http://git.eclipse.org/c/platform/eclipse.platform.ui.git/commit/?id=8d3547e0f10e14ed2e915125d786e1e96c359f67</a></pre>
    </div>

    <div id="c109" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c109">Comment 109</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-03-12 13:20:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">In 4.3.0.I20130311-2000

PW</pre>
    </div>

    <div id="c110" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=2369#c110">Comment 110</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-03-19 10:37:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">Caused problem <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - OutOfMemoryError when eclipse left overnight"
   href="show_bug.cgi?id=402912">Bug 402912</a>

PW</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=2369">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=2369">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=2369">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=2369&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=2369" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>