<!DOCTYPE html>
<html lang="en">
  <head>
    <title>158388 &ndash; [sec] org.eclipse.equinox.common requires OSGI-INF/permissions.perm</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "158388 – [sec] org.eclipse.equinox.common requires OSGI-INF\/permissions.perm",
                             "show_bug.cgi?id=158388" );
        document.title = "158388 – [sec] org.eclipse.equinox.common requires OSGI-INF\/permissions.perm";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "158388 – [sec] org.eclipse.equinox.common requires OSGI-INF\/permissions.perm", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_CLOSED
                 bz_product_Equinox
                 bz_component_Components
                 bz_bug_158388 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;158388</span>

        <span id="subtitle" class="subheader">[sec] org.eclipse.equinox.common requires OSGI-INF/permissions.perm</span>

        <span id="information" class="header_addl_info">Last modified: 2019-06-08 14:38:51 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=158388&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=158388" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2019-06-08 14:38:51">
  <input type="hidden" name="id" value="158388">
  <input type="hidden" name="token" value="1629872774-h4jRVXwDkvU0ViURrqHBNdIOtaTjAW6noVpx_z2Mmyg">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=158388"><b>Bug&nbsp;158388</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[sec] org.eclipse.equinox.common requires OSGI-INF/permissions.perm</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[sec] org.eclipse.equinox.common requires OSGI-INF/permissions.perm
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[sec] org.eclipse.equinox.common requires OSGI-INF\/permissions.perm' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">CLOSED
          WONTFIX
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Equinox

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Equinox"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Components

  (<a href="buglist.cgi?component=Components&amp;product=Equinox&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.3 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       normal<span id="votes_container">
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=158388#vote_158388">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>--- &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">equinox.components-inbox</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=equinox.components-inbox&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=equinox.components-inbox&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'equinox.components-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>stalebug  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2006-09-22 18:10 EDT by <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2019-06-08 14:38 EDT
      (<a href="show_activity.cgi?id=158388">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="habeck">habeck</option>
                <option value="jeffmcaffer">jeffmcaffer</option>
                <option value="mwflaher">mwflaher</option>
                <option value="pascal">pascal</option>
                <option value="tjwatson">tjwatson</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=50744"
               title="View the content of the attachment">
          <b>.aar file contains files generated by SWORD4J</b></a>

          <span class="bz_attach_extra_info">
              (1.23 MB,
                application/octet-stream)

            <br>
            <a href="#attach_50744"
               title="Go to the comment associated with the attachment">2006-09-22 18:15 EDT</a>,

            <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=50744&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=50745"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">patch file</span></b></a>

          <span class="bz_attach_extra_info">
              (29.84 KB,
                patch)

            <br>
            <a href="#attach_50745"
               title="Go to the comment associated with the attachment">2006-09-22 18:17 EDT</a>,

            <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=50745&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=50745&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=50925"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">bundle that contains common actions</span></b></a>

          <span class="bz_attach_extra_info">
              (446.47 KB,
                application/octet-stream)

            <br>
            <a href="#attach_50925"
               title="Go to the comment associated with the attachment">2006-09-26 13:07 EDT</a>,

            <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=50925&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=51894"
               title="View the content of the attachment">
          <b>Updated patch that includes privileged actions</b></a>

          <span class="bz_attach_extra_info">
              (35.61 KB,
                patch)

            <br>
            <a href="#attach_51894"
               title="Go to the comment associated with the attachment">2006-10-12 17:15 EDT</a>,

            <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=51894&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=51894&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=53086"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Correct the permissions in the permissions.perm file</span></b></a>

          <span class="bz_attach_extra_info">
              (30.72 KB,
                patch)

            <br>
            <a href="#attach_53086"
               title="Go to the comment associated with the attachment">2006-11-01 13:57 EST</a>,

            <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=53086&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=53086&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=53327"
               title="View the content of the attachment">
          <b>make additional changes to  the patch of Oleg</b></a>

          <span class="bz_attach_extra_info">
              (29.46 KB,
                patch)

            <br>
            <a href="#attach_53327"
               title="Go to the comment associated with the attachment">2006-11-06 15:33 EST</a>,

            <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=53327&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=53327&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (3)
            <a id="view_all" href="attachment.cgi?bugid=158388&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=158388&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=158388&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-22 18:10:45 EDT
        </span>

      </div>




<pre class="bz_comment_text">Some of the code in the equinox common plug-in would propagate some unnecessary permissions requirements to the caller because the doPriviliged block is not being used.  In addition, this bundle violates the law of least privilege.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-22 18:15:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=50744" name="attach_50744" title=".aar file contains files generated by SWORD4J">attachment 50744</a> <a href="attachment.cgi?id=50744&amp;action=edit" title=".aar file contains files generated by SWORD4J">[details]</a></span>
.aar file contains files generated by SWORD4J</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-22 18:17:38 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=50745&amp;action=diff" name="attach_50745" title="patch file">attachment 50745</a> <a href="attachment.cgi?id=50745&amp;action=edit" title="patch file">[details]</a></span>
patch file</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-25 09:35:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks Eric! 

The java.io.FilePermission - are those relative to the &quot;current&quot; directory? It seems that the paths are a bit strange.
</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-25 10:16:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">Oleg,

These are the *right* set of permissions that are generated by the SWORD4J, I agree w/ you that FilePermission is a bit strange, especially, when (java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&gt;&quot; &quot;read&quot;) is granted, there is no need for other FilePermission for other File read permission.  This is a area that SWORD4J tool can improve.  Ted, what do you think?

Btw, you can download SWORD4J here <a href="http://www.alphaworks.ibm.com/tech/sword4j">http://www.alphaworks.ibm.com/tech/sword4j</a></pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ted Habeck</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=habeck&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=habeck&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-25 11:55:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">We've waffled a bit on the granularity of the FilePermission reporting.  

Initially, when ambiguity was detected (e.g. numerous component strings are supplied to file constructors over several call paths) the required permission was reported as 'java.io.FilePermission(&quot;???file???&quot;,&quot;read&quot;)'.  However, Feedback from releases of SWORD4J which did not provided greater granularity (i.e. the component string constants that were being used in the construction of File objects etc.) indicated that reporting the strings reduced the time required to process the identified permission requirement.   Consequently, in ambiguous cases, SWORD4J provides both the wildcard permission requirement and the fine-grained literals.  

As Eric indicated, in cases where both are provided, only the java.io.FilePermission (&quot;???file???&quot;,&quot;read&quot;) needs to be added to the OSGI-INF/permissions.perm file.

We can make this a configurable preference setting if need be.  Any votes?




</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-26 11:13:59 EDT
        </span>

      </div>




<pre class="bz_comment_text">Ted,

Yes, make that a configurable preference setting would be good.  I assume it will work the following way: when I use a permission marker to add the required FilePermissionS. The tool should smart enough to look up the pref setting.  If setting indicates 'collapse' FilePermissions and the tool detect numerous strings, then 'read' or 'write' FilePermission would be added to permissions.perm file.  I see similar problems in SocketPermission and ServicePermission.  Below are the examples:

(java.net.SocketPermission &quot;*&quot; &quot;resolve&quot;)
(java.net.SocketPermission &quot;*:0-&quot; &quot;connect&quot;)
(java.net.SocketPermission &quot;localhost&quot; &quot;resolve&quot;)
(java.net.SocketPermission &quot;localhost:0-&quot; &quot;connect&quot;)
(java.net.SocketPermission &quot;localhost:1024-&quot; &quot;resolve&quot;)
(java.net.SocketPermission &quot;localhost:1024-:0-&quot; &quot;connect&quot;)
(org.osgi.framework.ServicePermission &quot;&lt;unknown&gt;&quot; &quot;&lt;unknown&gt;&quot;)
(org.osgi.framework.ServicePermission &quot;&lt;unknown&gt;&quot; &quot;get&quot;)
(org.osgi.framework.ServicePermission &quot;java.net.ContentHandler&quot; &quot;&lt;unknown&gt;&quot;)
(org.osgi.framework.ServicePermission &quot;java.net.ContentHandler&quot; &quot;get&quot;)
(org.osgi.framework.ServicePermission &quot;org.osgi.service.packageadmin.PackageAdmin&quot; &quot;&lt;unknown&gt;&quot;)</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-09-26 13:07:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=50925" name="attach_50925" title="bundle that contains common actions">attachment 50925</a> <a href="attachment.cgi?id=50925&amp;action=edit" title="bundle that contains common actions">[details]</a></span>
bundle that contains common actions</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-10-12 17:15:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=51894&amp;action=diff" name="attach_51894" title="Updated patch that includes privileged actions">attachment 51894</a> <a href="attachment.cgi?id=51894&amp;action=edit" title="Updated patch that includes privileged actions">[details]</a></span>
Updated patch that includes privileged actions

Modified original patch to fix:
- Secure actions: for now, added as an internal package into equinox.common. (At least, it will compile and run this way.)  Removed unnecessary imports, changed methods to static, added copyrights, renamed files, added convenience methods and removed unused methods.
- Added Javadocs all around (see &#64;privileged)
- DevClassPathHelper: moved code a bit so that all lines needing security permission are in the same method; wrapped System.getProperty(PROP_DEV) into doPrivileged
- DataArea: moved code doing wrapping into separate method
- PlatformURLConnection: getURLInCache() and copyToCache() were run from doPrivileged and had it’s own doPrivileged (all in the same class); changed code so that “other” exceptions won’t be lost
- PlatformURL* : changed code so that #resove() methods run in doPrivilege; #openConnection() don’t (it was very inconsistent: some classes where doing doPrivileged, some weren’t)

Note that this does not address mode generic problems with discovery of security permission required; more on that later.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-01 13:57:16 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=53086&amp;action=diff" name="attach_53086" title="Correct the permissions in the permissions.perm file">attachment 53086</a> <a href="attachment.cgi?id=53086&amp;action=edit" title="Correct the permissions in the permissions.perm file">[details]</a></span>
Correct the permissions in the permissions.perm file</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-06 15:33:00 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=53327&amp;action=diff" name="attach_53327" title="make additional changes to  the patch of Oleg">attachment 53327</a> <a href="attachment.cgi?id=53327&amp;action=edit" title="make additional changes to  the patch of Oleg">[details]</a></span>
make additional changes to  the patch of Oleg

Remove the duplicate doPriviliged block in the following classes:
1. PlatformURLMetaConnection
2. PlatformURLPluginConnection
3. PlatformURLFragmentConnection

The above resolve method is called within a doPriviliged block of the PlatformURLHandler's openConnection method.</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Oleg Besedin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ob1.eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ob1.eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-09 11:57:56 EST
        </span>

      </div>




<pre class="bz_comment_text">It is getting better, but still lots of questions:

1. SafeRuner class 
This class must have allPermissions. Yet we don't want to grant all persmissions to the bundle because of this one special case. Could we intervene in the Java/OSGi permission checking mechanism to specify that this class has all permissions?

2. Permissions file

2a. File permissions. Why where are 4 of them? File permission &quot;.&quot; - are those permissions on the &quot;current&quot; directory? Why do we need file read/write permissions on *all* files?

2b. The question (2) begs another question - we need to have Eclipse-specific permissions to access specific file locations.

2c. Why we need java.lang.RuntimePermission &quot;accessDeclaredMembers&quot; ?

2d. Why we need java.lang.RuntimePermission &quot;modifyThread&quot; ?

2e. Why we need java.lang.RuntimePermission &quot;getClassLoader&quot; ?

2f. Why we need java.net.NetPermission &quot;specifyStreamHandler&quot; ?

2g. Why we need all java.net.SocketPermission ?

2h. Can we be more specific in the list of properties needed in the java.util.PropertyPermission? Do we need a &quot;write&quot; permission on those?

2i. The org.osgi.framework.AdminPermission - it is not clear why most of them (&quot;class&quot;, &quot;execute&quot;, &quot;extensionLifecycle&quot;, &quot;lifecycle&quot;, &quot;resolve&quot;) is needed.

2k. The org.osgi.framework.ServicePermission - can we be more specific, not saying &quot;*&quot; &quot;get,register&quot;?

2l. Same for package permissions and bundle permissions.

3. Permissions for URL classes. Javadoc sais that only these methods need security permissions:
URL(String protocol, String host, int port, String file, URLStreamHandler handler)
URL(URL context, String spec, URLStreamHandler handler)
setURLStreamHandlerFactory(URLStreamHandlerFactory fac)

None of those methods is used by the equinox.common. Some experimentation with URLs I've done confirms that no permissions are required for the URL constructors we use.

If this is correct, URLPrivilegedAction class and all associated changes are not required.

==========================================================
On the Sword4J analysis - I downloaded the updated version and it only increased my confusion:

=&gt; Sword4J -&gt; Framework Permission : the only permissions I see being reported are the Export-Package permissions (this is on the analysis run with empty permission file)
The rest of osgi permissions (org.osgi.framework.AdminPermission, org.osgi.framework.ServicePermission, org.osgi.framework.PackagePermission, org.osgi.framework.BundlePermission) seems to be missing

=&gt;  java.lang.RuntimePermission &quot;accessDeclaredMembers&quot; - where is it comping from? I checked all individual code requirements in equinox.common, but could not find it.

=&gt; FilePrivilegedAction:
Line 54: 
File.mkdris() reports java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot; which is not needed
File.mkdris() reports both file read and write privileges for this line. In fact, only write privilege is required as it implies read privilege
Line 58:
No marked for privileges required by File.mkdris()
Line 67:
Sword4J reports nested call to doPrivileges in this file while no nested call exists

=&gt; ProperyPrivilegedActions:
Line 33:
No marker for the required property read privilege 
Line 41:
Sword4J reports nested call to doPrivileges in this file while no nested call exists

=&gt; URLPrivilegedAction:
Line 29:
No privileges are needed for new URL(URL, String) but a handful are reported  (same goes for the new URL(String), URL.openStream())

=&gt; ResourceTranslator
Line 65
According to Javadoc and the code I can see, no permissions are reuired for this, yet 4 property permissions are reported
Line 96
Both &quot;createClassLoader&quot; and &quot;getClassLoader&quot; are specified as required, yet Javadoc says only &quot;createClassLoader&quot; is needed

=&gt; Propagation of non-reported OSGi permission: For instance,
(org.osgi.framework.AdminPermission &quot;*&quot; &quot;resource&quot;)
- is it going to be propagated for NLS calls?
</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eric W Li</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eric_w_li&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eric_w_li&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-11-13 10:41:58 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=158388#c11">comment #11</a>)
<span class="quote">&gt; It is getting better, but still lots of questions:
&gt; 
&gt; 1. SafeRuner class 
&gt; This class must have allPermissions. Yet we don't want to grant all
&gt; persmissions to the bundle because of this one special case. Could we intervene
&gt; in the Java/OSGi permission checking mechanism to specify that this class has
&gt; all permissions?</span >
      - When permission checking happens, only the specific permission objects are available.  So there is no way you specify SafeRunner class to have all permission.  In general, you assign permissions to bundle not specific classes.  I think we should grant AllPermission to the common plug-in.  Which is ok, common plug-in is pretty low at the platform level anyway.  

<span class="quote">&gt; 2. Permissions file
&gt; 
&gt; 2a. File permissions. Why where are 4 of them? File permission &quot;.&quot; - are those
&gt; permissions on the &quot;current&quot; directory? Why do we need file read/write
&gt; permissions on *all* files?
&gt; 
&gt; 2b. The question (2) begs another question - we need to have Eclipse-specific
&gt; permissions to access specific file locations.</span >
        Yes, this will only be done at the OSGI plug-in, we have a patch for that.  Ted will attach the patch soon.

<span class="quote">&gt; 2c. Why we need java.lang.RuntimePermission &quot;accessDeclaredMembers&quot; ?
&gt; 2d. Why we need java.lang.RuntimePermission &quot;modifyThread&quot; ?
&gt; 2e. Why we need java.lang.RuntimePermission &quot;getClassLoader&quot; ?
&gt; 2f. Why we need java.net.NetPermission &quot;specifyStreamHandler&quot; ?
&gt; 2g. Why we need all java.net.SocketPermission ?</span >
        It is possible that some of these permissions are relly not needed.  This requires more diggings to find it out.  SWORD4J is designed to find out all the possible permissions that are needed at runtime.  For example, the getClassLoader permision may not be checked if there is not exceptions being thrown when loading a stream handler class.  Thefore, I think it is ok to grant all the possible permissions to a bundle.  

<span class="quote">&gt; 2h. Can we be more specific in the list of properties needed in the
&gt; java.util.PropertyPermission? Do we need a &quot;write&quot; permission on those?</span >
      Is it possible that a common plug-in reads some property file at runtime and stuff them into some properties object?  If so, we would need to grant &quot;*&quot; permission.  

<span class="quote">&gt; 2i. The org.osgi.framework.AdminPermission - it is not clear why most of them
&gt; (&quot;class&quot;, &quot;execute&quot;, &quot;extensionLifecycle&quot;, &quot;lifecycle&quot;, &quot;resolve&quot;) is needed.</span >
       I only remember that activating a bundle or accessing a class in other bundle requires the &quot;class&quot;/&quot;execute&quot; admin permission, you would need to ask Tom regarding others.

<span class="quote">&gt; 2k. The org.osgi.framework.ServicePermission - can we be more specific, not
&gt; saying &quot;*&quot; &quot;get,register&quot;?</span >
      Like I said before, lots of permissions would not be known till runtime.  

<span class="quote">&gt; 2l. Same for package permissions and bundle permissions.
&gt; 
&gt; 3. Permissions for URL classes. Javadoc sais that only these methods need
&gt; security permissions:
&gt; URL(String protocol, String host, int port, String file, URLStreamHandler
&gt; handler)
&gt; URL(URL context, String spec, URLStreamHandler handler)
&gt; setURLStreamHandlerFactory(URLStreamHandlerFactory fac)
&gt; 
&gt; None of those methods is used by the equinox.common. Some experimentation with
&gt; URLs I've done confirms that no permissions are required for the URL
&gt; constructors we use.</span >
       You are right, I did some experimentations too, the construction of URL usually doesn't require any permission.  The URLPriviligedAction is not needed.

<span class="quote">&gt; If this is correct, URLPrivilegedAction class and all associated changes are
&gt; not required.
&gt; 
&gt; ==========================================================
&gt; On the Sword4J analysis - I downloaded the updated version and it only
&gt; increased my confusion:
&gt; 
&gt; =&gt; Sword4J -&gt; Framework Permission : the only permissions I see being reported
&gt; are the Export-Package permissions (this is on the analysis run with empty
&gt; permission file)
&gt; The rest of osgi permissions (org.osgi.framework.AdminPermission,
&gt; org.osgi.framework.ServicePermission, org.osgi.framework.PackagePermission,
&gt; org.osgi.framework.BundlePermission) seems to be missing
&gt; 
&gt; =&gt;  java.lang.RuntimePermission &quot;accessDeclaredMembers&quot; - where is it comping
&gt; from? I checked all individual code requirements in equinox.common, but could
&gt; not find it.
&gt; 
&gt; =&gt; FilePrivilegedAction:
&gt; Line 54: 
&gt; File.mkdris() reports java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot; which is
&gt; not needed
&gt; File.mkdris() reports both file read and write privileges for this line. In
&gt; fact, only write privilege is required as it implies read privilege
&gt; Line 58:
&gt; No marked for privileges required by File.mkdris()
&gt; Line 67:
&gt; Sword4J reports nested call to doPrivileges in this file while no nested call
&gt; exists
&gt; 
&gt; =&gt; ProperyPrivilegedActions:
&gt; Line 33:
&gt; No marker for the required property read privilege 
&gt; Line 41:
&gt; Sword4J reports nested call to doPrivileges in this file while no nested call
&gt; exists
&gt; 
&gt; =&gt; URLPrivilegedAction:
&gt; Line 29:
&gt; No privileges are needed for new URL(URL, String) but a handful are reported 
&gt; (same goes for the new URL(String), URL.openStream())
&gt; 
&gt; =&gt; ResourceTranslator
&gt; Line 65
&gt; According to Javadoc and the code I can see, no permissions are reuired for
&gt; this, yet 4 property permissions are reported
&gt; Line 96
&gt; Both &quot;createClassLoader&quot; and &quot;getClassLoader&quot; are specified as required, yet
&gt; Javadoc says only &quot;createClassLoader&quot; is needed
&gt; 
&gt; =&gt; Propagation of non-reported OSGi permission: For instance,
&gt; (org.osgi.framework.AdminPermission &quot;*&quot; &quot;resource&quot;)
&gt; - is it going to be propagated for NLS calls?
&gt; </span ></pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=158388#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Eclipse Genie</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=genie&#64;eclipse.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=genie&#64;eclipse.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2019-06-08 14:38:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">This bug hasn't had any activity in quite some time. Maybe the problem got resolved, was a duplicate of something else, or became less pressing for some reason - or maybe it's still relevant but just hasn't been looked at yet.

If you have further information on the current state of the bug, please add it. The information can be, for example, that the problem still occurs, that you still want the feature, that more information is needed, or that the bug is (for whatever reason) no longer relevant.

--
The automated Eclipse Genie.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=158388">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=158388">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=158388">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=158388&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=158388" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>