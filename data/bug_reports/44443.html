<!DOCTYPE html>
<html lang="en">
  <head>
    <title>44443 &ndash; [Tasks] Problems View should 'filter' more efficiently</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "44443 – [Tasks] Problems View should \'filter\' more efficiently",
                             "show_bug.cgi?id=44443" );
        document.title = "44443 – [Tasks] Problems View should \'filter\' more efficiently";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "44443 – [Tasks] Problems View should \'filter\' more efficiently", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_VERIFIED
                 bz_product_Platform
                 bz_component_UI
                 bz_bug_44443 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;44443</span>

        <span id="subtitle" class="subheader">[Tasks] Problems View should 'filter' more efficiently</span>

        <span id="information" class="header_addl_info">Last modified: 2004-09-23 14:55:00 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=44443&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=44443" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2004-09-23 14:55:00">
  <input type="hidden" name="id" value="44443">
  <input type="hidden" name="token" value="1629852332-EN33Lq4YwQtjMy-prD9KfH9VhHKkGIujNJwV7x3RHno">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=44443"><b>Bug&nbsp;44443</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">[Tasks] Problems View should 'filter' more efficiently</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>[Tasks] Problems View should 'filter' more efficiently
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      '[Tasks] Problems View should \'filter\' more efficiently' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">VERIFIED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >UI

  (<a href="buglist.cgi?component=UI&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.0 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Windows XP
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P2
       normal<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=44443">1 
            vote</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=44443#vote_44443">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>3.0 M5 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard">
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'Platform-UI-Inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (8)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Tasks] adding only 266 items takes 700ms (under a profiler)"
   href="show_bug.cgi?id=28162">28162</a> <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - [Dialogs] Creating a new file does not work"
   href="show_bug.cgi?id=39621">39621</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Tasks] Make Problems View/Tasks View asynchoronous"
   href="show_bug.cgi?id=40822">40822</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Tasks] 100% CPU, possible bug in org.eclipse.jdt.internal.compiler.parser.Scanner"
   href="show_bug.cgi?id=42923">42923</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Problems/right-click/Select All is very slow."
   href="show_bug.cgi?id=44728">44728</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Performance degradation after Upgrade from Integration to 3.0 M4"
   href="show_bug.cgi?id=45164">45164</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse 3.0M4 perform exhausting operations (freeze) on incremental (small) builds"
   href="show_bug.cgi?id=45168">45168</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Bad performance filtering problems"
   href="show_bug.cgi?id=47902">47902</a> 
      </span>
      (<a href="buglist.cgi?bug_id=28162,39621,40822,42923,44728,45164,45168,47902">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>

  </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2003-10-08 10:35 EDT by <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2004-09-23 14:55 EDT
      (<a href="show_activity.cgi?id=44443">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>15 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="akiezun">akiezun</option>
                <option value="boris">boris</option>
                <option value="chillum">chillum</option>
                <option value="eclipse-dev">eclipse-dev</option>
                <option value="ggregory">ggregory</option>
                <option value="jerome_lanneluc">jerome_lanneluc</option>
                <option value="john.arthorne">john.arthorne</option>
                <option value="kent_johnson">kent_johnson</option>
                <option value="michaelvanmeekeren">michaelvanmeekeren</option>
                <option value="n.a.edgar">n.a.edgar</option>
                <option value="nikolaymetchev">nikolaymetchev</option>
                <option value="sxenos">sxenos</option>
                <option value="tla">tla</option>
                <option value="Tod_Creasey">Tod_Creasey</option>
                <option value="Uni">Uni</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>



        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=6661"
               title="View the content of the attachment">
          <b>Beginnings of a fix</b></a>

          <span class="bz_attach_extra_info">
              (13.45 KB,
                patch)

            <br>
            <a href="#attach_6661"
               title="Go to the comment associated with the attachment">2003-11-05 11:09 EST</a>,

            <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6661&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=6661&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6722"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">This builds on debbie's previous patch</span></b></a>

          <span class="bz_attach_extra_info">
              (28.44 KB,
                patch)

            <br>
            <a href="#attach_6722"
               title="Go to the comment associated with the attachment">2003-11-10 23:04 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6722&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=6722&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6723"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">This should also improve performance slightly.</span></b></a>

          <span class="bz_attach_extra_info">
              (2.47 KB,
                patch)

            <br>
            <a href="#attach_6723"
               title="Go to the comment associated with the attachment">2003-11-10 23:08 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6723&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=6723&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6724"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">In case there's any problem applying the above patches, here's the full source</span></b></a>

          <span class="bz_attach_extra_info">
              (24.79 KB,
                application/octet-stream)

            <br>
            <a href="#attach_6724"
               title="Go to the comment associated with the attachment">2003-11-10 23:50 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6724&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6739"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Same patch, merged with HEAD on 2003/11/11</span></b></a>

          <span class="bz_attach_extra_info">
              (38.62 KB,
                patch)

            <br>
            <a href="#attach_6739"
               title="Go to the comment associated with the attachment">2003-11-11 20:03 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6739&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=6739&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6753"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Full source for the patch, merged with HEAD on 2003/11/11</span></b></a>

          <span class="bz_attach_extra_info">
              (20.07 KB,
                application/octet-stream)

            <br>
            <a href="#attach_6753"
               title="Go to the comment associated with the attachment">2003-11-12 13:05 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6753&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6827"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Possible fix</span></b></a>

          <span class="bz_attach_extra_info">
              (23.74 KB,
                application/octet-stream)

            <br>
            <a href="#attach_6827"
               title="Go to the comment associated with the attachment">2003-11-18 01:38 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6827&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6869"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Latest patch</span></b></a>

          <span class="bz_attach_extra_info">
              (25.66 KB,
                application/octet-stream)

            <br>
            <a href="#attach_6869"
               title="Go to the comment associated with the attachment">2003-11-19 12:51 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6869&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6898"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">All known issues fixed</span></b></a>

          <span class="bz_attach_extra_info">
              (27.36 KB,
                application/octet-stream)

            <br>
            <a href="#attach_6898"
               title="Go to the comment associated with the attachment">2003-11-20 20:26 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6898&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=6990"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Latest patch, following suggestions from Tod</span></b></a>

          <span class="bz_attach_extra_info">
              (67.79 KB,
                application/octet-stream)

            <br>
            <a href="#attach_6990"
               title="Go to the comment associated with the attachment">2003-11-27 16:58 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6990&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a11" class="bz_contenttype_image_gif">
        <td>
            <a href="attachment.cgi?id=6999"
               title="View the content of the attachment">
          <b>Progress View screenshot showing missing lines</b></a>

          <span class="bz_attach_extra_info">
              (10.45 KB,
                image/gif)

            <br>
            <a href="#attach_6999"
               title="Go to the comment associated with the attachment">2003-11-28 09:12 EST</a>,

            <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=6999&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a12" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=7000"
               title="View the content of the attachment">
          <b>Patch applied against current HEAD</b></a>

          <span class="bz_attach_extra_info">
              (102.19 KB,
                patch)

            <br>
            <a href="#attach_7000"
               title="Go to the comment associated with the attachment">2003-11-28 09:14 EST</a>,

            <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=7000&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=7000&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a13" class="bz_contenttype_application_octet-stream bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=7007"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Let's try again</span></b></a>

          <span class="bz_attach_extra_info">
              (46.74 KB,
                application/octet-stream)

            <br>
            <a href="#attach_7007"
               title="Go to the comment associated with the attachment">2003-11-28 20:35 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=7007&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a14" class="bz_contenttype_application_octet-stream">
        <td>
            <a href="attachment.cgi?id=7090"
               title="View the content of the attachment">
          <b>Latest patch with sorting optimizations</b></a>

          <span class="bz_attach_extra_info">
              (75.49 KB,
                application/octet-stream)

            <br>
            <a href="#attach_7090"
               title="Go to the comment associated with the attachment">2003-12-09 01:06 EST</a>,

            <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=7090&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (10)
            <a id="view_all" href="attachment.cgi?bugid=44443&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=44443&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=44443&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-08 10:35:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">Each time a change occurs in the Problems View, the filtering mechanism is 
called too often (3 times at least).  Each time getElements() is called, all 
the problem markers are retrieved and the filters applied to the whole list.  
This happens even for updating the title of the view (to tell you how many 
items are in the view).  This is causing serious performance degradation if 
there are many problem markers in total (i.e. about 1000 problems).  

See also:
<a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [Problems View] Time response while debugging slows down when several perspectives are opened"
   href="show_bug.cgi?id=44069">bug 44069</a> - [Problems View] Time response while debugging slows down when 
several perspectives are opened
<a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [Tasks] No summary shown in status line"
   href="show_bug.cgi?id=39436">bug 39436</a> - [Tasks] No summary shown in status line
<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Performance regression on Mac"
   href="show_bug.cgi?id=43721">bug 43721</a> - Performance regression on Mac</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-09 16:30:01 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Tasks] 100% CPU, possible bug in org.eclipse.jdt.internal.compiler.parser.Scanner"
   href="show_bug.cgi?id=42923">Bug 42923</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-09 18:18:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Post M4, we (JDTCore) will explore removing the validation of compilation unit 
element names (since 1.0). Need to be careful about ramifications, but should 
improve performance significantly.</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-09 21:18:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">Is there a bug report associated with the JDT work (so we will know when this 
work has been complete)?</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Philipe Mulet</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=philippe_mulet&#64;fr.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=philippe_mulet&#64;fr.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-10 11:45:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">I created one for this item, see <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Should not validate unit/classfile handles upon creation"
   href="show_bug.cgi?id=44662">bug 44662</a>.</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-14 11:03:58 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Problems/right-click/Select All is very slow."
   href="show_bug.cgi?id=44728">Bug 44728</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-15 12:46:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">FYI, a newsgroup user is reporting full builds in M3 taking &quot;forever&quot; (over an
hour) when the problems view is filtering, while performance is fine when the
filtering is turned off.</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-20 16:30:14 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Eclipse 3.0M4 perform exhausting operations (freeze) on incremental (small) builds"
   href="show_bug.cgi?id=45168">Bug 45168</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-10-29 10:56:44 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Performance degradation after Upgrade from Integration to 3.0 M4"
   href="show_bug.cgi?id=45164">Bug 45164</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-05 11:09:08 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=6661&amp;action=diff" name="attach_6661" title="Beginnings of a fix">attachment 6661</a> <a href="attachment.cgi?id=6661&amp;action=edit" title="Beginnings of a fix">[details]</a></span>
Beginnings of a fix

This patch is not a complete fix.</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-10 23:04:56 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6722&amp;action=diff" name="attach_6722" title="This builds on debbie's previous patch">attachment 6722</a> <a href="attachment.cgi?id=6722&amp;action=edit" title="This builds on debbie's previous patch">[details]</a></span>
This builds on debbie's previous patch

In addition to debbie's previous patch:
- Rather than computing all markers and filtering them, the filter critia is
used to direct the search. Thus the filtering time is now proportional to the
number of markers that pass the filter, not the total number of markers. This
particularly speeds up filtering when the maximum number of problem markers is
reduced.
- The problems view is no longer refreshed under selection changes when the
filter is disabled.
- Filtering a resource delta containing M markers on a working set with W
resources now runs in O((W + M) log W), improving the previous time bound of
O(M^2 + MW).</pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-10 23:08:54 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6723&amp;action=diff" name="attach_6723" title="This should also improve performance slightly.">attachment 6723</a> <a href="attachment.cgi?id=6723&amp;action=edit" title="This should also improve performance slightly.">[details]</a></span>
This should also improve performance slightly.

When profiling the code, I noticed that a lot of runtime was spent resizing the
ArrayList in MarkerManager.buildMarkers... this patch changes the ArrayList
into a LinkedList, which should speed insertions for large lists.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-10 23:29:25 EST
        </span>

      </div>




<pre class="bz_comment_text">I tested the above patch by creating a workspace with over 8,000 errors (by
importing plugins and deleting their dependencies), then created a working set
containing over 100 individual files (and no complete folders or projects). I
then timed how long it took to apply the filter.

Without the patch, my Eclipse install ran for over 10 minutes before I killed
the process. With the patch, the filter could be applied in less than 2 seconds.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-10 23:50:20 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6724" name="attach_6724" title="In case there's any problem applying the above patches, here's the full source">attachment 6724</a> <a href="attachment.cgi?id=6724&amp;action=edit" title="In case there's any problem applying the above patches, here's the full source">[details]</a></span>
In case there's any problem applying the above patches, here's the full source</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 10:11:31 EST
        </span>

      </div>




<pre class="bz_comment_text">Re: <a href="show_bug.cgi?id=44443#c11">comment #11</a>.  Did profiling show the linked list to be faster?  Since linked
list creates a new object for every insertion, and array list only creates a new
object when it grows, I'm surprised this is faster overall.  Perhaps a more
aggressive growth function could be used for the array list to avoid the
overhead of growing the list so often.</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Gary Gregory</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ggregory&#64;seagullsw.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ggregory&#64;seagullsw.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 13:19:45 EST
        </span>

      </div>




<pre class="bz_comment_text">FWIW, a data point, in my few large projects in my workspace, I have 46,694
Problems, no compile errors. It does slow things down a bit ;-)</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 16:13:47 EST
        </span>

      </div>




<pre class="bz_comment_text">Regardling LinkedList versus ArrayList:

If an ArrayList doubles in size every time it runs out of space, it will take
O(n log n) time to make n insertions (since the array must be copied approx
O(log n) times, and each copy takes O(n) time). A linked list takes constant
time for each insertion, to it takes O(n) time for n insertions, even though
there is a high hidden coefficient.

The Marker code was calling ensureCapacity before each set of insertions, which
appears to be causing the ArrayList to grow by a constant factor each time
(rather than doubling). This means that the array must be copied O(n) times
(assuming that the markers are evenly distributed among resources), for an
overall runtime of O(n^2).

Even though individual insertions in a small linked list are massively slower
than an array, its asymptotic growth is lower so it will be much faster for
large lists. My profiling showed a moderate improvement in the runtime after
switching to lists, but I was using statistical methods over a short time
duration so the improvement could have been due to experimental error. I would
encourage you to verify these findings yourself.
</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 17:45:30 EST
        </span>

      </div>




<pre class="bz_comment_text">Tsk tsk, someone's forgetting their complexity analysis &lt;g&gt;

It will grow log(n) times, but it will not copy O(n) elements each time.  Say it
starts with size=1 and growth function is 2.  On the first growth it copies one
element, on the second growth it copies 2, then 4, etc up to n. This results in
the summation:

1 + 2 + 4 + ... + n/4 + n/2 + n &lt; 2n

The result is O(n) complexity for insertion n elements (same as LinkedList).  If
you don't believe me, just read the javadoc for ArrayList:

 * The &lt;tt&gt;size&lt;/tt&gt;, &lt;tt&gt;isEmpty&lt;/tt&gt;, &lt;tt&gt;get&lt;/tt&gt;, &lt;tt&gt;set&lt;/tt&gt;,
 * &lt;tt&gt;iterator&lt;/tt&gt;, and &lt;tt&gt;listIterator&lt;/tt&gt; operations run in constant
 * time.  The &lt;tt&gt;add&lt;/tt&gt; operation runs in &lt;i&gt;amortized constant time&lt;/i&gt;,
 * that is, adding n elements requires O(n) time.  All of the other operations
 * run in linear time (roughly speaking).  The constant factor is low compared
 * to that for the &lt;tt&gt;LinkedList&lt;/tt&gt; implementation.&lt;p&gt;


Your second point about ensureCapacity is interesting though.  The class library
implementation I'm using ensures that the growth function is still used when
ensureCapacity is used (it uses newSize = Math.max(userSize, (oldSize * 3) /
2)), but this might be different with another class library implementation I
suppose.

I have benchmarks for this code so I'll play around with the growth function of
the list to see if it improves performance.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 18:53:25 EST
        </span>

      </div>




<pre class="bz_comment_text">I did some profiling on a larger test case (14,000 markers on 19,500 resources,
repeating the search 2000 times), calling findMarkers(DEPTH_INFINITE) on the
workspace root. With the current implementation it takes 32 milliseconds, and
with your patch it takes 47 milliseconds. In any case, at these speeds our
optimization efforts are probably better directed elsewhere &lt;g&gt; (<a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [CommandMgmt] Keybinding engine performance can be slow"
   href="show_bug.cgi?id=44864">bug 44864</a> being
my favorite...)
</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 20:03:06 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6739&amp;action=diff" name="attach_6739" title="Same patch, merged with HEAD on 2003/11/11">attachment 6739</a> <a href="attachment.cgi?id=6739&amp;action=edit" title="Same patch, merged with HEAD on 2003/11/11">[details]</a></span>
Same patch, merged with HEAD on 2003/11/11</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-11 20:19:38 EST
        </span>

      </div>




<pre class="bz_comment_text">Okay. Forget <span class="bz_obsolete"><a href="attachment.cgi?id=6723&amp;action=diff" name="attach_6723" title="This should also improve performance slightly.">attachment 6723</a> <a href="attachment.cgi?id=6723&amp;action=edit" title="This should also improve performance slightly.">[details]</a></span>, then. The main performance hit is still fixed by
<span class="bz_obsolete"><a href="attachment.cgi?id=6739&amp;action=diff" name="attach_6739" title="Same patch, merged with HEAD on 2003/11/11">attachment 6739</a> <a href="attachment.cgi?id=6739&amp;action=edit" title="Same patch, merged with HEAD on 2003/11/11">[details]</a></span>.
</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-12 00:57:42 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED DUPLICATE - [Dialogs] Creating a new file does not work"
   href="show_bug.cgi?id=39621">Bug 39621</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-12 13:05:07 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6753" name="attach_6753" title="Full source for the patch, merged with HEAD on 2003/11/11">attachment 6753</a> <a href="attachment.cgi?id=6753&amp;action=edit" title="Full source for the patch, merged with HEAD on 2003/11/11">[details]</a></span>
Full source for the patch, merged with HEAD on 2003/11/11

For those of you having problems getting the last patch to apply, here's the
full source for the modified files.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Douglas Pollock</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=douglas.pollock&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=douglas.pollock&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-12 17:19:33 EST
        </span>

      </div>




<pre class="bz_comment_text">I'm going to have to reject this patch.  I've encountered two problems so far:
1.) OutOfMemoryError when compiling after the patch (as opposed to before). 
Also, the rebuilds take a lot longer (likely because of the OutOfMemoryError).
2.) If I have a filter set to show 2000 items maximum, it displays 2000 items if
there are more than 2000 items actually.  Previously, if there were more, it
would display a message saying there were too many.

I'd imagine these two are related, but I'm not sure.

My test environment is simply a standard platform-ui workspace.  platform-ui
module from CVS, with everything else as binary projects.  I have very strict
compiler options (typically 20000+ warnings).  A rebuild is executed to test the
problem view.  Oh, and I'm using GTK.

(They also seem to disagree as to how many problems there are....  I'm not sure
about that though.  I don't want to give any red herrings.)

Giving this bug to Stefan, as he seems to be working on it now....</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-13 15:59:04 EST
        </span>

      </div>




<pre class="bz_comment_text">Please give some steps to reproduce 1). This definitely needs fixing.

Regarding &quot;show X items&quot; actually displaying X items rather than an error
message: this seems like a bugfix, not a bug (I think MvM had comments about
this). However, this would mean your problems view tends to contain more
entries. Perhaps differences in the GTK widgetry explain the performance
degradation?

Please provide more information for both problems: Exactly what filters were you
using, where did you notice the degradation (incremental builds, full builds,
selection changes, or applying a new filter?)

If you could attach some sort of profiler data, it would really help me with the
performance problem.

BTW, perhaps the OutOfMemoryError is a duplicate of <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED WORKSFORME - [Markers] Problem View contents empty due to silent OutOfMemory error"
   href="show_bug.cgi?id=43351">bug 43351</a>? This might not be
due to the patch.

</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-13 17:02:29 EST
        </span>

      </div>




<pre class="bz_comment_text">Doug and I investigated the performance issue. It looks like the limit on
displayed errors is not always being applied, and during a build the problems
view can contain all the markers in the workspace. Working on a fix.
</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-18 01:38:50 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6827" name="attach_6827" title="Possible fix">attachment 6827</a> <a href="attachment.cgi?id=6827&amp;action=edit" title="Possible fix">[details]</a></span>
Possible fix

This is a preliminary fix. It is not well tested, but I'm including this early
version here for comment.

In addition to the previous patches:
- The SWT Table is now updated incrementally in a background thread.
- Once the marker limit is reached, the underlying SWT Table is cleared.
- The view's content and its title are now updated by the same listener
- The error message about exceeding the marker limit is back.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-19 12:51:15 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6869" name="attach_6869" title="Latest patch">attachment 6869</a> <a href="attachment.cgi?id=6869&amp;action=edit" title="Latest patch">[details]</a></span>
Latest patch

Latest version of the patch. This still has a known bug (it munges up the
numbers of errors visible on the status bar and title of the problems view)...
but it should be sufficient for benchmarking.

My test cases:
--------------

All tests done in a workspace containing 14,000 errors. 
- Times for &quot;rebuild all&quot; were similar with and without the patch (with all
combinations of filters). The same test ranged between 58-115s, so there was a
high experimental error here.
- Without the patch, Eclipse could not apply a working set filter with 100
distinct files (no folders or projects).
- Selection changes in the package explorer were significantly faster with the
patch. Using the &quot;selected resource and children&quot; filter, selection changes
took 6-12 seconds when selecting or deselecting a project with 12,000 errors.
With the patch, the same selection change consistently took less 300ms.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-20 20:26:10 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6898" name="attach_6898" title="All known issues fixed">attachment 6898</a> <a href="attachment.cgi?id=6898&amp;action=edit" title="All known issues fixed">[details]</a></span>
All known issues fixed

Okay. All known issues have been fixed. 

I have not been able to reproduce Doug's OutOfMemoryException. Doug, can you
let me know if this is still an issue? There is definitely still room for
memory optimization if it is.</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-27 16:58:09 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=6990" name="attach_6990" title="Latest patch, following suggestions from Tod">attachment 6990</a> <a href="attachment.cgi?id=6990&amp;action=edit" title="Latest patch, following suggestions from Tod">[details]</a></span>
Latest patch, following suggestions from Tod</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-27 17:42:14 EST
        </span>

      </div>




<pre class="bz_comment_text">The latest patch adds the following:
- Marker searches and filtering is done in in a background thread (although this
now takes less than 400ms in a workspace with 30,000 markers).
- Threading is done using the Jobs API.
- Various changes have been made to the marker views and their actions to reduce
 concurrency issues.
- ITableViewContentProvider and MarkerRegistry are gone.
- Rather than adding and removing markers based on the contents of resource
deltas, the entire view is invalidated when a resource changes. This eliminates
stale marker bugs, and does not seriously impact performance since filtering is
now very fast.

</pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-27 18:17:21 EST
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt;- Rather than adding and removing markers based on the contents of resource
&gt;deltas, the entire view is invalidated when a resource changes. This eliminates
&gt;stale marker bugs</span >

It seems really wasteful not to make use of the marker deltas generated by core.
Are you saying that you'll refresh the entire view when any resource changes? 
Is this based on a belief that stale marker bugs are caused by incorrect marker
deltas? If so it needs to be investigated in core, otherwise other clients of
marker deltas will have similar problems.

Note there is a method IResourceChangeEvent.findMarkerDeltas that produces a
list of marker changes for you without even having to traverse the delta. </pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-27 19:22:02 EST
        </span>

      </div>




<pre class="bz_comment_text">When the search is occurring in a background thread and takes less than 300ms
(even in extreme cases), there is no point in maintaining the large amount of
code that tried to optimize this further by keeping track of deltas. Prior to
the patch, filtering was slow and happened in the UI thread. Neither of these
are the case anymore.

The bottleneck isn't in the marker search or filtering. The bottleneck is now in
Table and TableViewer.
</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 09:08:52 EST
        </span>

      </div>




<pre class="bz_comment_text">This patch is still not ready to go

1) There are a lot of compiler warnings, including some unused imports which 
get flagged by the builder. Please tidy these up

2) I get two Searching for Markers jobs which never move pat 0% progress

3) When the table updates I get chunks of it dissappearing a time leaving 
several blank entries in the table for the duration of the operation.

I'll attach a new patch done against HEAD to save the pain of integration</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 09:12:17 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=6999" name="attach_6999" title="Progress View screenshot showing missing lines">attachment 6999</a> <a href="attachment.cgi?id=6999&amp;action=edit" title="Progress View screenshot showing missing lines">[details]</a></span>
Progress View screenshot showing missing lines</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 09:14:58 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=7000&amp;action=diff" name="attach_7000" title="Patch applied against current HEAD">attachment 7000</a> <a href="attachment.cgi?id=7000&amp;action=edit" title="Patch applied against current HEAD">[details]</a></span>
Patch applied against current HEAD</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Edgar</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=n.a.edgar&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=n.a.edgar&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 09:15:55 EST
        </span>

      </div>




<pre class="bz_comment_text">If an incremental compile generates a few new problems (or fixes a few), the 
Problems view should not have to be fully refreshed.  This will consume more 
cycles (even if done in a background thread), and will result in more UI 
flicker than just processing the delta.  

I strongly suggest leaving the delta processing in.</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 09:16:43 EST
        </span>

      </div>




<pre class="bz_comment_text">There was also the following walkback in the log.

The steps are

1) Createa new workbench
2) Load platform-ui module
3) Load it again

!STACK 0
java.lang.IndexOutOfBoundsException: Index: 1, Size: 1
	at java.util.ArrayList.RangeCheck(ArrayList.java:507)
	at java.util.ArrayList.get(ArrayList.java:324)
	at java.util.Collections$SynchronizedList.get(Collections.java:1786)
	at org.eclipse.core.internal.jobs.JobListeners$7.run
(JobListeners.java:111)
	at org.eclipse.core.internal.runtime.InternalPlatform.run
(InternalPlatform.java:1127)
	at org.eclipse.core.runtime.Platform.run(Platform.java:464)
	at org.eclipse.core.internal.jobs.JobListeners.doNotify
(JobListeners.java:86)
	at org.eclipse.core.internal.jobs.JobListeners.done
(JobListeners.java:135)
	at org.eclipse.core.internal.jobs.JobManager.endJob
(JobManager.java:283)
	at org.eclipse.core.internal.jobs.WorkerPool.endJob
(WorkerPool.java:120)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:72)</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 13:08:44 EST
        </span>

      </div>




<pre class="bz_comment_text">I must have been unclear. Updating the table widget (ie: the slow part, and the
part that causes flicker) is still incremental. Filtering and searching are no
longer incremental. These are not the same thing.

FOR EXAMPLE:

1. A delta arrives.
2. The view is invalidated. 
3. Pending updates to the problems view are cancelled (see steps 9 and 10).
4. A background job is scheduled to search for markers.
5. The search job blocks until the workspace has stablized.
6. The entire workspace is searched for new markers.
7. Three new markers are discovered that are not currently visible in the
problems view.
8. The three new markers are added to a queue of changes to the table view.
9. A update job is created to incrementally apply the pending changes, and the
search job terminates.
10. When the update job wakes up, it discovers the 3 new markers in its queue
and adds them to the table without changing the rest of the table contents. If
there are too many other changes pending for the table widget, the job sleeps
and step 10 repeats until the table is up-to-date.

The part that is no longer incremental is the bit in step 6. The bit that needs
to be incremental to reduce flicker orrurs in step 10. 


WHY REMOVE INCREMENTAL SEARCHING:

Eliminating incremental searching means that resource changes, selection changes
(in the package explorer), and filter changes can all share the same code.
Otherwise, they all need their own algorithms for determining the set of markers
that have been added or removed since the last search. True, the searches
themselves aren't too complex, but these things all happen in different threads
and keeping them in synch is messy.... and even if you get it right, the best
you can do is save 300ms in a background thread that runs once per build.

If you disagree with me about the CPU cost or how frequently it occurs, I
encourage you to profile MarkerFilter.findMarkers, which is where all searching
and filtering occurs. 


REGARDING FLICKER:

Yes, there IS more flicker. This has nothing to do with searching or filtering
-- it is because of the new update job (steps 9 and 10). Without the patch, all
changes to the table widget are applied at once (ie: you can -- and will -- have
increments of over 20,000 markers). This causes Eclipse to completely lock up
until the table is sorted and refreshed, which can take over 10 seconds. 

With certain filters (ie: &quot;selected resource&quot;, &quot;selected resource and children&quot;,
and &quot;anything in the same project&quot;), the visible markers change drastically each
time you click on the package explorer or a new editor... and 10 second lag per
mouseclick is virtually unusable.

With the patch, this is split up into many increments of about 100ms each. This
lets you continue using Eclipse while the updates occur, although it necessarily
creates flicker while the table updates. The choice is: either you can't use
Eclipse at all for about 10 seconds or you live with a flickery problems view
for about 40 seconds.

If we could improve the insertion and removal times for TableViewer and Table,
then the changes could be applied in larger increments and the flicker would no
longer be noticable. 
</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 15:07:20 EST
        </span>

      </div>




<pre class="bz_comment_text">Regarding <a href="show_bug.cgi?id=44443#c37">comment 37</a>

1) Will fix.

2) This is not a problem. The tasks view and the problems view each has its own
&quot;searching for markers&quot; job. If there is a build running, the search jobs wait
for the build to finish and will not progress beyond 0%. Once the build is
finished, and the actual search and filtering usually happens too quickly to see
any change in the progress monitor. 

To eliminate confusion, I will change the description to indicate which view is
associated with which job, and add a subtask to explain that the marker search
is waiting for another operation to complete.

3) Attempting to reproduce.
</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 17:22:15 EST
        </span>

      </div>




<pre class="bz_comment_text">Re: <a href="show_bug.cgi?id=44443#c36">comment 36</a>, it's not a matter of leaving the delta processing in -- it's a
matter of rewriting the delta processing so that it is multithread-friendly.</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 20:32:03 EST
        </span>

      </div>




<pre class="bz_comment_text">The problem in <a href="show_bug.cgi?id=44443#c37">comment 37</a> does not appear related to this patch (or the problem
it fixes). This should probably be filed as a new bug.</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-11-28 20:35:56 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=7007" name="attach_7007" title="Let's try again">attachment 7007</a> <a href="attachment.cgi?id=7007&amp;action=edit" title="Let's try again">[details]</a></span>
Let's try again

This adds some additional progress messages so that people don't misinterpret
the 0% progress bar as a bug.

Also fixes a bug discovered by Tod that occasionally prevents the marker count
from being invalidated.</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-01 10:02:12 EST
        </span>

      </div>




<pre class="bz_comment_text">Re: <a href="show_bug.cgi?id=44443#c38">comment #38</a>

6. The entire workspace is searched for new markers.
7. Three new markers are discovered that are not currently visible in the
problems view.

To discover that there are three *new* markers, don't you have to manually
compute a delta of your own?  I.e, you can search the workspace and obtain a
list of all existing markers, but then to figure out if any of these are new
don't you need to compare that complete set against the marker view contents? 
All this to compute the information obtained by
IResourceChangeEvent.findMarkerDeltas...</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-01 10:59:33 EST
        </span>

      </div>




<pre class="bz_comment_text">The walkback in <a href="show_bug.cgi?id=44443#c37">comment #37</a> is a dup of core <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ArrayIndexOutOfBoundsException from JobManager"
   href="show_bug.cgi?id=46883">bug 46883</a>.</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-01 11:39:40 EST
        </span>

      </div>




<pre class="bz_comment_text">Re: <a href="show_bug.cgi?id=44443#c43">comment 43</a>

I fear I've made a mistake by initiating a discussion by posting a simplified
summary of the patch. I appologise for the unnecessary traffic. It seems that
anything less than the source code itself is open to ambiguity and misunderstanding.

The important parts are:
- Working set filters are faster (measured improvements of over 1000 times).
- Selection changes are significantly faster for selection-sensitive filters
(measured improvements of over 20 times)
- <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - [Tasks] No summary shown in status line"
   href="show_bug.cgi?id=39436">bug 39436</a> is fixed
- Builds are slightly faster (by up to 10%)
- The most intensive computations have been moved out of the UI thread or broken
up into increments.

These can be easily measured and verified. 

It is still possible to improve performance further by any number of additional
optimizations (including examining resource deltas), but these not necessary to
fix this bug.

If there is a case where this patch degrades performance, creates additional
bugs, or fails to fix the problem originally reported here, please report it
here. If anyone is curious about implementation details, I will be happy to
discuss it via e-mail.</pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-01 17:59:52 EST
        </span>

      </div>




<pre class="bz_comment_text">After discussions with Nick and John:

Requirements:
- Code for processing change deltas will be added. It seems that the empty
problems view (<a href="show_bug.cgi?id=44443#c34">comment 34</a>) was occurring prior to the patch, but it may have
been related to the processing of change deltas. 
- A more efficient variant of the IContainmentAdapter code will be folded back
in. The JDT requires the use of IContainmentAdapter for its working sets. 
- The flickering problems view will be fixed before this gets merged with head.

Suggestions:
- Flag uninteresting jobs as &quot;system&quot;
- Use scheduling rules to prevent the 0% progress meters from appearing until
they are ready to proceed.
- Ignore resource deltas that do not contain marker changes.


</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Edgar</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=n.a.edgar&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=n.a.edgar&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-02 11:30:52 EST
        </span>

      </div>




<pre class="bz_comment_text">Not sure if the old code used IContainmentAdapter for the other filtering modes 
that track selection, but it should.  For example, if I select package a, it 
should show only the problems in compilation units in package a (or the package 
itself), and should not should problems in package a.b.
</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-02 12:12:36 EST
        </span>

      </div>




<pre class="bz_comment_text">If the old code didn't use IContainmentAdapter, then I strongly recommend that
we do not begin using it now. 

IContainmentAdapter is the main reason why Working Set filters are so slow. It
takes over 10 minutes (and often over 30 minutes), to apply an
IContainmentAdapter-based filter to 15,000 markers with a working set of size
100. This is not reasonable.

If we're planning on adding a new feature to support working sets on the logical
(as well as physical) structure, we need something more powerful than
IContainmentAdapter.

Here are two possible solutions:

Solution 1:
-----------
Provide the power to traverse the children of an object supporting
IContainmentAdapter. In this case, a single DFS can be used to build a more
efficient search structure that could be used for subsequent lookups.

Rather than IContainmentAdapter, use something like this:

interface ITreeAdapter {
  Object[] getChildren();
  Object getParent();
  boolean contains(Object element);
}

It might be possible to reuse existing TreeContentProviders for this purpose

Solution 2:
-----------

Add a &quot;contains(...)&quot; method to IWorkingSet. In this case, specialized working
sets could implement more efficient searches internally.

Solution 3:
-----------

Back out of our support for IContainmentAdapter on working sets, and redefine
&quot;working set&quot; to refer specifically to physical structure. Since the current
working sets are effectively unusable, we lose nothing by changing their
semantics slightly.


Note that the current patch uses solution 3, which reduces the filtering time
from over 10 minutes to a few milliseconds. 

</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-02 12:20:22 EST
        </span>

      </div>




<pre class="bz_comment_text">Note: I am currently updating the patch to make use of IContainmentAdapter. 

In order to make this run in a reasonable amount of time, I am making the
assumption that an IResource can only be in the working set if it has a physical
parent in the working set. 

This assumption may not always be correct and filtering will still be many times
slower than it is with the current patch. To be completely clear: we cannot
continue to use IContainmentAdapter in its current form to determine containment
in a working set.
</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Nick Edgar</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=n.a.edgar&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=n.a.edgar&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-02 12:46:28 EST
        </span>

      </div>




<pre class="bz_comment_text">Solution 1: I believe this is one approach we tried before we came up with 
IContainmentAdapter.  The problem here is that it can be used to efficiently 
determine the initial set of markers to display, but it can't be used for 
testing containment after initial population (e.g. when a new marker comes 
along).  There's also no notification for when resources change under an 
element in the working set.

Solution 2: There is only one implementation of IWorkingSet.  A Java working 
set is not really a different kind of working set, it just has different kinds 
of elements (Java elements instead of resources).

Solution 3: I disagree that we lose nothing.  Users find it really confusing 
when problems from subpackages are shown when they didn't ask for them.  We had 
recurring PRs against earlier versions of Eclipse because of this problem.  
While it's true that the worst-case performance for working set filtering is 
abysmal, in practice you don't see this in typical manually-created working 
sets.  I'm not tied to the current solution using IContainmentAdapter.  If we 
can come up with a better mechanism to solve the problem, then great.  However, 
I think it's important that we not lose the ability to filter markers by 
package, and as mentioned in <a href="show_bug.cgi?id=44443#c47">comment #47</a>, this should also work for regular 
selection-based filtering.  Let's see how bad the performance is with your new 
patch (following the approach we discussed yesterday) then re-evaluate.

</pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-02 14:28:26 EST
        </span>

      </div>




<pre class="bz_comment_text">Regarding solution 1:

This can be used to determine containment when new markers arrive. Here's how: 

1. Put every resource in the working set into a HashSet. Use the getChildren()
methods to perform a DFS on every element in the working set. Do not search the
contents of non-IResource elements. Insert the path to every IResource touched
by the DFS into a HashSet called C.

2. To test if a particular marker passes the filter, determine if the path to
its resource is in C.

3. Every time a resource change event occurs or the user explicitly changes
their working set, invalidate C (and regenerate it the next time we test a marker).

Note that generating the cache C in step 1 is the slowest part. However, step 1
is still faster than a single IContainmentAdapter test right now since it only
traverses IResources and not the entire Java model. The cache is reused for
multiple marker tests.

The working set itself doesn't need to send notifications when its resources
change. The algorithm can be run in the viewer, which can attach a regular
ResourceChangeListener to the workspace so that it knows when to invalidate the
cache.

Algorithm Runtime:

Let 
 W = resources in working set
 R = resources directly or indirectly included in the working set
 J = number of nodes in the java model in the R resources
 M = number of markers to be filtered

Where W &lt; R &lt; M
 
Assuming a pessimistic O(lg n) insertion and containment test time for HashSet,
the algorithm will run in:

O((R+M) lg R)

Assuming O(1) HashSet operations, we get:

O(R+M)

In contrast, the current algorithm runs in O(JM)

The worst case for the proposed algorithm would occur if a resource change event
occurs between each marker test, in which case the algorithm takes O(RM) time
for M marker tests. However, this is still better than the current runtime since
R is much smaller than J. The typical case would closely resemble the best case,
since there is usually only one resource change per refresh of the problem view.

</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-02 15:16:30 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - Bad performance filtering problems"
   href="show_bug.cgi?id=47902">Bug 47902</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Scott Klemmer</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=srk&#64;cs.berkeley.edu" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=srk&#64;cs.berkeley.edu" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-03 23:09:12 EST
        </span>

      </div>




<pre class="bz_comment_text">In Eclipse 3.0M5 filtering tasks is *much* slower than filtering in Eclipse 
2.1.1. (Probably two orders on magnitude slower.) I'm using Windows XP.</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-09 01:06:25 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=7090" name="attach_7090" title="Latest patch with sorting optimizations">attachment 7090</a> <a href="attachment.cgi?id=7090&amp;action=edit" title="Latest patch with sorting optimizations">[details]</a></span>
Latest patch with sorting optimizations

This version of the patch adds:
- Sorting is now done incrementally in a background thread
- When applying the marker limit, the problems view now shows the top markers
(according to the current sort criteria) instead of an error message. This
makes the problem view usable with very low marker limits, resulting in
significantly better refresh times.
- The default marker limit has been changed from 2000 to 300.
- There is no more flicker when populating the marker views
- Markers are inserted at the end of the TableViewer whenever possible, to take
advantage of the best-case Table insertion times.
- Redraw is disabled while populating the table widgets.
- Resource deltas are now examined. Deltas containing no marker additions or
removals can now be processed without refreshing the view.
- Marker comparisons are now approximately 5 times faster (the view now caches
marker data in a form efficient for comparisons).
- Much of the threading code has been rewritten to reduce the probability of
the UI waiting on mutexes, and to allow long-running background operations to
be interrupted safely.
- The average amount of processing per update in the UI thread has been reduced
from (approx) 200ms to 50ms.

Note: this code appears to work correctly with the Dec 3 integration build, but
I have not been able to get the code in HEAD on Dec 8 to launch correctly. If
anyone has their workspace in a stable state, could you please investigate if
this can go into tomorrow's build?</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-09 01:19:54 EST
        </span>

      </div>




<pre class="bz_comment_text">Note: The current patch still does not use IContainmentAdapter for working sets.
The performance degradation for IContainmentAdapter-based filtering is still too
severe.</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tod Creasey</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Tod_Creasey&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Tod_Creasey&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-09 09:25:14 EST
        </span>

      </div>




<pre class="bz_comment_text">I have released the current patch - inital testing is looking good (and fast!) 
and it looks like the dead marker problem has also been solved - excellent 
work Stefan. The only prpblem I found was that I lost selection when I changed 
sort order.

I'll leave the PR open until you have fixed all of the issues you wanted to 
look at.</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-09 15:40:21 EST
        </span>

      </div>




<pre class="bz_comment_text">I believe the problem described in this PR is fixed. I will open new PRs for any
problems caused by the patch.

Please reopen if the performance degradation is still a problem.</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Debbie Wilson</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=debbie_wilson&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=debbie_wilson&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2003-12-16 15:08:15 EST
        </span>

      </div>




<pre class="bz_comment_text">Verified in I200312160800.
</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-02-26 00:55:11 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Tasks] adding only 266 items takes 700ms (under a profiler)"
   href="show_bug.cgi?id=28162">Bug 28162</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=44443#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Xenos</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sxenos&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sxenos&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2004-09-23 14:55:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - [Tasks] Make Problems View/Tasks View asynchoronous"
   href="show_bug.cgi?id=40822">Bug 40822</a> has been marked as a duplicate of this bug. ***</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=44443">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=44443">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=44443">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=44443&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=44443" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>