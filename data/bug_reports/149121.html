<!DOCTYPE html>
<html lang="en">
  <head>
    <title>149121 &ndash; ObjectNotFoundException prevents opening workspace</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link href="https://bugs.eclipse.org/bugs/data/assets/03c4bb46b12126a79867f9a9f5323634.css?1593441374" rel="stylesheet" type="text/css">



    
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/a7c2f3a028f17a9aa60f56dc9d6e732d.js?1593441374"></script>

    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        YAHOO.util.Event.addListener = function (el, sType, fn, obj, overrideContext) {
               if ( ("onpagehide" in window || YAHOO.env.ua.gecko) && sType === "unload") { sType = "pagehide"; };
               var capture = ((sType == "focusin" || sType == "focusout") && !YAHOO.env.ua.ie) ? true : false;
               return this._addListener(el, this._getType(sType), fn, obj, overrideContext, capture);
         };
        if ( "onpagehide" in window || YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        function unhide_language_selector() { 
            YAHOO.util.Dom.removeClass(
                'lang_links_container', 'bz_default_hidden'
            ); 
        } 
        YAHOO.util.Event.onDOMReady(unhide_language_selector);

        
        var BUGZILLA = {
            param: {
                cookiepath: '\/bugs',
                maxusermatches: 10
            },
            constant: {
                COMMENT_COLS: 80
            },
            string: {
                

                attach_desc_required:
                    "You must enter a Description for this attachment.",
                component_required:
                    "You must select a Component for this bug.",
                description_required:
                    "You must enter a Description for this bug.",
                short_desc_required:
                    "You must enter a Summary for this bug.",
                version_required:
                    "You must select a Version for this bug."
            }
              , api_token: ''
        };

    if (history && history.replaceState) {
      if(!document.location.href.match(/show_bug\.cgi/)) {
        history.replaceState( null,
                             "149121 – ObjectNotFoundException prevents opening workspace",
                             "show_bug.cgi?id=149121" );
        document.title = "149121 – ObjectNotFoundException prevents opening workspace";
      }
      if (document.location.href.match(/show_bug\.cgi\?.*list_id=/)) {
        var href = document.location.href;
        href = href.replace(/[\?&]+list_id=(\d+|cookie)/, '');
        history.replaceState(null, "149121 – ObjectNotFoundException prevents opening workspace", href);
      }
    }
    YAHOO.util.Event.onDOMReady(function() {
      initDirtyFieldTracking();

    });
    // -->
    </script>
<script type="text/javascript" src="https://bugs.eclipse.org/bugs/data/assets/daf5e0fb6826e6a35280e622913f0c4a.js?1593441374"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico">
  </head>

  <body 
        class="bugs-eclipse-org-bugs
                 bz_bug
                 bz_status_RESOLVED
                 bz_product_Platform
                 bz_component_Resources
                 bz_bug_149121 yui-skin-sam">

  <div id="header"><!-- 1.0@bugzilla.org -->





<!--  START OF SOLSTICE HEADER -->
 <link rel="stylesheet" type="text/css" href="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/vendor/cookieconsent/cookieconsent.min.css" />
 <script src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/vendor/cookieconsent/default.min.js"></script>
 <style type="text/css">
    @import url('https://www.eclipse.org/eclipse.org-common/themes/solstice/public/stylesheets/barebone.min.css')
    </style>
    <script
      src="https://www.eclipse.org/eclipse.org-common/themes/solstice/public/javascript/barebone.min.js">
    </script><header role="banner" class="barebone-layout thin-header padding-top-5 padding-bottom-5"  id="header-wrapper">
  <div class="container-fluid reset">
    <div class="row-fluid" id="header-row">
            <div class="col-sm-8 col-md-6 col-lg-4" id="header-left">
        <div class="wrapper-logo-default"><a href="https://www.eclipse.org/"><img class="logo-eclipse-default img-responsive hidden-xs" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-426x100.png"/></a></div>
      </div>            <div class="col-sm-16 col-md-18 col-lg-20" id="main-menu-wrapper">
  <div class="navbar yamm" id="main-menu">
    <div id="navbar-collapse-1" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="visible-thin"><a href="https://www.eclipse.org/downloads/" target="_self">Download</a></li><li><a href="https://www.eclipse.org/users/" target="_self">Getting Started</a></li><li><a href="https://www.eclipse.org/membership/" target="_self">Members</a></li><li><a href="https://www.eclipse.org/projects/" target="_self">Projects</a></li>                  <li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Community <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Participate <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul></li><li class="dropdown visible-xs"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Working Groups <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul></li>          <!-- More -->
          <li class="dropdown eclipse-more hidden-xs">
            <a data-toggle="dropdown" class="dropdown-toggle">More<b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li>
                <!-- Content container to add padding -->
                <div class="yamm-content">
                  <div class="row">
                    <ul class="col-sm-8 list-unstyled"><li><p><strong>Community</strong></p></li><li><a href="http://marketplace.eclipse.org">Marketplace</a></li><li><a href="http://events.eclipse.org">Events</a></li><li><a href="http://www.planeteclipse.org/">Planet Eclipse</a></li><li><a href="https://www.eclipse.org/community/eclipse_newsletter/">Newsletter</a></li><li><a href="https://www.youtube.com/user/EclipseFdn">Videos</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Participate</strong></p></li><li><a href="https://bugs.eclipse.org/bugs/">Report a Bug</a></li><li><a href="https://www.eclipse.org/forums/">Forums</a></li><li><a href="https://www.eclipse.org/mail/">Mailing Lists</a></li><li><a href="https://wiki.eclipse.org/">Wiki</a></li><li><a href="https://wiki.eclipse.org/IRC">IRC</a></li><li><a href="https://www.eclipse.org/contribute/">How to Contribute</a></li></ul><ul class="col-sm-8 list-unstyled"><li><p><strong>Working Groups</strong></p></li><li><a href="http://wiki.eclipse.org/Auto_IWG">Automotive</a></li><li><a href="http://iot.eclipse.org">Internet of Things</a></li><li><a href="http://locationtech.org">LocationTech</a></li><li><a href="http://lts.eclipse.org">Long-Term Support</a></li><li><a href="http://polarsys.org">PolarSys</a></li><li><a href="http://science.eclipse.org">Science</a></li><li><a href="http://www.openmdm.org">OpenMDM</a></li></ul>                  </div>
                </div>
              </li>
            </ul>
          </li>
              </ul>
    </div>
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <div class="wrapper-logo-mobile"><a class="navbar-brand visible-xs" href="https://www.eclipse.org/"><img class="logo-eclipse-default-mobile img-responsive" alt="logo" src="https://bugs.eclipse.org/eclipse.org-common/themes/solstice/public/images/logo/eclipse-800x188.png"/></a></div>    </div>
  </div>
</div>
    </div>
  </div>
</header>
<!--  END OF SOLSTICE HEADER -->

    <div id="titles">
      <span id="title">Bugzilla &ndash; Bug&nbsp;149121</span>

        <span id="subtitle" class="subheader">ObjectNotFoundException prevents opening workspace</span>

        <span id="information" class="header_addl_info">Last modified: 2016-09-16 05:03:42 EDT</span>
    </div>


    <div id="common_links"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_top" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_top");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_top"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="show_bug.cgi?id=149121&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>

  <form action="show_bug.cgi?id=149121" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_top">
    <input id="Bugzilla_login_top" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_top" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_top">
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
    </div>
  </div>

  <div id="bugzilla-body">


<script type="text/javascript">
<!--

//-->
</script>

<form name="changeform" id="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2016-09-16 05:03:42">
  <input type="hidden" name="id" value="149121">
  <input type="hidden" name="token" value="1629878671-ZU2u6xuxNNxXvOfVTYAQhoCdNiJxds_v65UHQE4CHXQ">
<div class="bz_short_desc_container edit_form">
     <a href="show_bug.cgi?id=149121"><b>Bug&nbsp;149121</b></a> <span id="summary_container" class="bz_default_hidden">
      - <span id="short_desc_nonedit_display">ObjectNotFoundException prevents opening workspace</span>
     </span>

    <div id="summary_input"><span class="field_label "
    id="field_label_short_desc">


  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
      href="page.cgi?id=fields.html#short_desc"
  >Summary:</a>

</span>ObjectNotFoundException prevents opening workspace
    </div>
  </div>
  <script type="text/javascript">
    hideEditableField('summary_container',
                      'summary_input',
                      'summary_edit_action',
                      'short_desc',
                      'ObjectNotFoundException prevents opening workspace' );
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a href="page.cgi?id=fields.html#bug_status">Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_alias">


  <a 
      title="A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla."
      class="field_help_link"
      href="page.cgi?id=fields.html#alias"
  >Alias:</a>

</th>
    <td>
        None
    </td>
  </tr>
<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components. Select a Classification to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Platform

</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
      href="page.cgi?id=fields.html#classification"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Eclipse Project

</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
      href="describecomponents.cgi?product=Platform"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Resources

  (<a href="buglist.cgi?component=Resources&amp;product=Platform&amp;bug_status=__open__"
      target="_blank">show other bugs</a>)
</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">


  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
      href="page.cgi?id=fields.html#version"
  >Version:</a>

</th>

      <td>3.5 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">


  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
      href="page.cgi?id=fields.html#rep_platform"
  >Hardware:</a>

</th>
      <td class="field_value">PC
        Linux-GTK
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label  accesskey="i">
          <a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></label>:
      </th>
      <td>P3
       critical<span id="votes_container">
      with
      <a href="page.cgi?id=voting/bug.html&amp;bug_id=149121">4 
            votes</a>
    (<a href="page.cgi?id=voting/user.html&amp;bug_id=149121#vote_149121">vote</a>)
  </span>
      </td>
    </tr>

      <tr><th class="field_label "
    id="field_label_target_milestone">


  <a 
      title="The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it."
      class="field_help_link"
      href="page.cgi?id=fields.html#target_milestone"
  >Target Milestone:</a>

</th>
        <td>3.7 M7 &#160; <a href="https://dev.eclipse.org/committers/bugs/bugz_manager.php"><img src="//dev.eclipse.org/small_icons/apps/accessories-text-editor.png" alt="Edit" title="Edit these values" /></a></td>
      </tr>
          
          <tr><th class="field_label "
    id="field_label_assigned_to">


  <a 
      title="The person in charge of resolving the bug."
      class="field_help_link"
      href="page.cgi?id=fields.html#assigned_to"
  >Assignee:</a>

</th>
      <td><span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_qa_contact">


  <a 
      title="The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#qa_contact"
  >QA Contact:</a>

</th>
      <td><span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
      </td>
    </tr>
    <script type="text/javascript">
      assignToDefaultOnChange(['product', 'component'],
        'platform-resources-inbox\x40eclipse.org',
        '');
    </script>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">


  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
      href="page.cgi?id=fields.html#bug_file_loc"
  >URL:</a>

</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>

    <tr><th class="field_label "
    id="field_label_status_whiteboard">


  <a 
      title="Each bug has a free-form single line text entry box for adding tags and status information."
      class="field_help_link"
      href="page.cgi?id=fields.html#status_whiteboard"
  >Whiteboard:</a>

</th><td>  
  </td>
    </tr>

    <tr><th class="field_label "
    id="field_label_keywords">


  <a 
      title="You can add keywords from a defined list to bugs, in order to easily identify and group them."
      class="field_help_link"
      href="describekeywords.cgi"
  >Keywords:</a>

</th>
  <td class="field_value "
      id="field_container_keywords" >polish

</td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          <tr>
    <th class="field_label">
      <label>Duplicates (10)</label>:
    </th>
    <td class="field_value">
      <span id="duplicates"><a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Unrecoverable crash on Linux-GTK"
   href="show_bug.cgi?id=38682">38682</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse fails to start after plug-in change"
   href="show_bug.cgi?id=138102">138102</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - ObjectNotFoundException on startup after crash"
   href="show_bug.cgi?id=151075">151075</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - org.eclipse.core.resources bundle and consequently Eclipse doesn't start"
   href="show_bug.cgi?id=279766">279766</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - eclipse crashes at startup - non-recoverable"
   href="show_bug.cgi?id=329610">329610</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse crashes while trying to load up"
   href="show_bug.cgi?id=329815">329815</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - crashes with java exit code 1 on shared workspace after moving to new computer"
   href="show_bug.cgi?id=340367">340367</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - After changing Documents location path in registry I can't start Workspace"
   href="show_bug.cgi?id=356731">356731</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - IDE startup fails after hard shutdown"
   href="show_bug.cgi?id=396897">396897</a> <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse crashes with empty window after start"
   href="show_bug.cgi?id=474728">474728</a> 
      </span>
      (<a href="buglist.cgi?bug_id=38682,138102,151075,279766,329610,329815,340367,356731,396897,474728">view as bug list</a>)
    </td>
  </tr>
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#dependson"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>

  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
      href="page.cgi?id=fields.html#blocked"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
<a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Warn the user about a wrong sequence number in SaveManager#saveMasterTable"
   href="show_bug.cgi?id=343977">343977</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [Backport] ObjectNotFoundException prevents opening workspace"
   href="show_bug.cgi?id=345547">345547</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [Backport] ObjectNotFoundException prevents opening workspace"
   href="show_bug.cgi?id=345548">345548</a> <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [Backport] ObjectNotFoundException prevents opening workspace"
   href="show_bug.cgi?id=345549">345549</a> 
  </td>
  </tr>

    <tr>
      <th>&nbsp;</th>

      <td id="show_dependency_tree_or_graph">
        Show dependency <a href="showdependencytree.cgi?id=149121&amp;hide_resolved=1">tree</a>

      </td>
    </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table>
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2006-06-29 05:41 EDT by <span class="vcard"><span class="fn">Tom Hofmann</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;tom.hofmann.name" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;tom.hofmann.name" alt="Friend" title="Friend of Eclipse" /></a>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2016-09-16 05:03 EDT
      (<a href="show_activity.cgi?id=149121">History</a>)
    </td>
  
  </tr>
<tr>
      <th class="field_label">
        <label  accesskey="a">
          CC List:
        </label>
      </th>
      <td>37 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5" >
                <option value="adrian.hass">adrian.hass</option>
                <option value="aleksander.bandelj">aleksander.bandelj</option>
                <option value="andy.m.sheldon">andy.m.sheldon</option>
                <option value="ansgar.radermacher">ansgar.radermacher</option>
                <option value="beo.xtc">beo.xtc</option>
                <option value="chen_shaopeng">chen_shaopeng</option>
                <option value="cpuidle">cpuidle</option>
                <option value="daniel_megert">daniel_megert</option>
                <option value="dan_o'connor">dan_o'connor</option>
                <option value="david_williams">david_williams</option>
                <option value="ddyer">ddyer</option>
                <option value="eclipse.sprigogin">eclipse.sprigogin</option>
                <option value="ed">ed</option>
                <option value="hauser">hauser</option>
                <option value="henrik.xa.leion">henrik.xa.leion</option>
                <option value="j.lewis">j.lewis</option>
                <option value="jamesblackburn+eclipse">jamesblackburn+eclipse</option>
                <option value="jhorak">jhorak</option>
                <option value="krzysztof.daniel">krzysztof.daniel</option>
                <option value="lindner">lindner</option>
                <option value="marcin.swiezawski">marcin.swiezawski</option>
                <option value="mcgrawk">mcgrawk</option>
                <option value="Mike_Wilson">Mike_Wilson</option>
                <option value="mm">mm</option>
                <option value="mober.at+eclipse">mober.at+eclipse</option>
                <option value="owner">owner</option>
                <option value="patric">patric</option>
                <option value="pawel.pogorzelski1">pawel.pogorzelski1</option>
                <option value="pwebster">pwebster</option>
                <option value="remy.suen">remy.suen</option>
                <option value="snorthov">snorthov</option>
                <option value="sptaszkiewicz">sptaszkiewicz</option>
                <option value="Szymon.Brandys">Szymon.Brandys</option>
                <option value="tebriel">tebriel</option>
                <option value="thomas.baier">thomas.baier</option>
                <option value="wbprio">wbprio</option>
                <option value="zooloos">zooloos</option>
            </select>
        </div>
          <script type="text/javascript">
            hideEditableField( 'cc_edit_area_showhide_container', 
                               'cc_edit_area', 
                               'cc_edit_area_showhide', 
                               '', 
                               '');  
          </script>
      </td>
    </tr>

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
      href="page.cgi?id=fields.html#see_also"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" >

</td>
    </tr> 

<tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

<tr>
      <th class="field_label">
        <label>Flags:</label>
      </th>
      <td><span title="Szymon Brandys">Szymon.Brandys</span>:
      <span class="nowrap">review+</span><br>
      </td>
    </tr>

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts">
  <tr>
  <td>

    
<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var view_all = document.getElementById("view_all");
    var hide_obsolete_url_parameter = "&hide_obsolete=1";
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
        view_all.href = view_all.href + hide_obsolete_url_parameter 
    }
    else {
        link.innerHTML = "Hide Obsolete";
        view_all.href = view_all.href.replace(hide_obsolete_url_parameter,"");
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table">
  <tr id="a0">
    <th colspan="3" class="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=155107"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">The patch illustrating my previous comment</span></b></a>

          <span class="bz_attach_extra_info">
              (1.35 KB,
                patch)

            <br>
            <a href="#attach_155107"
               title="Go to the comment associated with the attachment">2009-12-29 05:39 EST</a>,

            <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=155107&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=155107&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=155331"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">NaiveFix</span></b></a>

          <span class="bz_attach_extra_info">
              (2.25 KB,
                patch)

            <br>
            <a href="#attach_155331"
               title="Go to the comment associated with the attachment">2010-01-05 09:47 EST</a>,

            <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=155331&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=155331&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a3" class="bz_contenttype_text_plain">
        <td>
            <a href="attachment.cgi?id=165745"
               title="View the content of the attachment">
          <b>.log from a crashed workspace</b></a>

          <span class="bz_attach_extra_info">
              (12.05 KB,
                text/plain)

            <br>
            <a href="#attach_165745"
               title="Go to the comment associated with the attachment">2010-04-22 08:25 EDT</a>,

            <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=165745&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a4" class="bz_contenttype_text_plain">
        <td>
            <a href="attachment.cgi?id=165746"
               title="View the content of the attachment">
          <b>configuration of host (WinXP)</b></a>

          <span class="bz_attach_extra_info">
              (201.62 KB,
                text/plain)

            <br>
            <a href="#attach_165746"
               title="Go to the comment associated with the attachment">2010-04-22 08:27 EDT</a>,

            <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=165746&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a5" class="bz_contenttype_text_plain">
        <td>
            <a href="attachment.cgi?id=166297"
               title="View the content of the attachment">
          <b>backtrace showing problem</b></a>

          <span class="bz_attach_extra_info">
              (3.42 KB,
                text/plain)

            <br>
            <a href="#attach_166297"
               title="Go to the comment associated with the attachment">2010-04-28 04:57 EDT</a>,

            <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=166297&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a6" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=170770"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch - different approach</span></b></a>

          <span class="bz_attach_extra_info">
              (4.54 KB,
                patch)

            <br>
            <a href="#attach_170770"
               title="Go to the comment associated with the attachment">2010-06-02 06:24 EDT</a>,

            <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=170770&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=170770&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a7" class="bz_contenttype_application_x-zip-compressed">
        <td>
            <a href="attachment.cgi?id=190443"
               title="View the content of the attachment">
          <b>An org.eclipse.core.resources workspace that crashes Eclipse 3.6 (RCP)</b></a>

          <span class="bz_attach_extra_info">
              (411.68 KB,
                application/x-zip-compressed)

            <br>
            <a href="#attach_190443"
               title="Go to the comment associated with the attachment">2011-03-04 16:11 EST</a>,

            <span class="vcard"><span class="fn">Andy Sheldon</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=andy.m.sheldon&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=andy.m.sheldon&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=190443&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr id="a8" class="bz_contenttype_text_plain bz_patch bz_tr_obsolete bz_default_hidden">
        <td>
            <a href="attachment.cgi?id=192630"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">Patch v.0.1</span></b></a>

          <span class="bz_attach_extra_info">
              (6.87 KB,
                patch)

            <br>
            <a href="#attach_192630"
               title="Go to the comment associated with the attachment">2011-04-06 07:15 EDT</a>,

            <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=192630&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=192630&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a9" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=193267"
               title="View the content of the attachment">
          <b>Patch v.0.2</b></a>

          <span class="bz_attach_extra_info">
              (4.59 KB,
                patch)

            <br>
            <a href="#attach_193267"
               title="Go to the comment associated with the attachment">2011-04-14 11:39 EDT</a>,

            <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
                  <span title="Szymon Brandys">Szymon.Brandys</span>:
                iplog+
                <br>
          </td>

        <td>
          <a href="attachment.cgi?id=193267&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=193267&amp;action=diff">Diff</a>
        </td>
      </tr>
      <tr id="a10" class="bz_contenttype_text_plain bz_patch">
        <td>
            <a href="attachment.cgi?id=194146"
               title="View the content of the attachment">
          <b>Part of Patch v.0.2 reverted</b></a>

          <span class="bz_attach_extra_info">
              (2.26 KB,
                patch)

            <br>
            <a href="#attach_194146"
               title="Go to the comment associated with the attachment">2011-04-27 08:29 EDT</a>,

            <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
          </span>
        </td>

          <td class="bz_attach_flags">
              <i>no flags</i>
          </td>

        <td>
          <a href="attachment.cgi?id=194146&amp;action=edit">Details</a>
            | <a href="attachment.cgi?id=194146&amp;action=diff">Diff</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="#a0" onclick="return toggle_display(this);">Show
              Obsolete</a> (4)
            <a id="view_all" href="attachment.cgi?bugid=149121&amp;action=viewall&amp;hide_obsolete=1">View All</a>
        </span>
        <a href="attachment.cgi?bugid=149121&amp;action=enter">Add an attachment</a>
        (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>
<div id="add_comment" class="bz_section_additional_comments">
      <table>
        <tr>
          <td>
            <fieldset>
              <legend>Note</legend>
              You need to
              <a href="show_bug.cgi?id=149121&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </fieldset>
          </td>
        </tr> 
      </table>
  </div>
  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments"><script src="https://bugs.eclipse.org/bugs/js/comments.js?1463425338" type="text/javascript">
</script>

<script type="text/javascript">
<!--
  /* Adds the reply text to the 'comment' textarea */
  function replyToComment(id, real_id, name) {
      var prefix = "(In reply to " + name + " from comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);
        replytext = prefix + wrapReplyText(text);


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      if (textarea.value != replytext) {
          textarea.value += replytext;
      }

      textarea.focus();
  } 
//-->
</script>


<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table">
<tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Tom Hofmann</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse&#64;tom.hofmann.name" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse&#64;tom.hofmann.name" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2006-06-29 05:41:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">I20060627-1200 (and earlier)

Not sure whether this is of any interest to you - feel free to close if not.

I copied my entire installation to a new PC. Everything is identical (directory structure, file system, etc.). I was able to start most of my workspaces on the cloned machine, but not my standard head workspace. There, the core.resources plug-in fails to load with an exception very similar to the ones in <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Unrecoverable crash on Linux-GTK"
   href="show_bug.cgi?id=38682">bug 38682</a>:

org.eclipse.core.internal.dtree.ObjectNotFoundException: Tree element ...bin/.../Someclass.class not found.
	at
org.eclipse.core.internal.dtree.AbstractDataTree.handleNotFound(AbstractDataTree.java:243)
	at org.eclipse.core.internal.dtree.DeltaDataTree.getData(DeltaDataTree.java:608)
...
(stack trace made up)

I was able to recover by deleting .metadata/.plugins/org.eclipse.core.resources/.snap.

I believe I can reproduce the problem by copying the workspace from the original machine. If you are interested, I could provide the workspace in some form, or provide access to my machine for debugging... If not - fine with me. I know copying workspaces is not exactly supported.</pre>
    </div>

    <div id="c1" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-02-04 12:29:29 EST
        </span>

      </div>




<pre class="bz_comment_text">Steve had the same problem after his workspace was moved to a different network drive (but the path was the same). Deleting the snap file also worked around the problem for Steve. This suggests to me the steps are:

 - Make changes in the worksapce (add/delete files)
 - Crash the workspace (.snap is deleted on a normal successful shutdown)
 - Move workspace
 - Restart

Here was the stack trace in Steve's case:

org.eclipse.core.internal.dtree.ObjectNotFoundException: Tree element '/Grant/win32/Main4$1.class' not found.
	at org.eclipse.core.internal.dtree.AbstractDataTree.handleNotFound(AbstractDataTree.java:257)
	at org.eclipse.core.internal.dtree.DeltaDataTree.getData(DeltaDataTree.java:585)
	at org.eclipse.core.internal.dtree.DataDeltaNode.asBackwardDelta(DataDeltaNode.java:50)
	at org.eclipse.core.internal.dtree.NoDataDeltaNode.asBackwardDelta(NoDataDeltaNode.java:59)
	at org.eclipse.core.internal.dtree.NoDataDeltaNode.asBackwardDelta(NoDataDeltaNode.java:59)
	at org.eclipse.core.internal.dtree.DataDeltaNode.asBackwardDelta(DataDeltaNode.java:47)
	at org.eclipse.core.internal.dtree.DeltaDataTree.asBackwardDelta(DeltaDataTree.java:88)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:816)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:792)
	at org.eclipse.core.internal.watson.ElementTree.immutable(ElementTree.java:517)
	at org.eclipse.core.internal.resources.SaveManager.restore(SaveManager.java:670)
	at org.eclipse.core.internal.resources.SaveManager.startup(SaveManager.java:1325)
	at org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:1953)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:1716)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:376)</pre>
    </div>

    <div id="c2" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-02-04 12:32:27 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - ObjectNotFoundException on startup after crash"
   href="show_bug.cgi?id=151075">Bug 151075</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c3" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralf Hauser</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hauser&#64;acm.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hauser&#64;acm.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-16 02:20:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">even without copying, just after a normal shutdown, this also happens for Build id: M20060921-0945 (Debian version: 3.2.1-4)

removing the &quot;.snap&quot; file solves the problem, but in a bad way since all projects are gone.

Another bug that talks about this painful experience is <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Unrecoverable crash on Linux-GTK"
   href="show_bug.cgi?id=38682">Bug 38682</a>
	

</pre>
    </div>

    <div id="c4" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-03-16 06:30:51 EDT
        </span>

      </div>




<pre class="bz_comment_text">Are you able to reproduce the issue on newer Eclipse version. Let's say 3.4.x or any 3.5 milestone version?</pre>
    </div>

    <div id="c5" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dan O'Connor</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=dan_o'connor&#64;us.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=dan_o'connor&#64;us.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-04-08 12:56:54 EDT
        </span>

      </div>




<pre class="bz_comment_text">I am able to reproduce this issue using Eclipse 3.4.2. Like Ralf I did not need to copy the workspace from one location to another. I got the ClassNotFound exception after Eclipse had an abnormal shutdown. Upon restart I received the ClassNotFound exceptions and deleting the .snap file was the only solution.</pre>
    </div>

    <div id="c6" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ralf Hauser</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=hauser&#64;acm.org" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=hauser&#64;acm.org" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-05-11 09:09:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Happened again:(
the .java file it claims to be missing is exactly there  :(

org.eclipse.core.internal.dtree.ObjectNotFoundException: Tree element /privaLope/source/my/ShowKey.java not found.
   at org.eclipse.core.internal.dtree.AbstractDataTree.handleNotFound(AbstractDataTree.java:257)
   at org.eclipse.core.internal.dtree.DeltaDataTree.getData(DeltaDataTree.java:585)
   at org.eclipse.core.internal.dtree.DataDeltaNode.asBackwardDelta(DataDeltaNode.java:50)

Suggestion:

also mention the absolute path of the workspace you are looking for the file mentioned in ObjectNotFoundException</pre>
    </div>

    <div id="c7" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-06-10 07:23:06 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - org.eclipse.core.resources bundle and consequently Eclipse doesn't start"
   href="show_bug.cgi?id=279766">Bug 279766</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c8" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Chris M</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=tebriel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=tebriel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-12-03 15:11:52 EST
        </span>

      </div>




<pre class="bz_comment_text">I had a normal shutdown of version: 3.5.1.R35x_v20090910-9gEeG1_FthkNDSP2odXdThaOu9GFDPn83DGB7

Mainly using GWT.  Deleting the .snap file fixed this for me and everything seems to be back to normal, all projects working and accounted for.</pre>
    </div>

    <div id="c9" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-12-23 08:17:23 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Unrecoverable crash on Linux-GTK"
   href="show_bug.cgi?id=38682">Bug 38682</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c10" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-12-23 08:18:06 EST
        </span>

      </div>




<pre class="bz_comment_text">Raising priority as per <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Unrecoverable crash on Linux-GTK"
   href="show_bug.cgi?id=38682">bug 38682</a></pre>
    </div>

    <div id="c11" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-12-29 05:30:44 EST
        </span>

      </div>




<pre class="bz_comment_text">I am trying to find a root cause of this issue, but I cannot reproduce the issue on windows. All reports seems to be related to Linux, so I'd like to ask if anyone was able to reproduce this bug on Windows?

The stacktrace is also interesting. SaveManager fails after the workspace tree (including delta trees) has been rebuild (!) and the last tree is being marked as the full one, while all previous are going to be stored as deltas. 

Copying workspace into different location is not relevant since all references are workspace relative.

DataDeltaTree.getData will fail if the node was deleted, even intentionally.

This leads us to DeltaDataTree.asBackwardDelta which seems to be buggy it returns always DataDeltaNode with data, but if the node was created in newer tree, then after making newer tree as root, the backward delta should have DeletedNode without content.
DeletedNode itself handle this situation, where parent tree is copied, so it is transformed into DataDeltaNode.</pre>
    </div>

    <div id="c12" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2009-12-29 05:39:47 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=155107&amp;action=diff" name="attach_155107" title="The patch illustrating my previous comment">attachment 155107</a> <a href="attachment.cgi?id=155107&amp;action=edit" title="The patch illustrating my previous comment">[details]</a></span>
The patch illustrating my previous comment

Any opinions are welcome. I'll try to write some tests later (I hope) today.</pre>
    </div>

    <div id="c13" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-04 14:12:54 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c11">comment #11</a>)
<span class="quote">&gt; I am trying to find a root cause of this issue, but I cannot reproduce the
&gt; issue on windows. All reports seems to be related to Linux, so I'd like to ask
&gt; if anyone was able to reproduce this bug on Windows?</span >

The problem happened to Steve on Windows, but with the workspace on a network drive. It's possible the Java nio locking doesn't work in this case so it may be the same as the Linux case. <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Unrecoverable crash on Linux-GTK"
   href="show_bug.cgi?id=38682#c7">Bug 38682 comment 7</a> describes my best guess at the cause for this. If this is always caused by multiple processes using the same metadata I think the solution lies in better locking, since as soon as multiple processes are operating concurrently on the same workspace you're going to end up with lost or corrupt metadata.

Another possibility is at least detecting the metadata contention in this case. For example, detect that we are applying the snapshot to the *wrong* tree and just discard the snapshot in that case (a snapshot is a delta relative to some root tree, and if you are comparing to a different tree it is useless).</pre>
    </div>

    <div id="c14" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-05 07:21:16 EST
        </span>

      </div>




<pre class="bz_comment_text">Is it possible that .snap file is damaged?</pre>
    </div>

    <div id="c15" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-05 08:23:53 EST
        </span>

      </div>




<pre class="bz_comment_text">I'll answer, no its not possible.

The exception happens because the first restored workspace tree, before applying deltas, is empty.
And it is empty due to wrong C:\snap\workspace\.metadata\.plugins\org.eclipse.core.resources\.root\xyz.tree file, where xyz stands for version. In my case it is enough to rename that file from 188 to 186, and Eclipse starts fine :D. It looks like the file tree is first written down, and then the crash prevents workspace from saving correct number...</pre>
    </div>

    <div id="c16" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-05 08:57:10 EST
        </span>

      </div>




<pre class="bz_comment_text">Technically it is possible that if Eclipse crashes in SaveManager#save  line 1015 then the tree is written but the master table is not...</pre>
    </div>

    <div id="c17" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-05 09:47:46 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=155331&amp;action=diff" name="attach_155331" title="NaiveFix">attachment 155331</a> <a href="attachment.cgi?id=155331&amp;action=edit" title="NaiveFix">[details]</a></span>
NaiveFix

I think that in SaveManager#restore would be good to check if the tree is non-empty before applying snapshots.</pre>
    </div>

    <div id="c18" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-12 03:10:12 EST
        </span>

      </div>




<pre class="bz_comment_text">John,

any comments?</pre>
    </div>

    <div id="c19" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">John Arthorne</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=john.arthorne&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=john.arthorne&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-12 09:04:38 EST
        </span>

      </div>




<pre class="bz_comment_text">Can you explain what the fix is doing? I don't understand why it is looping 5 times and looking up the same location each time.</pre>
    </div>

    <div id="c20" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-01-12 09:17:15 EST
        </span>

      </div>




<pre class="bz_comment_text">It does not check the same location. Actually (because of true flag) it checks a number of subsequent .tree files.

If the .tree is not found, than we abandon changes, and throw the exception anyway. But if the .tree is found in reasonable number of iterations (arbitrary set to 5 in the patch) then we can assume that situation from <a href="show_bug.cgi?id=149121#c16">comment 16</a> took place. In my testcase the difference between expected and actual file was 2, but I think it can grow to infinity.</pre>
    </div>

    <div id="c21" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-02-22 07:23:16 EST
        </span>

      </div>




<pre class="bz_comment_text">Krzysztof, you told me that you are able to reproduce the issue locally. Please describe the steps so I could verify any potential fixes.</pre>
    </div>

    <div id="c22" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-22 08:02:36 EDT
        </span>

      </div>




<pre class="bz_comment_text">Defect CQ:WIND00205639 ER CQ:WIND00208995 Req CQ:WIND00165818 

This is still marked target 3.6M7.
Any updates?

The biggest problem with this issue is that normal users cannot use their workspace any more, unless they are expert enough to delete the .snap file. I think we should (a) fail more gracefully, i.e. allow opening the workspace if at all posssible, and (b) log the error such that later analysis can detect if, when, where or how often such failover happened.

I've had a look at attached patch, but like John I was confused. You're taking the tree for the current sequence number, and then you try looking at later (&quot;future&quot;) sequence numbers. This seems odd. 

Wouldn't it make more sense to try looking at older sequence numbers? Or, is there any chance to throw away anything cached and rebuild the tree from scratch? The workaround from <a href="show_bug.cgi?id=149121#c0">comment 0</a> just deleted the .snap file, can't we do the same in code? I also don't understand the arbitrary restriction to 5 sequence numbers. This is not relevant for performance, so why not look at all the trees we have got.

The other question is, what could have crashed the workspace (and thus created the .snap file) in the first place. Can we do any better logging here? For instance, if a .snap file is found, try finding a hs_err*.pid to look for a backtrace.</pre>
    </div>

    <div id="c23" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-22 08:25:23 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=165745" name="attach_165745" title=".log from a crashed workspace">attachment 165745</a> <a href="attachment.cgi?id=165745&amp;action=edit" title=".log from a crashed workspace">[details]</a></span>
.log from a crashed workspace

Attached is the .log from our customer's crashed workspace.

This was on a Windows host (I will attach the configuration file next), with the Workspace on a network drive (drive Z:). They claim that the workspace had never been moved, but the log does show &quot;The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes.&quot;</pre>
    </div>

    <div id="c24" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-22 08:27:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=165746" name="attach_165746" title="configuration of host (WinXP)">attachment 165746</a> <a href="attachment.cgi?id=165746&amp;action=edit" title="configuration of host (WinXP)">[details]</a></span>
configuration of host (WinXP)

Unfortunately I don't have a full ZIP of the crashed workspace .metadata to investigate the trees.</pre>
    </div>

    <div id="c25" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-22 08:55:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">I hope to look at it again during 3.6, however any help is welcome.</pre>
    </div>

    <div id="c26" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-28 04:04:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">Update: I have a customer record of this problem happening with the workspace *not being moved* and located on a local drive:

osgi.instance.area=file:/C:/WindRiver/workspace/

So, regarding John's <a href="show_bug.cgi?id=149121#c13">comment 13</a> it looks like missing locking and/or multiple users accessing the same workspace is not the only case where this can happen. 

The customer logs do indicate &quot;The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes.&quot; but apparently there was a different reason for exiting uncleanly in a way that destroyed the tree metadata so it could not be recovered on restart. This was with Eclipse 3.5.1.

I know that the algorithms for saving workspace metadata *should* be such that they are always consistent even in case of an unclean shutdown, but it looks like there is a hole somewhere.

While code review may be the only way finding that hole, I suggest considering ways for making recovery more robust. It's not acceptable that all of Eclipse doesn't come up any more on a restart because of this exception. At the very least I'd expect Eclipse to restore (with all workspace settings such as Preferences, dialog settings, etc) even if some of the projects can't be restored.</pre>
    </div>

    <div id="c27" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-28 04:57:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=166297" name="attach_166297" title="backtrace showing problem">attachment 166297</a> <a href="attachment.cgi?id=166297&amp;action=edit" title="backtrace showing problem">[details]</a></span>
backtrace showing problem

A user here just encountered this, this week with m6.

Another possibility is that the user accidentally ran a Headless eclipse application concurrently with their running IDE.

In our case it's very likely the problem occurred when the user opened the workspace using both the IDE and CDT's HeadlessBuilder.  This didn't (until very recently) attempt to acquire the instance lock.

What's odd is that the instance lock acquiring seems to be in IDEApplication#start().  The lock doesn't seem to be acquired by the workspace itself, or earlier in the startup process.  The result is that every application must acquire the lock explicitly, right?

Digging a bit deeper, I see that if you run AntRunner, say, which doesn't attempt to lock the instance lock, you can easily get into Workspace#open from multiple Eclipse instances concurrently.

What's worse is that it seems impossible to lock the instance lock if the Application's plugin references core.resources.
I just noticed this doesn't work correctly for HeadlessBuilder:
I acquire the WorkspaceLock at the very beginning of HeadlessBuilder#start. Unfortunately Workspace#open is getting called first.  HeadlessBuilder lives in cdt.managedbuilder.core. The ManagedBuildCorePlugin is started and happens to register an IResourceChangeListener =&gt; ResourcesPlugin#start() =&gt; Workspace#open().

The fact that referencing core.resources causes the Workspace#open to be called and there's no check that the instance lock is held by the current process, means its difficult to guarantee that applications don't accidentally open the workspace more than once.</pre>
    </div>

    <div id="c28" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-28 05:46:46 EDT
        </span>

      </div>




<pre class="bz_comment_text">Hm. I've tried to fix the CDT issue by tweaking the bundle activation policy:
Bundle-ActivationPolicy: lazy; exclude:=&quot;org.eclipse.cdt.managedbuilder.internal.core&quot;

Unfortunately HeadlessBuilder references a number of core.resources interfaces still leading to core.resources activation on instantiation. Without a major refactoring this would seem non-trivial to fix.  Perhaps this workspace locking should really be done by the platform?</pre>
    </div>

    <div id="c29" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-29 06:01:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">I filed <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Headless builder should not run if the workspace is already in use"
   href="show_bug.cgi?id=310791">bug 310791</a> for the issue of headless IApplications causing ResourcesPlugin#start()=&gt;Workspace#open() leading to potential concurrent access to the workspace tree.

It seems that every IApplication (other than workbench) that references core.resources is vulnerable to this as the class &amp; plugin-loading lead to core.resources being started before IApplication#start() is called. So even if a headless application attempts to lock the instance location, as the first thing it does (which few seem to), its too late by the time #start is called.</pre>
    </div>

    <div id="c30" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-04-29 06:04:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c29">comment #29</a>)
<span class="quote">&gt; I filed <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - Headless builder should not run if the workspace is already in use"
   href="show_bug.cgi?id=310791">bug 310791</a> for the issue of headless IApplications causing</span >

* <a class="bz_bug_link 
          bz_status_NEW "
   title="NEW - How should Workspace be locked to prevent concurrent application access"
   href="show_bug.cgi?id=310793">Bug 310793</a></pre>
    </div>

    <div id="c31" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-05-12 11:44:35 EDT
        </span>

      </div>




<pre class="bz_comment_text">Changed summary, previous value was:
ObjectNotFoundException after copying workspace

because I know for sure that this issue happened for a customer of ours without any kind of workspace move involved. I'm still very concerned about this issue, especially after getting confirmation from our customer that

1.) The workspace in question had never been copied. 
2.) No headless applications had ever been used.
3.) While projects had resided on a remote Samba share, 
    thehe .metadata had always resided local on C:\Documents and Settings\...
4.) So it is safe to assume that locking had always been proper.

The thing that worries me most, is that Eclipse fails to open the workspace, although restoring the workspace is possible (by deleting the .snap file). Especially as long as we don't know for sure what is causing this issue, I strongly think that we should make every effort possible on startup to not just fail with the exception, but log the exception and try to repair the inconsistency.</pre>
    </div>

    <div id="c32" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-05-25 11:22:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">Moving to 3.7 for further investigation.</pre>
    </div>

    <div id="c33" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-02 06:24:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=170770&amp;action=diff" name="attach_170770" title="Patch - different approach">attachment 170770</a> <a href="attachment.cgi?id=170770&amp;action=edit" title="Patch - different approach">[details]</a></span>
Patch - different approach

Work in progress. The patch will try to fix the inconsistency between master table and the .tree name. This is not tested, just shows my current approach. 

BTW. The problem is not triggered by workspace copying in my opinion. It is 'Save' problem where Master Table is out of sync with the actual .tree file name. This may happen if saving fails - because f.e. network drive had been disconnected.</pre>
    </div>

    <div id="c34" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-02 07:04:08 EDT
        </span>

      </div>




<pre class="bz_comment_text">Thanks for continuing this work!

I actually had a very different idea for approaching this: What if, for a start, we just change the error message to something like:

  &quot;We are sorry
   Eclipse failed to start due to an inconsistency in your workspace.
   Please zip up your (wsdir)/.metadata folder and attach the archive on 
     <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - ObjectNotFoundException prevents opening workspace"
   href="show_bug.cgi?id=149121">https://bugs.eclipse.org/bugs/show_bug.cgi?id=149121</a>
   along with a description of your last steps when closing this workspace
   to help us investigate, understand and solve this problem.

   After zipping up your workspace, you can delete the (...)/.snap file
   in order to revert to the last known good configuration, such that
   your workspace should come up again.
  &quot;

Essentially, the idea is involving our end users in the analysis, since we are still a bit clueless as to what really triggers the issue. Has something like this ever done before at Eclipse? Does it sound acceptable, perhaps for an
SR1 release?</pre>
    </div>

    <div id="c35" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c35">Comment 35</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-02 07:12:47 EDT
        </span>

      </div>




<pre class="bz_comment_text">Another user hit this, without opening the workspace concurrently. They think they closed the workspace on one machine, and re-opened it on another (both server use the same NFS mounts).  So the cause could have been a NFS sync issue...

(In reply to <a href="show_bug.cgi?id=149121#c34">comment #34</a>)
<span class="quote">&gt;    After zipping up your workspace, you can delete the (...)/.snap file</span >

The two times I've done this the workspace does open, but all projects are missing. Re-importing them loses some of the resource metadata such as which resources are derived. 

When you delete the .snap file, do you not also lose all the projects in the workspace?</pre>
    </div>

    <div id="c36" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c36">Comment 36</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-02 07:16:32 EDT
        </span>

      </div>




<pre class="bz_comment_text">James, if your user still has the workspace, can you have him zip it up?

For my customer, this issue clearly happened on Windows without any NFS involvement on the .metadata (was on C:\) but the project content was on a remote samba share.

According to <a href="show_bug.cgi?id=149121#c0">comment 0</a>, there seem to be at least some cases where deleting the .snap file recovered. But I've also heard other comments that the projects were lost when doing so.

In fact my acceptance criterion for a workaround (until the original cause of this is found) is that we must avoid loss of data.</pre>
    </div>

    <div id="c37" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c37">Comment 37</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-02 07:20:58 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c36">comment #36</a>)
<span class="quote">&gt; James, if your user still has the workspace, can you have him zip it up?</span >

I'm afraid it was a couple weeks ago, and we didn't preserve the workspace. This is a very rare issue for us, but if/when it happens again, I'll be sure to tar it up for analysis.</pre>
    </div>

    <div id="c38" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c38">Comment 38</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Krzysztof Daniel</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=krzysztof.daniel&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=krzysztof.daniel&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-06-02 07:22:39 EDT
        </span>

      </div>




<pre class="bz_comment_text">.snap file contains recent modifications of the file, between two workspace saves.

This issue is triggered by the lack of workspace state, on the top of which the .snap should be applied. This results in exception and prevents resources from starting. No other plugin (especially the product definition) cannot be started if it depends on plugin which failed to start.

As I have said before: .snap file contains modifications to some resources, but workspace tree is empty. Deleting a .snap file brings the whole resources back to consistent, empty state. 

Therefore I do not believe that deleting a .snap file is a proper workaround. It is just a way of allowing Eclipse to start.</pre>
    </div>

    <div id="c39" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c39">Comment 39</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-06 07:55:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - eclipse crashes at startup - non-recoverable"
   href="show_bug.cgi?id=329610">Bug 329610</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c40" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c40">Comment 40</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Paul Webster</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=pwebster&#64;ca.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=pwebster&#64;ca.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2010-11-10 10:58:18 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse crashes while trying to load up"
   href="show_bug.cgi?id=329815">Bug 329815</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c41" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c41">Comment 41</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-04 07:12:43 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse fails to start after plug-in change"
   href="show_bug.cgi?id=138102">Bug 138102</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c42" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c42">Comment 42</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Swiezawski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marcin.swiezawski&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marcin.swiezawski&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-19 09:20:20 EST
        </span>

      </div>




<pre class="bz_comment_text">I had couple of our users hit this issue as well. In our case it was on a windows machine with a pretty simple setup(workspace on local drive). However, in our case user had debugger connectivity issues with HW device they were debugging. They tried shutting down eclipse, but debugger prevented this from completing and user had to kill eclipse using task manager. This is definitely not a normal situation, but the end result was the same as in other cases listed above. User could not start eclipse and deleting .snap file allowed user to proceed.  Is it possible to resolve this for Indigo? Is there additional information that you'd need?</pre>
    </div>

    <div id="c43" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c43">Comment 43</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-19 10:17:20 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c42">comment #42</a>)
<span class="quote">&gt; I had couple of our users hit this issue as well. In our case it was on a
&gt; windows machine with a pretty simple setup(workspace on local drive). However,
&gt; in our case user had debugger connectivity issues with HW device they were
&gt; debugging. They tried shutting down eclipse, but debugger prevented this from
&gt; completing and user had to kill eclipse using task manager. This is definitely
&gt; not a normal situation, but the end result was the same as in other cases
&gt; listed above. User could not start eclipse and deleting .snap file allowed user
&gt; to proceed.  Is it possible to resolve this for Indigo? Is there additional
&gt; information that you'd need?</span >

Martin, are you able to reproduce your scenario each time? That is to create simple setup as you mentioned, simulate connectivity issues so that debugger hangs, try to close Eclipse without success, kill Eclipse using Task Manager, get ObjectNotFoundException when starting Eclipse?</pre>
    </div>

    <div id="c44" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c44">Comment 44</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Swiezawski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marcin.swiezawski&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marcin.swiezawski&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-01-20 07:55:06 EST
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; Martin, are you able to reproduce your scenario each time? That is to create
&gt; simple setup as you mentioned, simulate connectivity issues so that debugger
&gt; hangs, try to close Eclipse without success, kill Eclipse using Task Manager,
&gt; get ObjectNotFoundException when starting Eclipse?</span >

Unfortunately no. My attempts at duplicating the issue have failed so far. I am trying to see if the user is still able to reproduce this issue. I might be able to get the workspace that triggers the exception. However, this workspace was generated with an old version of Eclipse that has some custom modifications, thus I am not sure how much help it will be.</pre>
    </div>

    <div id="c45" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c45">Comment 45</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dariusz Glugla</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=zooloos&#64;poczta.onet.pl" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=zooloos&#64;poczta.onet.pl" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-02-01 03:39:40 EST
        </span>

      </div>




<pre class="bz_comment_text">buildId: M20100909-0800

I have exactly the same issue. Eclipse reports:
org.eclipse.core.internal.dtree.ObjectNotFoundException: Tree element '[...]/SimulatorTest.class' not found (the corresponding .java file was the last file edited and saved under Eclipse).
But the file exists!
Even if I remove the file and force its recompilation, that doesn't help.
I can remove the .snap file, but it's not solving the problem - Eclipse crashes regularly with no reason.
Earlier I had similar problem when I tried to commit very large binary file to SVN repository. It succeeded, but the next time I was starting Eclipse - it crashed reporting the commited file in ObjectNotFoundException.</pre>
    </div>

    <div id="c46" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c46">Comment 46</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andy Sheldon</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=andy.m.sheldon&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=andy.m.sheldon&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-04 16:11:55 EST
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=190443" name="attach_190443" title="An org.eclipse.core.resources workspace that crashes Eclipse 3.6 (RCP)">attachment 190443</a> <a href="attachment.cgi?id=190443&amp;action=edit" title="An org.eclipse.core.resources workspace that crashes Eclipse 3.6 (RCP)">[details]</a></span>
An org.eclipse.core.resources workspace that crashes Eclipse 3.6 (RCP)

In case no one has submitted a &quot;broken&quot; workspace with the problem .snap files, here goes. We got this from a user of our RCP app; it will generate the exception in Eclipse, or any app using org.eclipse.core.resources I imagine. I removed the project folders to reduce zip file size. It doesn't seem to matter where you put this, in terms of replicating the ObjectNotFoundException -- the original user path was c:\users\aaron\treeage\workspace</pre>
    </div>

    <div id="c47" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c47">Comment 47</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">James Blackburn</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=jamesblackburn+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=jamesblackburn+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-18 14:07:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED DUPLICATE - crashes with java exit code 1 on shared workspace after moving to new computer"
   href="show_bug.cgi?id=340367">Bug 340367</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c48" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c48">Comment 48</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Oberhuber</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mober.at+eclipse&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mober.at+eclipse&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-21 09:25:27 EDT
        </span>

      </div>




<pre class="bz_comment_text">Any update?

This is one of the nastiest issues I'm currently aware of. Getting closer to a solution would be awsome. Even if that &quot;getting closer&quot; only employs adding logging facilities to get more data. Ideally the workspace attached by Andy has what's needed though...</pre>
    </div>

    <div id="c49" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c49">Comment 49</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-03-23 11:12:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Szymon P. has been investigating the issue. He will update the bug when he has anything to report.</pre>
    </div>

    <div id="c50" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c50">Comment 50</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-04 07:03:43 EDT
        </span>

      </div>




<pre class="bz_comment_text">I have gone through all related bugs and here are some facts about the problem:
 - 9 bugs marked as duplicate of this bug
 - problems occurs since 2003 (Eclipse 2.1)
 - both on Linux and Windows in different versions
 - workspace stored locally, no workspace moving
 - 11 users confirm that there was a crash or hard close (OOME, killall, power down)
 - 2 users claim there was no crash (but we cannot tell if the workspace was correctly closed)

Just to sort out terminology issue: there were different naming conventions in those bugs so to make it straight, when referring to crash I mean the crash that happened before ObjectNotFoundException. ObjectNotFoundException is not a crash itself, it's just inability to start the workspace.
 
Since we can see .snap file, we can assume that previous Eclipse launch session was not correctly finalized. Knowing that, the state of workspace is the state of workspace at some point in time just before the crash. I have seen two broken workspaces and in both cases the workspace was not consistent. To be precise, the state of master table was not consistent. Looking at the workspace uploaded by Andy in <a href="show_bug.cgi?id=149121#c46">comment 46</a>, you can see that master table consists of three chunks with the following values (order preserved, unrelated entries skipped):

#Tue Mar 01 10:27:54 PST 2011
/.tree=26
#Tue Mar 01 10:27:55 PST 2011
/.tree=26
#Tue Mar 01 22:55:04 PST 2011
/.tree=25

In .root folder you can see only &quot;26.tree&quot; file. Master table is a java.util.Properties instance which means that latest key=value entry overrides previous entries. In this case we would end up with /.tree=25 as the current one. When starting the workspace, Eclipse tries to use .snap to update .tree file pointed by master table. In this case it cannot find 25.tree so tree update is not successful and we get ObjectNotFoundException.

Having this information we can assume that if the crash happened before 22:55:04, the master table would have been in sync with .tree file. Since we cannot prevent from externally triggered crash (killall, power down, etc.), we have to make sure that the state of workspace is consistent at any point in time. It looks that currently it is not. This confirms that we have a hole somewhere as mentioned by Martin in <a href="show_bug.cgi?id=149121#c26">comment 26</a>.

At the moment I do not know the steps that lead to this situation but there are at least two issues that bother me:
1. In SaveManager#restoreMasterTable we are creating new master table. This method is accessible in catch clause from different threads with non-conflicting project rules. I think there should be only one instance of master table. It would be better to so something like this:

		if (masterTable == null)
			masterTable = new Properties();
		else
			masterTable.clear();

This would also prevent from using old master table values if we call #getMasterTable.
2. It is possible to call SaveManager#save(FULL_SAVE, project, monitor) and in this case we would have two threads modifying master table - incrementing sequence number for root and creating new tree for root. We could prevent from that by changing the rule to workspace root if FULL_SAVE was requested.

I will try to find the real steps that can introduce such inconsistencies in master table.

About the workaround: deleting .snap means we do not need to update the tree, and since there is no tree file pointed by master table, it starts with clean tree. Deleting is not a proper workaround. The only proper manual workaround is to change 25 to 26 in latest entry in file:
workspace\.metadata\.plugins\org.eclipse.core.resources\.safetable\org.eclipse.core.resources
Using this this workaround we are not losing any information.</pre>
    </div>

    <div id="c51" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c51">Comment 51</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-04 12:34:20 EDT
        </span>

      </div>




<pre class="bz_comment_text">In broken workspaces there are always three chunks in master table file. FULL_SAVE creates always new master table file and two new chunks with very close timestamps so the third chunk is most likely saved during SNAPSHOT.

In Andy's workspace I found the file workspace\.metadata\.plugins\org.eclipse.core.zip which contains master table file and .snap with modification time matching the timestamp in the last chunk. This implies that just before 22:55:04 there was a snapshot taken that created .snap file and invalidated master table file.

At the moment, we know that master table is corrupted by snapshot job (in Andy's case). The remaining question is how it was possible that snapshot job had older entries in master table.</pre>
    </div>

    <div id="c52" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c52">Comment 52</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-05 05:32:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">In another broken workspace, master table file has the following entries:

#Thu Oct 22 17:18:08 CEST 2009
/.tree=188
#Thu Oct 22 17:18:08 CEST 2009
/.tree=188
#Thu Oct 22 17:20:57 CEST 2009
/.tree=186

There is only one tree file for root - 188.tree. Modification time for 188.tree is 17:18:10 and for .snap it is 17:20:58. It looks that snapshot is the culprit also in this case.

In .logs from Andy's workspace there are exceptions logged in the same session when snapshot occurred (according to timestamps) but about 2 hours after the snapshot. It looks like the problem with wrong entries in master table file is not something unusual and after it happens, Eclipse still works &quot;normally&quot;. This can imply that master table file is not-in-sync with master table kept in memory because of ugly snapshot. It may happen more often but since each FULL_SAVE recreates master table file, we may not know when we modified master table in the wrong way. We see the problem only when we crash the workspace with not-in-sync master table file. Only then, during next Eclipse startup, master table is reconstructed from the file with wrong values.</pre>
    </div>

    <div id="c53" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c53">Comment 53</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-06 07:15:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class="bz_obsolete"><a href="attachment.cgi?id=192630&amp;action=diff" name="attach_192630" title="Patch v.0.1">attachment 192630</a> <a href="attachment.cgi?id=192630&amp;action=edit" title="Patch v.0.1">[details]</a></span>
Patch v.0.1

This patch solves two problems:
1. Makes it possible to start Eclipse if master table is corrupted. If it happens, a stack trace with message will be logged and Eclipse will use the greatest sequence number for root to load the tree.
2. Prevents from master table corruption in the future by throwing an exception. This way we should not fall into problem 1 if crash occurs.

You may apply the patch and try to open Andy's workspace.

We still do not have steps to recreate the original scenario, but solving above problems should prevent from that and log exceptions when it happens.

Comments are welcome.</pre>
    </div>

    <div id="c54" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c54">Comment 54</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Swiezawski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marcin.swiezawski&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marcin.swiezawski&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-07 15:54:05 EDT
        </span>

      </div>




<pre class="bz_comment_text">I received another workspace from a customer that exhibits this. The problem was most likely introduced due to a crash. We first tried to delete .snap file, which allowed to open the workspace, but project was not listed and some resources(files) were not accessible. Then, we tried the workaround that Szymon suggested in <a href="show_bug.cgi?id=149121#c50">comment #50</a>. This allowed the workspace to be opened, project was restored and source files were opened, but it seems to have triggered a CDT parsing issue that seems to use up entire heap causing a pop up message asking user to exit the workbench. My guess is that this is not a platform/resource issue, but if the fix to this issue is to adjust master table to point to correct tree, then most likely there will need to be a fix made in CDT as well. 

I am posting here for continuity and to notify few people from CDT community that have subscribed to this bugzilla. Below is the call stack that seems to trigger the issue. I'll file a CDT bug as well. 

Martin




!ENTRY org.eclipse.cdt.ui 4 4 2011-04-07 14:39:32.490
!MESSAGE Error
!STACK 0
java.lang.OutOfMemoryError: Java heap space
	at java.util.ArrayList.ensureCapacity(Unknown Source)
	at java.util.ArrayList.add(Unknown Source)
	at org.eclipse.cdt.internal.core.pdom.dom.PDOMFile.getMacros(PDOMFile.java:580)
	at org.eclipse.cdt.internal.core.index.IndexBasedFileContentProvider.collectFileContent(IndexBasedFileContentProvider.java:174)
	at org.eclipse.cdt.internal.core.index.IndexBasedFileContentProvider.getContentForInclusion(IndexBasedFileContentProvider.java:125)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor$1.checkFile(CPreprocessor.java:103)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor$1.checkFile(CPreprocessor.java:1)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor.findInclusion(CPreprocessor.java:935)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor.executeInclude(CPreprocessor.java:1251)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor.executeDirective(CPreprocessor.java:1067)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor.internalFetchToken(CPreprocessor.java:726)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor.fetchToken(CPreprocessor.java:469)
	at org.eclipse.cdt.internal.core.parser.scanner.CPreprocessor.nextToken(CPreprocessor.java:563)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.fetchToken(AbstractGNUSourceCodeParser.java:260)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.nextToken(AbstractGNUSourceCodeParser.java:284)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.acceptInactiveCodeBoundary(AbstractGNUSourceCodeParser.java:345)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.declarationList(AbstractGNUSourceCodeParser.java:1283)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.parseTranslationUnit(AbstractGNUSourceCodeParser.java:1253)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.translationUnit(AbstractGNUSourceCodeParser.java:1248)
	at org.eclipse.cdt.internal.core.dom.parser.AbstractGNUSourceCodeParser.parse(AbstractGNUSourceCodeParser.java:645)
	at org.eclipse.cdt.core.dom.parser.AbstractCLikeLanguage.getASTTranslationUnit(AbstractCLikeLanguage.java:143)
	at org.eclipse.cdt.internal.core.model.TranslationUnit.getAST(TranslationUnit.java:806)
	at org.eclipse.cdt.internal.core.model.TranslationUnit.getAST(TranslationUnit.java:770)
	at org.eclipse.cdt.internal.core.model.ASTCache$1.run(ASTCache.java:295)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.cdt.internal.core.model.ASTCache.createAST(ASTCache.java:289)
	at org.eclipse.cdt.internal.core.model.ASTCache.getAST(ASTCache.java:168)
	at org.eclipse.cdt.internal.core.model.ASTCache.runOnAST(ASTCache.java:215)
	at org.eclipse.cdt.internal.ui.editor.ASTProvider.runOnAST(ASTProvider.java:344)
	at org.eclipse.cdt.internal.ui.text.c.hover.CSourceHover$1.run(CSourceHover.java:734)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)</pre>
    </div>

    <div id="c55" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c55">Comment 55</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-07 16:25:18 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c54">comment #54</a>)
<span class="quote">&gt; I received another workspace from a customer that exhibits this. The problem
&gt; was most likely introduced due to a crash. We first tried to delete .snap file,
&gt; which allowed to open the workspace, but project was not listed and some
&gt; resources(files) were not accessible. Then, we tried the workaround that Szymon
&gt; suggested in <a href="show_bug.cgi?id=149121#c50">comment #50</a>. This allowed the workspace to be opened, project was
&gt; restored and source files were opened, but it seems to have triggered a CDT
&gt; parsing issue that seems to use up entire heap causing a pop up message asking
&gt; user to exit the workbench. My guess is that this is not a platform/resource
&gt; issue, but if the fix to this issue is to adjust master table to point to
&gt; correct tree, then most likely there will need to be a fix made in CDT as well. 
&gt; 
&gt; I am posting here for continuity and to notify few people from CDT community
&gt; that have subscribed to this bugzilla. Below is the call stack that seems to
&gt; trigger the issue. I'll file a CDT bug as well. </span >

Martin, thanks for the feedback. If you still have this broken workspace, could you check what entries were written in master table file? I am interested in entries similar to those in <a href="show_bug.cgi?id=149121#c50">comment 50</a> or <a href="show_bug.cgi?id=149121#c52">comment 52</a> (with timestamps). I assume there is only one tree file for root that matches exactly the biggest number in master table file, right? Was there any network drive involved?</pre>
    </div>

    <div id="c56" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c56">Comment 56</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Martin Swiezawski</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=marcin.swiezawski&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=marcin.swiezawski&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-08 08:52:22 EDT
        </span>

      </div>




<pre class="bz_comment_text">This is what the master table looks like (some properties removed from below for clarity)

#Wed Apr 06 17:32:47 CDT 2011
/.tree=6
#Wed Apr 06 17:32:47 CDT 2011
/.tree=6
#Wed Apr 06 17:35:00 CDT 2011
/.tree=5

.root directory only has 6.tree in it. 

To try the workaround I edited last entry and changed it to 6.</pre>
    </div>

    <div id="c57" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c57">Comment 57</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-11 07:02:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Szymon B, could you comment on the above findings?</pre>
    </div>

    <div id="c58" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c58">Comment 58</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-14 11:39:09 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=193267&amp;action=diff" name="attach_193267" title="Patch v.0.2">attachment 193267</a> <a href="attachment.cgi?id=193267&amp;action=edit" title="Patch v.0.2">[details]</a></span>
Patch v.0.2

As discussed with Szymon B, messages should be put in the code directly.</pre>
    </div>

    <div id="c59" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c59">Comment 59</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-22 10:16:41 EDT
        </span>

      </div>




<pre class="bz_comment_text">I like the patch. It adds more tracing and recovers broken workspaces. We still don't know what breaks workspaces, but hopefully extra tracing will help to figure it out.</pre>
    </div>

    <div id="c60" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c60">Comment 60</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-22 10:23:57 EDT
        </span>

      </div>




<pre class="bz_comment_text">The fix is in HEAD. I just slightly modified wording.</pre>
    </div>

    <div id="c61" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c61">Comment 61</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-27 08:29:34 EDT
        </span>

      </div>




<pre class="bz_comment_text">Created <span class=""><a href="attachment.cgi?id=194146&amp;action=diff" name="attach_194146" title="Part of Patch v.0.2 reverted">attachment 194146</a> <a href="attachment.cgi?id=194146&amp;action=edit" title="Part of Patch v.0.2 reverted">[details]</a></span>
Part of Patch v.0.2 reverted

I had to revert part of the fix to get rid of perf regression, see <a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - [performance] Huge regression in FullSourceWorkspaceModelTests#testCloseProjects"
   href="show_bug.cgi?id=343815">bug 343815</a>. The reverted part is the sanity check in SaveManager#saveMasterTable.</pre>
    </div>

    <div id="c62" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c62">Comment 62</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-27 08:50:52 EDT
        </span>

      </div>




<pre class="bz_comment_text">I'm lowering the severity of the bug, since broken workspaces are now recovered on Eclipse startup. I'm leaving the bug open to investigate the reverted part that caused a perf regression.</pre>
    </div>

    <div id="c63" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c63">Comment 63</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Brandys</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=Szymon.Brandys&#64;pl.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=Szymon.Brandys&#64;pl.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-04-27 11:00:21 EDT
        </span>

      </div>




<pre class="bz_comment_text">I should rather leave the old severity, mark the bug fixed and raise a new one to investigate the SaveManager#saveMasterTable check issue... Done. The new bug is <a class="bz_bug_link 
          bz_status_VERIFIED  bz_closed"
   title="VERIFIED FIXED - Warn the user about a wrong sequence number in SaveManager#saveMasterTable"
   href="show_bug.cgi?id=343977">Bug 343977</a>.

And thanks Szymon P. for working on it!</pre>
    </div>

    <div id="c64" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c64">Comment 64</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-12 05:06:37 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED INVALID - ResourcesPlugin bundle start fails on missing launch configurations"
   href="show_bug.cgi?id=345553">Bug 345553</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c65" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c65">Comment 65</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-12 05:40:33 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c64">comment #64</a>)
<span class="quote">&gt; *** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED INVALID - ResourcesPlugin bundle start fails on missing launch configurations"
   href="show_bug.cgi?id=345553">Bug 345553</a> has been marked as a duplicate of this bug. ***</span >

I've just hit this problem with 3.6.2 when moving workspaces between machines. Which release would I need to download to test the fix?</pre>
    </div>

    <div id="c66" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c66">Comment 66</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-12 05:56:16 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c65">comment #65</a>)
<span class="quote">&gt; I've just hit this problem with 3.6.2 when moving workspaces between machines.
&gt; Which release would I need to download to test the fix?</span >

You need one of the latest I-builds, e.g. this one: <a href="http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php">http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php</a>

Are you able to zip your workspace (or just .metadata folder) and attach it to this bug? We could compare it with previous workspaces to see if we can tell something more about the root cause of the problem.</pre>
    </div>

    <div id="c67" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c67">Comment 67</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-12 14:49:53 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; You need one of the latest I-builds, e.g. this one:
&gt; <a href="http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php">http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php</a></span >

Just tested this build and the problem still exists.

<span class="quote">&gt; Are you able to zip your workspace (or just .metadata folder) and attach it to
&gt; this bug? We could compare it with previous workspaces to see if we can tell
&gt; something more about the root cause of the problem.</span >

Zipped metadata (without mylyn) is still 80mb- shall I put it somewhere for download from your side?</pre>
    </div>

    <div id="c68" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c68">Comment 68</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-13 10:58:25 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c67">comment #67</a>)
<span class="quote">&gt; &gt; You need one of the latest I-builds, e.g. this one:
&gt; &gt; <a href="http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php">http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php</a>
&gt; 
&gt; Just tested this build and the problem still exists.
&gt; 
&gt; &gt; Are you able to zip your workspace (or just .metadata folder) and attach it to
&gt; &gt; this bug? We could compare it with previous workspaces to see if we can tell
&gt; &gt; something more about the root cause of the problem.
&gt; 
&gt; Zipped metadata (without mylyn) is still 80mb- shall I put it somewhere for
&gt; download from your side?</span >

You can make it available via FTP server. Or you can check which folder is the biggest and if it is not relevant you can exclude it from zip. What we need is .metadata/.plugins/org.eclipse.core.resources folder.</pre>
    </div>

    <div id="c69" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c69">Comment 69</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andreas Goetz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=cpuidle&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=cpuidle&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-14 04:49:15 EDT
        </span>

      </div>




<pre class="bz_comment_text"><span class="quote">&gt; &gt; &gt; You need one of the latest I-builds, e.g. this one:
&gt; &gt; &gt; <a href="http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php">http://download.eclipse.org/eclipse/downloads/drops/I20110510-0800/index.php</a>
&gt; &gt; 
&gt; &gt; Just tested this build and the problem still exists.</span >
... 
<span class="quote">&gt; You can make it available via FTP server. Or you can check which folder is the
&gt; biggest and if it is not relevant you can exclude it from zip. What we need is
&gt; .metadata/.plugins/org.eclipse.core.resources folder.</span >

Szymon, thanks for your help. It's available here, size if 10mb:
<a href="http://www.cpuidle.de/.metadata.zip">http://www.cpuidle.de/.metadata.zip</a>
If I can help any please let me know.</pre>
    </div>

    <div id="c70" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c70">Comment 70</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-05-16 08:24:26 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to <a href="show_bug.cgi?id=149121#c69">comment #69</a>)
<span class="quote">&gt; Szymon, thanks for your help. It's available here, size if 10mb:
&gt; <a href="http://www.cpuidle.de/.metadata.zip">http://www.cpuidle.de/.metadata.zip</a>
&gt; If I can help any please let me know.</span >

Andreas, I have reviewed your .metadata and it looks that you see the same exception but the cause is different. In all known cases, exception was caused by wrong entries in master table file. Your master table file is ok, but there is something wrong with your .snap file - its modification date is very old (2009-06-06) and does not match the date of .tree file (2011-03-25).

Since the cause is different, I will reopen your original <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED INVALID - ResourcesPlugin bundle start fails on missing launch configurations"
   href="show_bug.cgi?id=345553">bug 345553</a> and we will continue the investigation there.</pre>
    </div>

    <div id="c71" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c71">Comment 71</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Beooo</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=beo.xtc&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=beo.xtc&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-09-06 10:21:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - After changing Documents location path in registry I can't start Workspace"
   href="show_bug.cgi?id=356731">Bug 356731</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c72" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c72">Comment 72</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-02-11 05:36:54 EST
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - IDE startup fails after hard shutdown"
   href="show_bug.cgi?id=396897">Bug 396897</a> has been marked as a duplicate of this bug. ***</pre>
    </div>

    <div id="c73" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c73">Comment 73</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Stefan Lindner</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=lindner&#64;visionet.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=lindner&#64;visionet.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-11-03 13:20:54 EST
        </span>

      </div>




<pre class="bz_comment_text">Still present in 4.3.1

My cimcumstances:
- I work on a virtual Windows 7 installation
- Virtualization through VMware
- I stop Ecplise which finished up normally without any crash
- I shutdown Windows 7
- Now I upgrade VMware 9 to VMware 10
- In upgrade Vmware-Tools
- I start Eclipse
- Booom

I was able to restart eclipse after deleting .snap but all my projects were gone after this.
 I did NOT mov my installation to another machin nor did I copy anything to another localisation.

This is not fixed or resolved (as the status states).</pre>
    </div>

    <div id="c74" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c74">Comment 74</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-11-04 02:53:18 EST
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Stefan Lindner from <a href="show_bug.cgi?id=149121#c73">comment #73</a>)
<span class="quote">&gt; Still present in 4.3.1
&gt; 
&gt; My cimcumstances:
&gt; - I work on a virtual Windows 7 installation
&gt; - Virtualization through VMware
&gt; - I stop Ecplise which finished up normally without any crash
&gt; - I shutdown Windows 7
&gt; - Now I upgrade VMware 9 to VMware 10
&gt; - In upgrade Vmware-Tools
&gt; - I start Eclipse
&gt; - Booom
&gt; 
&gt; I was able to restart eclipse after deleting .snap but all my projects were
&gt; gone after this.
&gt;  I did NOT mov my installation to another machin nor did I copy anything to
&gt; another localisation.
&gt; 
&gt; This is not fixed or resolved (as the status states).</span >

If you observe ObjectNotFoundException in 4.3.1, you are probably affected by a different bug because 4.3.1 can recover from bad state in master table automatically. Please open a new bug and attach the affected workspace there. Thanks!</pre>
    </div>

    <div id="c75" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c75">Comment 75</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sergey Prigogin</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=eclipse.sprigogin&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=eclipse.sprigogin&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-09 18:46:00 EDT
        </span>

      </div>




<pre class="bz_comment_text">Still happens in a slightly different form in Eclipse 4.4RC4 (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Out-of-date .snap file prevents Eclipse from running"
   href="show_bug.cgi?id=437005">bug 437005</a>).</pre>
    </div>

    <div id="c76" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c76">Comment 76</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ansgar Radermacher</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=ansgar.radermacher&#64;cea.fr" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=ansgar.radermacher&#64;cea.fr" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-10-01 04:23:29 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Sergey Prigogin from <a href="show_bug.cgi?id=149121#c75">comment #75</a>)
<span class="quote">&gt; Still happens in a slightly different form in Eclipse 4.4RC4 (<a class="bz_bug_link 
          bz_status_RESOLVED  bz_closed"
   title="RESOLVED FIXED - Out-of-date .snap file prevents Eclipse from running"
   href="show_bug.cgi?id=437005">bug 437005</a>).</span >

I confirm that my Eclipse Luna exited during start-up (after a previous crash). The problem did not went away by simply restarting it or passing the -clean option. However I could resolve it by deleting the .metadata/.plugins/org.eclipse.core.resources/.snap file (unfortunately, I did not keep the file).</pre>
    </div>

    <div id="c77" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c77">Comment 77</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Mangeng</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mm&#64;vis.at" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mm&#64;vis.at" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-10-03 03:21:26 EDT
        </span>

      </div>




<pre class="bz_comment_text">happens on eclipse rcp luna sr1 also.
stacktrace of .log file:
java.lang.NoClassDefFoundError: org/eclipse/core/resources/IContainer
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:136)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1465)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1438)
Caused by: java.lang.ClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.core.resources (81).
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:116)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:531)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:324)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:320)
	at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:36)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:391)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:345)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:337)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:160)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	... 14 more
Caused by: org.osgi.framework.BundleException: Exception in org.eclipse.core.resources.ResourcesPlugin.start() of bundle org.eclipse.core.resources.
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:792)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:721)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:936)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:319)
	at org.eclipse.osgi.container.Module.doStart(Module.java:571)
	at org.eclipse.osgi.container.Module.start(Module.java:439)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:454)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
	... 23 more
Caused by: org.eclipse.core.internal.dtree.ObjectNotFoundException: Tree element '/bluetooth_test/bin/bluetooth_test/Bluez.class' not found.
	at org.eclipse.core.internal.dtree.AbstractDataTree.handleNotFound(AbstractDataTree.java:257)
	at org.eclipse.core.internal.dtree.DeltaDataTree.getData(DeltaDataTree.java:585)
	at org.eclipse.core.internal.dtree.DataDeltaNode.asBackwardDelta(DataDeltaNode.java:50)
	at org.eclipse.core.internal.dtree.DataDeltaNode.asBackwardDelta(DataDeltaNode.java:47)
	at org.eclipse.core.internal.dtree.NoDataDeltaNode.asBackwardDelta(NoDataDeltaNode.java:59)
	at org.eclipse.core.internal.dtree.NoDataDeltaNode.asBackwardDelta(NoDataDeltaNode.java:59)
	at org.eclipse.core.internal.dtree.DataDeltaNode.asBackwardDelta(DataDeltaNode.java:47)
	at org.eclipse.core.internal.dtree.DeltaDataTree.asBackwardDelta(DeltaDataTree.java:88)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:816)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:815)
	at org.eclipse.core.internal.dtree.DeltaDataTree.reroot(DeltaDataTree.java:792)
	at org.eclipse.core.internal.watson.ElementTree.immutable(ElementTree.java:518)
	at org.eclipse.core.internal.resources.SaveManager.restore(SaveManager.java:722)
	at org.eclipse.core.internal.resources.SaveManager.startup(SaveManager.java:1565)
	at org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:2464)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2219)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:447)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:771)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$3.run(BundleContextImpl.java:1)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:764)
	... 30 more</pre>
    </div>

    <div id="c78" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c78">Comment 78</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Dani Megert</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=daniel_megert&#64;ch.ibm.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=daniel_megert&#64;ch.ibm.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-10-03 03:27:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Michael  Mangeng from <a href="show_bug.cgi?id=149121#c77">comment #77</a>)
<span class="quote">&gt; happens on eclipse rcp luna sr1 also.
&gt; stacktrace of .log file:
&gt; java.lang.NoClassDefFoundError: org/eclipse/core/resources/IContainer
&gt; 	at</span >

This indicates that something went wrong when you upgraded to SR1. I suggest you download a new package from <a href="https://www.eclipse.org/downloads/">https://www.eclipse.org/downloads/</a></pre>
    </div>

    <div id="c79" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c79">Comment 79</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Michael Mangeng</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=mm&#64;vis.at" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=mm&#64;vis.at" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-10-03 03:37:28 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Dani Megert from <a href="show_bug.cgi?id=149121#c78">comment #78</a>)
<span class="quote">&gt; (In reply to Michael  Mangeng from <a href="show_bug.cgi?id=149121#c77">comment #77</a>)
&gt; &gt; happens on eclipse rcp luna sr1 also.
&gt; &gt; stacktrace of .log file:
&gt; &gt; java.lang.NoClassDefFoundError: org/eclipse/core/resources/IContainer
&gt; &gt; 	at
&gt; 
&gt; This indicates that something went wrong when you upgraded to SR1. I suggest
&gt; you download a new package from <a href="https://www.eclipse.org/downloads/">https://www.eclipse.org/downloads/</a></span >

hmm i don't think so because the real cause is the root cause and not the NoClassDefFoundError. Furthermore NoClassDefFoundError does not mean that the class is not available but that it could not be loaded because of another reason (see root exception).

problem must be related to this exception:
Caused by: org.eclipse.core.internal.dtree.ObjectNotFoundException: Tree element '/bluetooth_test/bin/bluetooth_test/Bluez.class' not found.
	at org.eclipse.core.internal.dtree.AbstractDataTree.handleNotFound(AbstractDataTree.java:257)
	at org.eclipse.core.internal.dtree.DeltaDataTree.getData(DeltaDataTree.java:585)

(the mentioned file is there). i also tried removing it and tried removing the .snap file - but this does not help.

i had been using luna-sr1 since the first day it was released. after i rebooted my pc and restarted eclipse today, this is what happened. i think something in the metadata of the workspace got scrambled.

i switched to a new workspace and now everything is working well again.

i kept the old workspace - so i can still investige this issue if somebody has questions.</pre>
    </div>

    <div id="c80" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c80">Comment 80</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Szymon Ptaszkiewicz</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=sptaszkiewicz&#64;gmail.com" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=sptaszkiewicz&#64;gmail.com" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-10-03 04:57:56 EDT
        </span>

      </div>




<pre class="bz_comment_text">(In reply to Michael  Mangeng from <a href="show_bug.cgi?id=149121#c79">comment #79</a>)
<span class="quote">&gt; i kept the old workspace - so i can still investige this issue if somebody
&gt; has questions.</span >

Please open a new bug against Platform/Resources and attach your workspace there. This bug has been fixed long ago so you are probably affected by a different problem that also leads to ObjectNotFoundException.</pre>
    </div>

    <div id="c81" class="bz_comment">

      <div class="bz_comment_head">


        <span class="bz_comment_number">
          <a 
             href="show_bug.cgi?id=149121#c81">Comment 81</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Andrey Loskutov</span> <a href="http://wiki.eclipse.org/ECA"><img class="cla_dec" src="https://accounts.eclipse.org/user/eca/badge?mail=loskutov&#64;gmx.de" alt="CLA" title="Eclipse Contributor Agreement" /></a> <a href="https://eclipse.org/donate/"><img class="cla_dec" src="//www.eclipse.org/donate/web-api/friends_decorator.php?email=loskutov&#64;gmx.de" alt="Friend" title="Friend of Eclipse" /></a>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2016-09-16 05:03:42 EDT
        </span>

      </div>




<pre class="bz_comment_text">*** <a class="bz_bug_link 
          bz_status_CLOSED  bz_closed"
   title="CLOSED DUPLICATE - Eclipse crashes with empty window after start"
   href="show_bug.cgi?id=474728">Bug 474728</a> has been marked as a duplicate of this bug. ***</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        

</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=149121">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=149121">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=149121">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>

<br>
</div>

    <div id="footer">
      <div class="intro"></div>
<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="describecomponents.cgi">Browse</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input type="hidden" id="no_redirect_bottom" name="no_redirect" value="0">
    <script type="text/javascript">
      if (history && history.replaceState) {
        var no_redirect = document.getElementById("no_redirect_bottom");
        no_redirect.value = 1;
      }
    </script>
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch" 
           title="Quick Search" value="">
    <input class="btn" type="submit" value="Search" 
           id="find_bottom"></form>
  <a href="page.cgi?id=quicksearch.html" title="Quicksearch Help">[?]</a></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li>
      <span class="separator">| </span>
        <a href="request.cgi">Requests</a></li>


  <li>
        <span class="separator">| </span>
        <a href="https://bugzilla.readthedocs.org/en/5.0/using/understanding.html" target="_blank">Help</a>
      </li>
    

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="show_bug.cgi?id=149121&amp;GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>

  <form action="show_bug.cgi?id=149121" method="POST"
        class="mini_login bz_default_hidden"
        id="mini_login_bottom">
    <input id="Bugzilla_login_bottom" required
           name="Bugzilla_login" class="bz_login"
        placeholder="Login">
    <input class="bz_password" name="Bugzilla_password" type="password"
           id="Bugzilla_password_bottom" required
           placeholder="Password">
    <input type="hidden" name="Bugzilla_login_token"
           value="">
    <input type="submit" name="GoAheadAndLogIn" value="Log in"
            id="log_in_bottom">
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li>
  <span class="separator">| </span>
  <li><a href="http://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li>
</ul>
  </li>

  




  
</ul>

      <div class="outro"></div>
    </div>

  </body>
</html>